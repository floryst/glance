!function(t,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var e=n();for(var r in e)("object"==typeof exports?exports:t)[r]=e[r]}}(window,function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=211)}({0:function(t,n,e){"use strict";e.r(n),function(t,r){e.d(n,"VOID",function(){return u}),e.d(n,"setLoggerFunction",function(){return f}),e.d(n,"vtkLogMacro",function(){return l}),e.d(n,"vtkInfoMacro",function(){return d}),e.d(n,"vtkDebugMacro",function(){return h}),e.d(n,"vtkErrorMacro",function(){return m}),e.d(n,"vtkWarningMacro",function(){return p}),e.d(n,"TYPED_ARRAYS",function(){return g}),e.d(n,"capitalize",function(){return y}),e.d(n,"uncapitalize",function(){return M}),e.d(n,"formatBytesToProperUnit",function(){return b}),e.d(n,"formatNumbersWithThousandSeparator",function(){return v}),e.d(n,"obj",function(){return x}),e.d(n,"get",function(){return O}),e.d(n,"set",function(){return E}),e.d(n,"setGet",function(){return k}),e.d(n,"getArray",function(){return N}),e.d(n,"setArray",function(){return S}),e.d(n,"setGetArray",function(){return C}),e.d(n,"algo",function(){return D}),e.d(n,"EVENT_ABORT",function(){return L}),e.d(n,"event",function(){return _}),e.d(n,"newInstance",function(){return P}),e.d(n,"chain",function(){return j}),e.d(n,"isVtkObject",function(){return F}),e.d(n,"traverseInstanceTree",function(){return B}),e.d(n,"debounce",function(){return R}),e.d(n,"throttle",function(){return q}),e.d(n,"keystore",function(){return $}),e.d(n,"proxy",function(){return V}),e.d(n,"proxyPropertyMapping",function(){return z}),e.d(n,"proxyPropertyState",function(){return J}),e.d(n,"normalizeWheel",function(){return H});var o=e(7);let a=0;const u=Symbol("void");const i={};function c(){}["log","debug","info","warn","error","time","timeEnd","group","groupEnd"].forEach(t=>{i[t]=c}),t.console=console.hasOwnProperty("log")?console:i;const s={debug:c,error:t.console.error||c,info:t.console.info||c,log:t.console.log||c,warn:t.console.warn||c};function f(t,n){s[t]&&(s[t]=n||c)}function l(...t){s.log(...t)}function d(...t){s.info(...t)}function h(...t){s.debug(...t)}function m(...t){s.error(...t)}function p(...t){s.warn(...t)}const g={Float32Array:Float32Array,Float64Array:Float64Array,Uint8Array:Uint8Array,Int8Array:Int8Array,Uint16Array:Uint16Array,Int16Array:Int16Array,Uint32Array:Uint32Array,Int32Array:Int32Array};function y(t){return t.charAt(0).toUpperCase()+t.slice(1)}function M(t){return t.charAt(0).toLowerCase()+t.slice(1)}function b(t,n=2,e=1e3){const r=["TB","GB","MB","KB"];let o=Number(t),a="B";for(;o>e;)o/=e,a=r.pop();return`${o.toFixed(n)} ${a}`}function v(t,n=" "){const e=[];let r=t;for(;r>1e3;)e.push(`000${r%1e3}`.slice(-3)),r=Math.floor(r/1e3);return r>0&&e.push(r),e.reverse(),e.join(n)}function I(t){Object.keys(t).forEach(n=>{Array.isArray(t[n])&&(t[n]=[].concat(t[n]))})}function A(t){return t.isA?t.getState():t}function x(t={},n={}){I(n);const e=[];function r(t){e[t]=null}return Number.isInteger(n.mtime)||(n.mtime=++a),n.classHierarchy=["vtkObject"],t.isDeleted=(()=>!!n.deleted),t.modified=(r=>{n.deleted?m("instance deleted - cannot call any method"):r&&r<t.getMTime()||(n.mtime=++a,e.forEach(n=>n&&n(t)))}),t.onModified=(t=>{if(n.deleted)return m("instance deleted - cannot call any method"),null;const o=e.length;return e.push(t),function(t){return Object.freeze({unsubscribe:function(){r(t)}})}(o)}),t.getMTime=(()=>n.mtime),t.isA=(t=>{let e=n.classHierarchy.length;for(;e--;)if(n.classHierarchy[e]===t)return!0;return!1}),t.getClassName=((t=0)=>n.classHierarchy[n.classHierarchy.length-1-t]),t.set=((e={},r=!1,o=!1)=>{let a=!1;return Object.keys(e).forEach(u=>{const i=o?null:t[`set${y(u)}`];i&&Array.isArray(e[u])?a=i(...e[u])||a:i?a=i(e[u])||a:(-1!==["mtime"].indexOf(u)||r||p(`Warning: Set value to model directly ${u}, ${e[u]}`),n[u]=e[u],a=!0)}),a}),t.get=((...t)=>{if(!t.length)return n;const e={};return t.forEach(t=>{e[t]=n[t]}),e}),t.getReferenceByName=(t=>n[t]),t.delete=(()=>{Object.keys(n).forEach(t=>delete n[t]),e.forEach((t,n)=>r(n)),n.deleted=!0}),t.getState=(()=>{const e=Object.assign({},n,{vtkClass:t.getClassName()});Object.keys(e).forEach(t=>{null===e[t]||void 0===e[t]?delete e[t]:e[t].isA?e[t]=e[t].getState():Array.isArray(e[t])&&(e[t]=e[t].map(A))});const r={};return Object.keys(e).sort().forEach(t=>{r[t]=e[t]}),r.mtime&&delete r.mtime,r}),t.shallowCopy=((e,r=!1)=>{if(e.getClassName()!==t.getClassName())throw new Error(`Cannot ShallowCopy ${e.getClassName()} into ${t.getClassName()}`);const o=e.get(),a=Object.keys(n).sort();Object.keys(o).sort().forEach(t=>{const e=a.indexOf(t);-1===e?r&&h(`add ${t} in shallowCopy`):a.splice(e,1),n[t]=o[t]}),a.length&&r&&h(`Untouched keys: ${a.join(", ")}`),t.modified()}),t}function O(t,n,e){e.forEach(e=>{"object"==typeof e?t[`get${y(e.name)}`]=(()=>n[e.name]):t[`get${y(e)}`]=(()=>n[e])})}const T={enum:(t,n,e)=>r=>{if("string"==typeof r){if(void 0!==e.enum[r])return n[e.name]!==e.enum[r]&&(n[e.name]=e.enum[r],t.modified(),!0);throw m(`Set Enum with invalid argument ${e}, ${r}`),new RangeError("Set Enum with invalid string argument")}if("number"==typeof r){if(n[e.name]!==r){if(-1!==Object.keys(e.enum).map(t=>e.enum[t]).indexOf(r))return n[e.name]=r,t.modified(),!0;throw m(`Set Enum outside numeric range ${e}, ${r}`),new RangeError("Set Enum outside numeric range")}return!1}throw m(`Set Enum with invalid argument (String/Number) ${e}, ${r}`),new TypeError("Set Enum with invalid argument (String/Number)")}};function w(t){if("object"==typeof t){const n=T[t.type];if(n)return(e,r)=>n(e,r,t);throw m(`No setter for field ${t}`),new TypeError("No setter for field")}return function(n,e){return function(r){return e.deleted?(m("instance deleted - cannot call any method"),!1):e[t]!==r&&(e[t]=r,n.modified(),!0)}}}function E(t,n,e){e.forEach(e=>{"object"==typeof e?t[`set${y(e.name)}`]=w(e)(t,n):t[`set${y(e)}`]=w(e)(t,n)})}function k(t,n,e){O(t,n,e),E(t,n,e)}function N(t,n,e){e.forEach(e=>{t[`get${y(e)}`]=(()=>[].concat(n[e])),t[`get${y(e)}ByReference`]=(()=>n[e])})}function S(t,n,e,r,o){e.forEach(e=>{t[`set${y(e)}`]=((...a)=>{if(n.deleted)return m("instance deleted - cannot call any method"),!1;let u=a;if(1===u.length&&Array.isArray(u[0])&&(u=u[0]),u.length!==r){if(!(u.length<r&&void 0!==o))throw new RangeError("Invalid number of values for array setter");for(u=[].concat(u);u.length<r;)u.push(o)}let i=!1;return n[e].forEach((t,n)=>{if(t!==u[n]){if(i)return;i=!0}}),(i||n[e].length!==u.length)&&(n[e]=[].concat(u),t.modified()),!0}),t[`set${y(e)}From`]=(t=>{const r=n[e];t.forEach((t,n)=>{r[n]=t})})})}function C(t,n,e,r,o){N(t,n,e),S(t,n,e,r,o)}function D(t,n,e,r){function a(e,r=0){if(n.deleted)m("instance deleted - cannot call any method");else{if(r>=n.numberOfInputs){let e=`algorithm ${t.getClassName()} only has `;return e+=`${n.numberOfInputs}`,void m(e+=" input ports. To add more input ports, use addInputData()")}(n.inputData[r]!==e||n.inputConnection[r])&&(n.inputData[r]=e,n.inputConnection[r]=null,t.modified&&t.modified())}}function u(e,r=0){if(n.deleted)m("instance deleted - cannot call any method");else{if(r>=n.numberOfInputs){let e=`algorithm ${t.getClassName()} only has `;return e+=`${n.numberOfInputs}`,void m(e+=" input ports. To add more input ports, use addInputConnection()")}n.inputData[r]=null,n.inputConnection[r]=e}}function i(e=0){return n.deleted?(m("instance deleted - cannot call any method"),null):(t.shouldUpdate()&&t.update(),n.output[e])}if(n.inputData?n.inputData=n.inputData.map(o.a):n.inputData=[],n.inputConnection?n.inputConnection=n.inputConnection.map(o.a):n.inputConnection=[],n.output?n.output=n.output.map(o.a):n.output=[],n.inputArrayToProcess?n.inputArrayToProcess=n.inputArrayToProcess.map(o.a):n.inputArrayToProcess=[],n.numberOfInputs=e,t.shouldUpdate=(()=>{const e=t.getMTime();let o=r,a=1/0;for(;o--;){if(!n.output[o])return!0;const t=n.output[o].getMTime();if(t<e)return!0;t<a&&(a=t)}for(o=n.numberOfInputs;o--;)if(n.inputConnection[o]&&n.inputConnection[o].filter.shouldUpdate())return!0;for(o=n.numberOfInputs;o--;)if(t.getInputData(o)&&t.getInputData(o).getMTime()>a)return!0;return!1}),n.numberOfInputs){let e=n.numberOfInputs;for(;e--;)n.inputData.push(null),n.inputConnection.push(null);t.setInputData=a,t.setInputConnection=u,t.addInputData=function(t){n.deleted?m("instance deleted - cannot call any method"):(n.numberOfInputs++,a(t,n.numberOfInputs-1))},t.addInputConnection=function(t){n.deleted?m("instance deleted - cannot call any method"):(n.numberOfInputs++,u(t,n.numberOfInputs-1))},t.getInputData=function(t=0){return n.inputConnection[t]&&(n.inputData[t]=n.inputConnection[t]()),n.inputData[t]},t.getInputConnection=function(t=0){return n.inputConnection[t]}}r&&(t.getOutputData=i,t.getOutputPort=function(n=0){const e=()=>i(n);return e.filter=t,e}),t.update=(()=>{const e=[];if(n.numberOfInputs){let r=0;for(;r<n.numberOfInputs;)e[r]=t.getInputData(r),r++}t.shouldUpdate()&&t.requestData&&t.requestData(e,n.output)}),t.getNumberOfInputPorts=(()=>n.numberOfInputs),t.getNumberOfOutputPorts=(()=>r),t.getInputArrayToProcess=(t=>{const e=n.inputArrayToProcess[t],r=n.inputData[t];return e&&r?r[`get${e.fieldAssociation}`]().getArray(e.arrayName):null}),t.setInputArrayToProcess=((t,e,r,o="Scalars")=>{for(;n.inputArrayToProcess.length<t;)n.inputArrayToProcess.push(null);n.inputArrayToProcess[t]={arrayName:e,fieldAssociation:r,attributeType:o}})}const L=Symbol("Event abort");function _(t,n,e){const r=[],o=t.delete;let a=1;function u(t){for(let n=0;n<r.length;++n){const[e]=r[n];if(e===t)return void r.splice(n,1)}}t[`invoke${y(e)}`]=function(){if(n.deleted)return void m("instance deleted - cannot call any method");const e=r.slice();for(let n=0;n<e.length;++n){const[,r,o]=e[n];if(o<0)setTimeout(()=>r.apply(t,arguments),1-o);else if(r&&r.apply(t,arguments)===L)break}},t[`on${y(e)}`]=((t,e=0)=>{if(n.deleted)return m("instance deleted - cannot call any method"),null;const o=a++;return r.push([o,t,e]),r.sort((t,n)=>n[2]-t[2]),function(t){return Object.freeze({unsubscribe:function(){u(t)}})}(o)}),t.delete=(()=>{o(),r.forEach(([t])=>u(t))})}function P(t,n){const e=(n={})=>{const e={};return t(e,{},n),Object.freeze(e)};return n&&o.a.register(n,e),e}function j(...t){return(...n)=>t.filter(t=>!!t).forEach(t=>t(...n))}function F(t){return t&&t.isA&&t.isA("vtkObject")}function B(t,n,e=[],r=[]){if(F(t)){if(r.indexOf(t)>=0)return e;r.push(t);const o=n(t);void 0!==o&&e.push(o);const a=t.get();Object.keys(a).forEach(t=>{const o=a[t];Array.isArray(o)?o.forEach(t=>{B(t,n,e,r)}):B(o,n,e,r)})}return e}function R(t,n,e){let r;return(...o)=>{const a=this,u=e&&!r;clearTimeout(r),r=setTimeout(()=>{r=null,e||t.apply(a,o)},n),u&&t.apply(a,o)}}function q(t,n){let e=!1,r=null;function o(){e=!1,null!==r&&(a(...r),r=null)}function a(...a){e?r=a:(e=!0,t(...a),setTimeout(o,n))}return a}function $(t,n,e={}){n.keystore=Object.assign(n.keystore||{},e),t.setKey=((t,e)=>{n.keystore[t]=e}),t.getKey=((t,e)=>n.keystore[t]),t.getAllKeys=((t,e)=>Object.keys(n.keystore)),t.deleteKey=((t,e)=>delete n.keystore[t]),t.clearKeystore=(()=>t.getAllKeys().forEach(t=>delete n.keystore[t]))}let G=1;const U="__root__";function V(t,n){$(t,n);const e=t.delete;n.proxyId=`${G++}`,n.ui=JSON.parse(JSON.stringify(n.ui||[])),O(t,n,["proxyId","proxyGroup","proxyName"]),k(t,n,["proxyManager"]);const o={},a={};function u(t,n){a[n]||(a[n]=[]);const e=a[n];for(let n=0;n<t.length;n++)e.push(t[n].name),o[t[n].name]=t[n],t[n].children&&t[n].children.length&&u(t[n].children,t[n].name)}function i(e=U){const r=[],o=n.proxyId,u=function(t=U){return a[t]}(e)||[];for(let n=0;n<u.length;n++){const e=u[n],a=t[`get${y(e)}`],c={id:o,name:e,value:a?a():void 0},s=i(e);s.length&&(c.children=s),r.push(c)}return r}u(n.ui,U),t.updateUI=(e=>{n.ui=JSON.parse(JSON.stringify(e||[])),Object.keys(o).forEach(t=>delete o[t]),Object.keys(a).forEach(t=>delete a[t]),u(n.ui,U),t.modified()}),t.updateProxyProperty=((t,n)=>{const e=o[t];e?Object.assign(e,n):o[t]=Object.assign({},n)}),t.activate=(()=>{if(n.proxyManager){const e=`setActive${y(t.getProxyGroup().slice(0,-1))}`;n.proxyManager[e]&&n.proxyManager[e](t)}}),n.propertyLinkSubscribers={},t.registerPropertyLinkForGC=((t,e)=>{e in n.propertyLinkSubscribers||(n.propertyLinkSubscribers[e]=[]),n.propertyLinkSubscribers[e].push(t)}),t.gcPropertyLinks=(e=>{const r=n.propertyLinkSubscribers[e]||[];for(;r.length;)r.pop().unbind(t)}),n.propertyLinkMap={},t.getPropertyLink=((t,e=!1)=>{if(n.propertyLinkMap[t])return n.propertyLinkMap[t];let r=null;const o=[];let a=0,u=!1;function i(e,i=!1){if(u)return null;const c=[];let s=null;for(a=o.length;a--;){const t=o[a];t.instance===e?s=t:c.push(t)}const f=s.instance[`get${y(s.propertyName)}`]();if(f!==r||i){for(r=f,u=!0;c.length;){const t=c.pop();t.instance.set({[t.propertyName]:r})}u=!1}return n.propertyLinkMap[t].persistent&&(n.propertyLinkMap[t].value=f),f}function c(t,n){const e=[];for(a=o.length;a--;){const r=o[a];r.instance!==t||r.propertyName!==n&&void 0!==n||(r.subscription.unsubscribe(),e.push(a))}for(;e.length;)o.splice(e.pop(),1)}const s={bind:function(e,r,a=!1){const u=e.onModified(i),s=o[0];return o.push({instance:e,propertyName:r,subscription:u}),a&&(n.propertyLinkMap[t].persistent&&void 0!==n.propertyLinkMap[t].value?e.set({[r]:n.propertyLinkMap[t].value}):s&&i(s.instance,!0)),{unsubscribe:()=>c(e,r)}},unbind:c,unsubscribe:function(){for(;o.length;)o.pop().subscription.unsubscribe()},persistent:e};return n.propertyLinkMap[t]=s,s}),t.listPropertyNames=(()=>i().map(t=>t.name)),t.getPropertyByName=(t=>i().find(n=>n.name===t)),t.getPropertyDomainByName=(t=>o[t].domain),t.getProxySection=(()=>({id:n.proxyId,name:n.proxyGroup,ui:n.ui,properties:i()})),t.delete=(()=>{const r=Object.keys(n.propertyLinkMap);let o=r.length;for(;o--;)n.propertyLinkMap[r[o]].unsubscribe();Object.keys(n.propertyLinkSubscribers).forEach(t.gcPropertyLinks),e()}),r(function(){if(n.links)for(let e=0;e<n.links.length;e++){const{link:r,property:o,persistent:a,updateOnBind:u,type:i}=n.links[e];if("application"===i){const e=n.proxyManager.getPropertyLink(r,a);t.registerPropertyLinkForGC(e,"application"),e.bind(t,o,u)}}})}function z(t,n,e){const r=t.delete,o=[],a=Object.keys(e);let u=a.length;for(;u--;){const r=a[u],{modelKey:i,property:c,modified:s=!0}=e[r],f=y(c),l=y(r);t[`get${l}`]=n[i][`get${f}`],t[`set${l}`]=n[i][`set${f}`],s&&o.push(n[i].onModified(t.modified))}t.delete=(()=>{for(;o.length;)o.pop().unsubscribe();r()})}function J(t,n,e={},r={}){function o(t){const e=Object.keys(t);let r=e.length;for(;r--;){const o=e[r];n[o].set(t[o])}}n.this=t;const a=Object.keys(r);let u=a.length;for(;u--;){const i=a[u];n[i]=r[i];const c=e[i];t[`set${y(i)}`]=(e=>{if(e!==n[i]){n[i]=e,o(c[e]),t.modified()}})}a.length&&O(t,n,a)}const X=10,Y=40,W=800;function H(t){let n=0,e=0,r=0,o=0;return"detail"in t&&(e=t.detail),"wheelDelta"in t&&(e=-t.wheelDelta/120),"wheelDeltaY"in t&&(e=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(n=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(n=e,e=0),r=n*X,o=e*X,"deltaY"in t&&(o=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||o)&&t.deltaMode&&(1===t.deltaMode?(r*=Y,o*=Y):(r*=W,o*=W)),r&&!n&&(n=r<1?-1:1),o&&!e&&(e=o<1?-1:1),{spinX:n,spinY:e,pixelX:r,pixelY:o}}n.default={EVENT_ABORT:L,VOID:u,TYPED_ARRAYS:g,algo:D,capitalize:y,uncapitalize:M,chain:j,enumToString:function(t,n){return Object.keys(t).find(e=>t[e]===n)},event:_,get:O,getArray:N,getCurrentGlobalMTime:function(){return a},getStateArrayMapFunc:A,isVtkObject:F,keystore:$,newInstance:P,obj:x,safeArrays:I,set:E,setArray:S,setGet:k,setGetArray:C,setLoggerFunction:f,traverseInstanceTree:B,vtkDebugMacro:h,vtkErrorMacro:m,vtkInfoMacro:d,vtkLogMacro:l,vtkWarningMacro:p,debounce:R,throttle:q,proxy:V,proxyPropertyMapping:z,proxyPropertyState:J,formatBytesToProperUnit:b,formatNumbersWithThousandSeparator:v,normalizeWheel:H}}.call(this,e(15),e(44).setImmediate)},1:function(t,n,e){"use strict";var r={};e.d(r,"EPSILON",function(){return h}),e.d(r,"ARRAY_TYPE",function(){return m}),e.d(r,"RANDOM",function(){return p}),e.d(r,"setMatrixArrayType",function(){return g}),e.d(r,"toRadian",function(){return M}),e.d(r,"equals",function(){return b});var o={};e.d(o,"create",function(){return v}),e.d(o,"clone",function(){return I}),e.d(o,"copy",function(){return A}),e.d(o,"identity",function(){return x}),e.d(o,"fromValues",function(){return O}),e.d(o,"set",function(){return T}),e.d(o,"transpose",function(){return w}),e.d(o,"invert",function(){return E}),e.d(o,"adjoint",function(){return k}),e.d(o,"determinant",function(){return N}),e.d(o,"multiply",function(){return S}),e.d(o,"rotate",function(){return C}),e.d(o,"scale",function(){return D}),e.d(o,"fromRotation",function(){return L}),e.d(o,"fromScaling",function(){return _}),e.d(o,"str",function(){return P}),e.d(o,"frob",function(){return j}),e.d(o,"LDU",function(){return F}),e.d(o,"add",function(){return B}),e.d(o,"subtract",function(){return R}),e.d(o,"exactEquals",function(){return q}),e.d(o,"equals",function(){return $}),e.d(o,"multiplyScalar",function(){return G}),e.d(o,"multiplyScalarAndAdd",function(){return U}),e.d(o,"mul",function(){return V}),e.d(o,"sub",function(){return z});var a={};e.d(a,"create",function(){return J}),e.d(a,"clone",function(){return X}),e.d(a,"copy",function(){return Y}),e.d(a,"identity",function(){return W}),e.d(a,"fromValues",function(){return H}),e.d(a,"set",function(){return K}),e.d(a,"invert",function(){return Z}),e.d(a,"determinant",function(){return Q}),e.d(a,"multiply",function(){return tt}),e.d(a,"rotate",function(){return nt}),e.d(a,"scale",function(){return et}),e.d(a,"translate",function(){return rt}),e.d(a,"fromRotation",function(){return ot}),e.d(a,"fromScaling",function(){return at}),e.d(a,"fromTranslation",function(){return ut}),e.d(a,"str",function(){return it}),e.d(a,"frob",function(){return ct}),e.d(a,"add",function(){return st}),e.d(a,"subtract",function(){return ft}),e.d(a,"multiplyScalar",function(){return lt}),e.d(a,"multiplyScalarAndAdd",function(){return dt}),e.d(a,"exactEquals",function(){return ht}),e.d(a,"equals",function(){return mt}),e.d(a,"mul",function(){return pt}),e.d(a,"sub",function(){return gt});var u={};e.d(u,"create",function(){return yt}),e.d(u,"fromMat4",function(){return Mt}),e.d(u,"clone",function(){return bt}),e.d(u,"copy",function(){return vt}),e.d(u,"fromValues",function(){return It}),e.d(u,"set",function(){return At}),e.d(u,"identity",function(){return xt}),e.d(u,"transpose",function(){return Ot}),e.d(u,"invert",function(){return Tt}),e.d(u,"adjoint",function(){return wt}),e.d(u,"determinant",function(){return Et}),e.d(u,"multiply",function(){return kt}),e.d(u,"translate",function(){return Nt}),e.d(u,"rotate",function(){return St}),e.d(u,"scale",function(){return Ct}),e.d(u,"fromTranslation",function(){return Dt}),e.d(u,"fromRotation",function(){return Lt}),e.d(u,"fromScaling",function(){return _t}),e.d(u,"fromMat2d",function(){return Pt}),e.d(u,"fromQuat",function(){return jt}),e.d(u,"normalFromMat4",function(){return Ft}),e.d(u,"projection",function(){return Bt}),e.d(u,"str",function(){return Rt}),e.d(u,"frob",function(){return qt}),e.d(u,"add",function(){return $t}),e.d(u,"subtract",function(){return Gt}),e.d(u,"multiplyScalar",function(){return Ut}),e.d(u,"multiplyScalarAndAdd",function(){return Vt}),e.d(u,"exactEquals",function(){return zt}),e.d(u,"equals",function(){return Jt}),e.d(u,"mul",function(){return Xt}),e.d(u,"sub",function(){return Yt});var i={};e.d(i,"create",function(){return Wt}),e.d(i,"clone",function(){return Ht}),e.d(i,"copy",function(){return Kt}),e.d(i,"fromValues",function(){return Zt}),e.d(i,"set",function(){return Qt}),e.d(i,"identity",function(){return tn}),e.d(i,"transpose",function(){return nn}),e.d(i,"invert",function(){return en}),e.d(i,"adjoint",function(){return rn}),e.d(i,"determinant",function(){return on}),e.d(i,"multiply",function(){return an}),e.d(i,"translate",function(){return un}),e.d(i,"scale",function(){return cn}),e.d(i,"rotate",function(){return sn}),e.d(i,"rotateX",function(){return fn}),e.d(i,"rotateY",function(){return ln}),e.d(i,"rotateZ",function(){return dn}),e.d(i,"fromTranslation",function(){return hn}),e.d(i,"fromScaling",function(){return mn}),e.d(i,"fromRotation",function(){return pn}),e.d(i,"fromXRotation",function(){return gn}),e.d(i,"fromYRotation",function(){return yn}),e.d(i,"fromZRotation",function(){return Mn}),e.d(i,"fromRotationTranslation",function(){return bn}),e.d(i,"fromQuat2",function(){return vn}),e.d(i,"getTranslation",function(){return In}),e.d(i,"getScaling",function(){return An}),e.d(i,"getRotation",function(){return xn}),e.d(i,"fromRotationTranslationScale",function(){return On}),e.d(i,"fromRotationTranslationScaleOrigin",function(){return Tn}),e.d(i,"fromQuat",function(){return wn}),e.d(i,"frustum",function(){return En}),e.d(i,"perspective",function(){return kn}),e.d(i,"perspectiveFromFieldOfView",function(){return Nn}),e.d(i,"ortho",function(){return Sn}),e.d(i,"lookAt",function(){return Cn}),e.d(i,"targetTo",function(){return Dn}),e.d(i,"str",function(){return Ln}),e.d(i,"frob",function(){return _n}),e.d(i,"add",function(){return Pn}),e.d(i,"subtract",function(){return jn}),e.d(i,"multiplyScalar",function(){return Fn}),e.d(i,"multiplyScalarAndAdd",function(){return Bn}),e.d(i,"exactEquals",function(){return Rn}),e.d(i,"equals",function(){return qn}),e.d(i,"mul",function(){return $n}),e.d(i,"sub",function(){return Gn});var c={};e.d(c,"create",function(){return Un}),e.d(c,"clone",function(){return Vn}),e.d(c,"length",function(){return zn}),e.d(c,"fromValues",function(){return Jn}),e.d(c,"copy",function(){return Xn}),e.d(c,"set",function(){return Yn}),e.d(c,"add",function(){return Wn}),e.d(c,"subtract",function(){return Hn}),e.d(c,"multiply",function(){return Kn}),e.d(c,"divide",function(){return Zn}),e.d(c,"ceil",function(){return Qn}),e.d(c,"floor",function(){return te}),e.d(c,"min",function(){return ne}),e.d(c,"max",function(){return ee}),e.d(c,"round",function(){return re}),e.d(c,"scale",function(){return oe}),e.d(c,"scaleAndAdd",function(){return ae}),e.d(c,"distance",function(){return ue}),e.d(c,"squaredDistance",function(){return ie}),e.d(c,"squaredLength",function(){return ce}),e.d(c,"negate",function(){return se}),e.d(c,"inverse",function(){return fe}),e.d(c,"normalize",function(){return le}),e.d(c,"dot",function(){return de}),e.d(c,"cross",function(){return he}),e.d(c,"lerp",function(){return me}),e.d(c,"hermite",function(){return pe}),e.d(c,"bezier",function(){return ge}),e.d(c,"random",function(){return ye}),e.d(c,"transformMat4",function(){return Me}),e.d(c,"transformMat3",function(){return be}),e.d(c,"transformQuat",function(){return ve}),e.d(c,"rotateX",function(){return Ie}),e.d(c,"rotateY",function(){return Ae}),e.d(c,"rotateZ",function(){return xe}),e.d(c,"angle",function(){return Oe}),e.d(c,"str",function(){return Te}),e.d(c,"exactEquals",function(){return we}),e.d(c,"equals",function(){return Ee}),e.d(c,"sub",function(){return ke}),e.d(c,"mul",function(){return Ne}),e.d(c,"div",function(){return Se}),e.d(c,"dist",function(){return Ce}),e.d(c,"sqrDist",function(){return De}),e.d(c,"len",function(){return Le}),e.d(c,"sqrLen",function(){return _e}),e.d(c,"forEach",function(){return Pe});var s={};e.d(s,"create",function(){return je}),e.d(s,"clone",function(){return Fe}),e.d(s,"fromValues",function(){return Be}),e.d(s,"copy",function(){return Re}),e.d(s,"set",function(){return qe}),e.d(s,"add",function(){return $e}),e.d(s,"subtract",function(){return Ge}),e.d(s,"multiply",function(){return Ue}),e.d(s,"divide",function(){return Ve}),e.d(s,"ceil",function(){return ze}),e.d(s,"floor",function(){return Je}),e.d(s,"min",function(){return Xe}),e.d(s,"max",function(){return Ye}),e.d(s,"round",function(){return We}),e.d(s,"scale",function(){return He}),e.d(s,"scaleAndAdd",function(){return Ke}),e.d(s,"distance",function(){return Ze}),e.d(s,"squaredDistance",function(){return Qe}),e.d(s,"length",function(){return tr}),e.d(s,"squaredLength",function(){return nr}),e.d(s,"negate",function(){return er}),e.d(s,"inverse",function(){return rr}),e.d(s,"normalize",function(){return or}),e.d(s,"dot",function(){return ar}),e.d(s,"lerp",function(){return ur}),e.d(s,"random",function(){return ir}),e.d(s,"transformMat4",function(){return cr}),e.d(s,"transformQuat",function(){return sr}),e.d(s,"str",function(){return fr}),e.d(s,"exactEquals",function(){return lr}),e.d(s,"equals",function(){return dr}),e.d(s,"sub",function(){return hr}),e.d(s,"mul",function(){return mr}),e.d(s,"div",function(){return pr}),e.d(s,"dist",function(){return gr}),e.d(s,"sqrDist",function(){return yr}),e.d(s,"len",function(){return Mr}),e.d(s,"sqrLen",function(){return br}),e.d(s,"forEach",function(){return vr});var f={};e.d(f,"create",function(){return Ir}),e.d(f,"identity",function(){return Ar}),e.d(f,"setAxisAngle",function(){return xr}),e.d(f,"getAxisAngle",function(){return Or}),e.d(f,"multiply",function(){return Tr}),e.d(f,"rotateX",function(){return wr}),e.d(f,"rotateY",function(){return Er}),e.d(f,"rotateZ",function(){return kr}),e.d(f,"calculateW",function(){return Nr}),e.d(f,"slerp",function(){return Sr}),e.d(f,"invert",function(){return Cr}),e.d(f,"conjugate",function(){return Dr}),e.d(f,"fromMat3",function(){return Lr}),e.d(f,"fromEuler",function(){return _r}),e.d(f,"str",function(){return Pr}),e.d(f,"clone",function(){return jr}),e.d(f,"fromValues",function(){return Fr}),e.d(f,"copy",function(){return Br}),e.d(f,"set",function(){return Rr}),e.d(f,"add",function(){return qr}),e.d(f,"mul",function(){return $r}),e.d(f,"scale",function(){return Gr}),e.d(f,"dot",function(){return Ur}),e.d(f,"lerp",function(){return Vr}),e.d(f,"length",function(){return zr}),e.d(f,"len",function(){return Jr}),e.d(f,"squaredLength",function(){return Xr}),e.d(f,"sqrLen",function(){return Yr}),e.d(f,"normalize",function(){return Wr}),e.d(f,"exactEquals",function(){return Hr}),e.d(f,"equals",function(){return Kr}),e.d(f,"rotationTo",function(){return Zr}),e.d(f,"sqlerp",function(){return Qr}),e.d(f,"setAxes",function(){return to});var l={};e.d(l,"create",function(){return no}),e.d(l,"clone",function(){return eo}),e.d(l,"fromValues",function(){return ro}),e.d(l,"fromRotationTranslationValues",function(){return oo}),e.d(l,"fromRotationTranslation",function(){return ao}),e.d(l,"fromTranslation",function(){return uo}),e.d(l,"fromRotation",function(){return io}),e.d(l,"fromMat4",function(){return co}),e.d(l,"copy",function(){return so}),e.d(l,"identity",function(){return fo}),e.d(l,"set",function(){return lo}),e.d(l,"getReal",function(){return ho}),e.d(l,"getDual",function(){return mo}),e.d(l,"setReal",function(){return po}),e.d(l,"setDual",function(){return go}),e.d(l,"getTranslation",function(){return yo}),e.d(l,"translate",function(){return Mo}),e.d(l,"rotateX",function(){return bo}),e.d(l,"rotateY",function(){return vo}),e.d(l,"rotateZ",function(){return Io}),e.d(l,"rotateByQuatAppend",function(){return Ao}),e.d(l,"rotateByQuatPrepend",function(){return xo}),e.d(l,"rotateAroundAxis",function(){return Oo}),e.d(l,"add",function(){return To}),e.d(l,"multiply",function(){return wo}),e.d(l,"mul",function(){return Eo}),e.d(l,"scale",function(){return ko}),e.d(l,"dot",function(){return No}),e.d(l,"lerp",function(){return So}),e.d(l,"invert",function(){return Co}),e.d(l,"conjugate",function(){return Do}),e.d(l,"length",function(){return Lo}),e.d(l,"len",function(){return _o}),e.d(l,"squaredLength",function(){return Po}),e.d(l,"sqrLen",function(){return jo}),e.d(l,"normalize",function(){return Fo}),e.d(l,"str",function(){return Bo}),e.d(l,"exactEquals",function(){return Ro}),e.d(l,"equals",function(){return qo});var d={};e.d(d,"create",function(){return $o}),e.d(d,"clone",function(){return Go}),e.d(d,"fromValues",function(){return Uo}),e.d(d,"copy",function(){return Vo}),e.d(d,"set",function(){return zo}),e.d(d,"add",function(){return Jo}),e.d(d,"subtract",function(){return Xo}),e.d(d,"multiply",function(){return Yo}),e.d(d,"divide",function(){return Wo}),e.d(d,"ceil",function(){return Ho}),e.d(d,"floor",function(){return Ko}),e.d(d,"min",function(){return Zo}),e.d(d,"max",function(){return Qo}),e.d(d,"round",function(){return ta}),e.d(d,"scale",function(){return na}),e.d(d,"scaleAndAdd",function(){return ea}),e.d(d,"distance",function(){return ra}),e.d(d,"squaredDistance",function(){return oa}),e.d(d,"length",function(){return aa}),e.d(d,"squaredLength",function(){return ua}),e.d(d,"negate",function(){return ia}),e.d(d,"inverse",function(){return ca}),e.d(d,"normalize",function(){return sa}),e.d(d,"dot",function(){return fa}),e.d(d,"cross",function(){return la}),e.d(d,"lerp",function(){return da}),e.d(d,"random",function(){return ha}),e.d(d,"transformMat2",function(){return ma}),e.d(d,"transformMat2d",function(){return pa}),e.d(d,"transformMat3",function(){return ga}),e.d(d,"transformMat4",function(){return ya}),e.d(d,"str",function(){return Ma}),e.d(d,"exactEquals",function(){return ba}),e.d(d,"equals",function(){return va}),e.d(d,"len",function(){return Ia}),e.d(d,"sub",function(){return Aa}),e.d(d,"mul",function(){return xa}),e.d(d,"div",function(){return Oa}),e.d(d,"dist",function(){return Ta}),e.d(d,"sqrDist",function(){return wa}),e.d(d,"sqrLen",function(){return Ea}),e.d(d,"forEach",function(){return ka});const h=1e-6;let m="undefined"!=typeof Float32Array?Float32Array:Array;const p=Math.random;function g(t){m=t}const y=Math.PI/180;function M(t){return t*y}function b(t,n){return Math.abs(t-n)<=h*Math.max(1,Math.abs(t),Math.abs(n))}function v(){let t=new m(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function I(t){let n=new m(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}function A(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function x(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function O(t,n,e,r){let o=new m(4);return o[0]=t,o[1]=n,o[2]=e,o[3]=r,o}function T(t,n,e,r,o){return t[0]=n,t[1]=e,t[2]=r,t[3]=o,t}function w(t,n){if(t===n){let e=n[1];t[1]=n[2],t[2]=e}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t}function E(t,n){let e=n[0],r=n[1],o=n[2],a=n[3],u=e*a-o*r;return u?(u=1/u,t[0]=a*u,t[1]=-r*u,t[2]=-o*u,t[3]=e*u,t):null}function k(t,n){let e=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=e,t}function N(t){return t[0]*t[3]-t[2]*t[1]}function S(t,n,e){let r=n[0],o=n[1],a=n[2],u=n[3],i=e[0],c=e[1],s=e[2],f=e[3];return t[0]=r*i+a*c,t[1]=o*i+u*c,t[2]=r*s+a*f,t[3]=o*s+u*f,t}function C(t,n,e){let r=n[0],o=n[1],a=n[2],u=n[3],i=Math.sin(e),c=Math.cos(e);return t[0]=r*c+a*i,t[1]=o*c+u*i,t[2]=r*-i+a*c,t[3]=o*-i+u*c,t}function D(t,n,e){let r=n[0],o=n[1],a=n[2],u=n[3],i=e[0],c=e[1];return t[0]=r*i,t[1]=o*i,t[2]=a*c,t[3]=u*c,t}function L(t,n){let e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=-e,t[3]=r,t}function _(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t}function P(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function j(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function F(t,n,e,r){return t[2]=r[2]/r[0],e[0]=r[0],e[1]=r[1],e[3]=r[3]-t[2]*e[1],[t,n,e]}function B(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t}function R(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t}function q(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function $(t,n){let e=t[0],r=t[1],o=t[2],a=t[3],u=n[0],i=n[1],c=n[2],s=n[3];return Math.abs(e-u)<=h*Math.max(1,Math.abs(e),Math.abs(u))&&Math.abs(r-i)<=h*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(o-c)<=h*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(a-s)<=h*Math.max(1,Math.abs(a),Math.abs(s))}function G(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t}function U(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t}const V=S,z=R;function J(){let t=new m(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function X(t){let n=new m(6);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n}function Y(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t}function W(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function H(t,n,e,r,o,a){let u=new m(6);return u[0]=t,u[1]=n,u[2]=e,u[3]=r,u[4]=o,u[5]=a,u}function K(t,n,e,r,o,a,u){return t[0]=n,t[1]=e,t[2]=r,t[3]=o,t[4]=a,t[5]=u,t}function Z(t,n){let e=n[0],r=n[1],o=n[2],a=n[3],u=n[4],i=n[5],c=e*a-r*o;return c?(c=1/c,t[0]=a*c,t[1]=-r*c,t[2]=-o*c,t[3]=e*c,t[4]=(o*i-a*u)*c,t[5]=(r*u-e*i)*c,t):null}function Q(t){return t[0]*t[3]-t[1]*t[2]}function tt(t,n,e){let r=n[0],o=n[1],a=n[2],u=n[3],i=n[4],c=n[5],s=e[0],f=e[1],l=e[2],d=e[3],h=e[4],m=e[5];return t[0]=r*s+a*f,t[1]=o*s+u*f,t[2]=r*l+a*d,t[3]=o*l+u*d,t[4]=r*h+a*m+i,t[5]=o*h+u*m+c,t}function nt(t,n,e){let r=n[0],o=n[1],a=n[2],u=n[3],i=n[4],c=n[5],s=Math.sin(e),f=Math.cos(e);return t[0]=r*f+a*s,t[1]=o*f+u*s,t[2]=r*-s+a*f,t[3]=o*-s+u*f,t[4]=i,t[5]=c,t}function et(t,n,e){let r=n[0],o=n[1],a=n[2],u=n[3],i=n[4],c=n[5],s=e[0],f=e[1];return t[0]=r*s,t[1]=o*s,t[2]=a*f,t[3]=u*f,t[4]=i,t[5]=c,t}function rt(t,n,e){let r=n[0],o=n[1],a=n[2],u=n[3],i=n[4],c=n[5],s=e[0],f=e[1];return t[0]=r,t[1]=o,t[2]=a,t[3]=u,t[4]=r*s+a*f+i,t[5]=o*s+u*f+c,t}function ot(t,n){let e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=-e,t[3]=r,t[4]=0,t[5]=0,t}function at(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t[4]=0,t[5]=0,t}function ut(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=n[0],t[5]=n[1],t}function it(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function ct(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)}function st(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t}function ft(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t}function lt(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t}function dt(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t[4]=n[4]+e[4]*r,t[5]=n[5]+e[5]*r,t}function ht(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]}function mt(t,n){let e=t[0],r=t[1],o=t[2],a=t[3],u=t[4],i=t[5],c=n[0],s=n[1],f=n[2],l=n[3],d=n[4],m=n[5];return Math.abs(e-c)<=h*Math.max(1,Math.abs(e),Math.abs(c))&&Math.abs(r-s)<=h*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(o-f)<=h*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(a-l)<=h*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(u-d)<=h*Math.max(1,Math.abs(u),Math.abs(d))&&Math.abs(i-m)<=h*Math.max(1,Math.abs(i),Math.abs(m))}const pt=tt,gt=ft;function yt(){let t=new m(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Mt(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t}function bt(t){let n=new m(9);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n}function vt(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t}function It(t,n,e,r,o,a,u,i,c){let s=new m(9);return s[0]=t,s[1]=n,s[2]=e,s[3]=r,s[4]=o,s[5]=a,s[6]=u,s[7]=i,s[8]=c,s}function At(t,n,e,r,o,a,u,i,c,s){return t[0]=n,t[1]=e,t[2]=r,t[3]=o,t[4]=a,t[5]=u,t[6]=i,t[7]=c,t[8]=s,t}function xt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ot(t,n){if(t===n){let e=n[1],r=n[2],o=n[5];t[1]=n[3],t[2]=n[6],t[3]=e,t[5]=n[7],t[6]=r,t[7]=o}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t}function Tt(t,n){let e=n[0],r=n[1],o=n[2],a=n[3],u=n[4],i=n[5],c=n[6],s=n[7],f=n[8],l=f*u-i*s,d=-f*a+i*c,h=s*a-u*c,m=e*l+r*d+o*h;return m?(m=1/m,t[0]=l*m,t[1]=(-f*r+o*s)*m,t[2]=(i*r-o*u)*m,t[3]=d*m,t[4]=(f*e-o*c)*m,t[5]=(-i*e+o*a)*m,t[6]=h*m,t[7]=(-s*e+r*c)*m,t[8]=(u*e-r*a)*m,t):null}function wt(t,n){let e=n[0],r=n[1],o=n[2],a=n[3],u=n[4],i=n[5],c=n[6],s=n[7],f=n[8];return t[0]=u*f-i*s,t[1]=o*s-r*f,t[2]=r*i-o*u,t[3]=i*c-a*f,t[4]=e*f-o*c,t[5]=o*a-e*i,t[6]=a*s-u*c,t[7]=r*c-e*s,t[8]=e*u-r*a,t}function Et(t){let n=t[0],e=t[1],r=t[2],o=t[3],a=t[4],u=t[5],i=t[6],c=t[7],s=t[8];return n*(s*a-u*c)+e*(-s*o+u*i)+r*(c*o-a*i)}function kt(t,n,e){let r=n[0],o=n[1],a=n[2],u=n[3],i=n[4],c=n[5],s=n[6],f=n[7],l=n[8],d=e[0],h=e[1],m=e[2],p=e[3],g=e[4],y=e[5],M=e[6],b=e[7],v=e[8];return t[0]=d*r+h*u+m*s,t[1]=d*o+h*i+m*f,t[2]=d*a+h*c+m*l,t[3]=p*r+g*u+y*s,t[4]=p*o+g*i+y*f,t[5]=p*a+g*c+y*l,t[6]=M*r+b*u+v*s,t[7]=M*o+b*i+v*f,t[8]=M*a+b*c+v*l,t}function Nt(t,n,e){let r=n[0],o=n[1],a=n[2],u=n[3],i=n[4],c=n[5],s=n[6],f=n[7],l=n[8],d=e[0],h=e[1];return t[0]=r,t[1]=o,t[2]=a,t[3]=u,t[4]=i,t[5]=c,t[6]=d*r+h*u+s,t[7]=d*o+h*i+f,t[8]=d*a+h*c+l,t}function St(t,n,e){let r=n[0],o=n[1],a=n[2],u=n[3],i=n[4],c=n[5],s=n[6],f=n[7],l=n[8],d=Math.sin(e),h=Math.cos(e);return t[0]=h*r+d*u,t[1]=h*o+d*i,t[2]=h*a+d*c,t[3]=h*u-d*r,t[4]=h*i-d*o,t[5]=h*c-d*a,t[6]=s,t[7]=f,t[8]=l,t}function Ct(t,n,e){let r=e[0],o=e[1];return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=o*n[3],t[4]=o*n[4],t[5]=o*n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t}function Dt(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=n[0],t[7]=n[1],t[8]=1,t}function Lt(t,n){let e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=0,t[3]=-e,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function _t(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=n[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Pt(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t}function jt(t,n){let e=n[0],r=n[1],o=n[2],a=n[3],u=e+e,i=r+r,c=o+o,s=e*u,f=r*u,l=r*i,d=o*u,h=o*i,m=o*c,p=a*u,g=a*i,y=a*c;return t[0]=1-l-m,t[3]=f-y,t[6]=d+g,t[1]=f+y,t[4]=1-s-m,t[7]=h-p,t[2]=d-g,t[5]=h+p,t[8]=1-s-l,t}function Ft(t,n){let e=n[0],r=n[1],o=n[2],a=n[3],u=n[4],i=n[5],c=n[6],s=n[7],f=n[8],l=n[9],d=n[10],h=n[11],m=n[12],p=n[13],g=n[14],y=n[15],M=e*i-r*u,b=e*c-o*u,v=e*s-a*u,I=r*c-o*i,A=r*s-a*i,x=o*s-a*c,O=f*p-l*m,T=f*g-d*m,w=f*y-h*m,E=l*g-d*p,k=l*y-h*p,N=d*y-h*g,S=M*N-b*k+v*E+I*w-A*T+x*O;return S?(S=1/S,t[0]=(i*N-c*k+s*E)*S,t[1]=(c*w-u*N-s*T)*S,t[2]=(u*k-i*w+s*O)*S,t[3]=(o*k-r*N-a*E)*S,t[4]=(e*N-o*w+a*T)*S,t[5]=(r*w-e*k-a*O)*S,t[6]=(p*x-g*A+y*I)*S,t[7]=(g*v-m*x-y*b)*S,t[8]=(m*A-p*v+y*M)*S,t):null}function Bt(t,n,e){return t[0]=2/n,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/e,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Rt(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function qt(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))}function $t(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t[8]=n[8]+e[8],t}function Gt(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t[6]=n[6]-e[6],t[7]=n[7]-e[7],t[8]=n[8]-e[8],t}function Ut(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t[8]=n[8]*e,t}function Vt(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t[4]=n[4]+e[4]*r,t[5]=n[5]+e[5]*r,t[6]=n[6]+e[6]*r,t[7]=n[7]+e[7]*r,t[8]=n[8]+e[8]*r,t}function zt(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]}function Jt(t,n){let e=t[0],r=t[1],o=t[2],a=t[3],u=t[4],i=t[5],c=t[6],s=t[7],f=t[8],l=n[0],d=n[1],m=n[2],p=n[3],g=n[4],y=n[5],M=n[6],b=n[7],v=n[8];return Math.abs(e-l)<=h*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(r-d)<=h*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(o-m)<=h*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(a-p)<=h*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(u-g)<=h*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(i-y)<=h*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(c-M)<=h*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(s-b)<=h*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(f-v)<=h*Math.max(1,Math.abs(f),Math.abs(v))}const Xt=kt,Yt=Gt;function Wt(){let t=new m(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Ht(t){let n=new m(16);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n}function Kt(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function Zt(t,n,e,r,o,a,u,i,c,s,f,l,d,h,p,g){let y=new m(16);return y[0]=t,y[1]=n,y[2]=e,y[3]=r,y[4]=o,y[5]=a,y[6]=u,y[7]=i,y[8]=c,y[9]=s,y[10]=f,y[11]=l,y[12]=d,y[13]=h,y[14]=p,y[15]=g,y}function Qt(t,n,e,r,o,a,u,i,c,s,f,l,d,h,m,p,g){return t[0]=n,t[1]=e,t[2]=r,t[3]=o,t[4]=a,t[5]=u,t[6]=i,t[7]=c,t[8]=s,t[9]=f,t[10]=l,t[11]=d,t[12]=h,t[13]=m,t[14]=p,t[15]=g,t}function tn(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function nn(t,n){if(t===n){let e=n[1],r=n[2],o=n[3],a=n[6],u=n[7],i=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=e,t[6]=n[9],t[7]=n[13],t[8]=r,t[9]=a,t[11]=n[14],t[12]=o,t[13]=u,t[14]=i}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t}function en(t,n){let e=n[0],r=n[1],o=n[2],a=n[3],u=n[4],i=n[5],c=n[6],s=n[7],f=n[8],l=n[9],d=n[10],h=n[11],m=n[12],p=n[13],g=n[14],y=n[15],M=e*i-r*u,b=e*c-o*u,v=e*s-a*u,I=r*c-o*i,A=r*s-a*i,x=o*s-a*c,O=f*p-l*m,T=f*g-d*m,w=f*y-h*m,E=l*g-d*p,k=l*y-h*p,N=d*y-h*g,S=M*N-b*k+v*E+I*w-A*T+x*O;return S?(S=1/S,t[0]=(i*N-c*k+s*E)*S,t[1]=(o*k-r*N-a*E)*S,t[2]=(p*x-g*A+y*I)*S,t[3]=(d*A-l*x-h*I)*S,t[4]=(c*w-u*N-s*T)*S,t[5]=(e*N-o*w+a*T)*S,t[6]=(g*v-m*x-y*b)*S,t[7]=(f*x-d*v+h*b)*S,t[8]=(u*k-i*w+s*O)*S,t[9]=(r*w-e*k-a*O)*S,t[10]=(m*A-p*v+y*M)*S,t[11]=(l*v-f*A-h*M)*S,t[12]=(i*T-u*E-c*O)*S,t[13]=(e*E-r*T+o*O)*S,t[14]=(p*b-m*I-g*M)*S,t[15]=(f*I-l*b+d*M)*S,t):null}function rn(t,n){let e=n[0],r=n[1],o=n[2],a=n[3],u=n[4],i=n[5],c=n[6],s=n[7],f=n[8],l=n[9],d=n[10],h=n[11],m=n[12],p=n[13],g=n[14],y=n[15];return t[0]=i*(d*y-h*g)-l*(c*y-s*g)+p*(c*h-s*d),t[1]=-(r*(d*y-h*g)-l*(o*y-a*g)+p*(o*h-a*d)),t[2]=r*(c*y-s*g)-i*(o*y-a*g)+p*(o*s-a*c),t[3]=-(r*(c*h-s*d)-i*(o*h-a*d)+l*(o*s-a*c)),t[4]=-(u*(d*y-h*g)-f*(c*y-s*g)+m*(c*h-s*d)),t[5]=e*(d*y-h*g)-f*(o*y-a*g)+m*(o*h-a*d),t[6]=-(e*(c*y-s*g)-u*(o*y-a*g)+m*(o*s-a*c)),t[7]=e*(c*h-s*d)-u*(o*h-a*d)+f*(o*s-a*c),t[8]=u*(l*y-h*p)-f*(i*y-s*p)+m*(i*h-s*l),t[9]=-(e*(l*y-h*p)-f*(r*y-a*p)+m*(r*h-a*l)),t[10]=e*(i*y-s*p)-u*(r*y-a*p)+m*(r*s-a*i),t[11]=-(e*(i*h-s*l)-u*(r*h-a*l)+f*(r*s-a*i)),t[12]=-(u*(l*g-d*p)-f*(i*g-c*p)+m*(i*d-c*l)),t[13]=e*(l*g-d*p)-f*(r*g-o*p)+m*(r*d-o*l),t[14]=-(e*(i*g-c*p)-u*(r*g-o*p)+m*(r*c-o*i)),t[15]=e*(i*d-c*l)-u*(r*d-o*l)+f*(r*c-o*i),t}function on(t){let n=t[0],e=t[1],r=t[2],o=t[3],a=t[4],u=t[5],i=t[6],c=t[7],s=t[8],f=t[9],l=t[10],d=t[11],h=t[12],m=t[13],p=t[14],g=t[15];return(n*u-e*a)*(l*g-d*p)-(n*i-r*a)*(f*g-d*m)+(n*c-o*a)*(f*p-l*m)+(e*i-r*u)*(s*g-d*h)-(e*c-o*u)*(s*p-l*h)+(r*c-o*i)*(s*m-f*h)}function an(t,n,e){let r=n[0],o=n[1],a=n[2],u=n[3],i=n[4],c=n[5],s=n[6],f=n[7],l=n[8],d=n[9],h=n[10],m=n[11],p=n[12],g=n[13],y=n[14],M=n[15],b=e[0],v=e[1],I=e[2],A=e[3];return t[0]=b*r+v*i+I*l+A*p,t[1]=b*o+v*c+I*d+A*g,t[2]=b*a+v*s+I*h+A*y,t[3]=b*u+v*f+I*m+A*M,b=e[4],v=e[5],I=e[6],A=e[7],t[4]=b*r+v*i+I*l+A*p,t[5]=b*o+v*c+I*d+A*g,t[6]=b*a+v*s+I*h+A*y,t[7]=b*u+v*f+I*m+A*M,b=e[8],v=e[9],I=e[10],A=e[11],t[8]=b*r+v*i+I*l+A*p,t[9]=b*o+v*c+I*d+A*g,t[10]=b*a+v*s+I*h+A*y,t[11]=b*u+v*f+I*m+A*M,b=e[12],v=e[13],I=e[14],A=e[15],t[12]=b*r+v*i+I*l+A*p,t[13]=b*o+v*c+I*d+A*g,t[14]=b*a+v*s+I*h+A*y,t[15]=b*u+v*f+I*m+A*M,t}function un(t,n,e){let r,o,a,u,i,c,s,f,l,d,h,m,p=e[0],g=e[1],y=e[2];return n===t?(t[12]=n[0]*p+n[4]*g+n[8]*y+n[12],t[13]=n[1]*p+n[5]*g+n[9]*y+n[13],t[14]=n[2]*p+n[6]*g+n[10]*y+n[14],t[15]=n[3]*p+n[7]*g+n[11]*y+n[15]):(r=n[0],o=n[1],a=n[2],u=n[3],i=n[4],c=n[5],s=n[6],f=n[7],l=n[8],d=n[9],h=n[10],m=n[11],t[0]=r,t[1]=o,t[2]=a,t[3]=u,t[4]=i,t[5]=c,t[6]=s,t[7]=f,t[8]=l,t[9]=d,t[10]=h,t[11]=m,t[12]=r*p+i*g+l*y+n[12],t[13]=o*p+c*g+d*y+n[13],t[14]=a*p+s*g+h*y+n[14],t[15]=u*p+f*g+m*y+n[15]),t}function cn(t,n,e){let r=e[0],o=e[1],a=e[2];return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*o,t[5]=n[5]*o,t[6]=n[6]*o,t[7]=n[7]*o,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=n[11]*a,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function sn(t,n,e,r){let o,a,u,i,c,s,f,l,d,m,p,g,y,M,b,v,I,A,x,O,T,w,E,k,N=r[0],S=r[1],C=r[2],D=Math.sqrt(N*N+S*S+C*C);return Math.abs(D)<h?null:(N*=D=1/D,S*=D,C*=D,o=Math.sin(e),u=1-(a=Math.cos(e)),i=n[0],c=n[1],s=n[2],f=n[3],l=n[4],d=n[5],m=n[6],p=n[7],g=n[8],y=n[9],M=n[10],b=n[11],v=N*N*u+a,I=S*N*u+C*o,A=C*N*u-S*o,x=N*S*u-C*o,O=S*S*u+a,T=C*S*u+N*o,w=N*C*u+S*o,E=S*C*u-N*o,k=C*C*u+a,t[0]=i*v+l*I+g*A,t[1]=c*v+d*I+y*A,t[2]=s*v+m*I+M*A,t[3]=f*v+p*I+b*A,t[4]=i*x+l*O+g*T,t[5]=c*x+d*O+y*T,t[6]=s*x+m*O+M*T,t[7]=f*x+p*O+b*T,t[8]=i*w+l*E+g*k,t[9]=c*w+d*E+y*k,t[10]=s*w+m*E+M*k,t[11]=f*w+p*E+b*k,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t)}function fn(t,n,e){let r=Math.sin(e),o=Math.cos(e),a=n[4],u=n[5],i=n[6],c=n[7],s=n[8],f=n[9],l=n[10],d=n[11];return n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=a*o+s*r,t[5]=u*o+f*r,t[6]=i*o+l*r,t[7]=c*o+d*r,t[8]=s*o-a*r,t[9]=f*o-u*r,t[10]=l*o-i*r,t[11]=d*o-c*r,t}function ln(t,n,e){let r=Math.sin(e),o=Math.cos(e),a=n[0],u=n[1],i=n[2],c=n[3],s=n[8],f=n[9],l=n[10],d=n[11];return n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=a*o-s*r,t[1]=u*o-f*r,t[2]=i*o-l*r,t[3]=c*o-d*r,t[8]=a*r+s*o,t[9]=u*r+f*o,t[10]=i*r+l*o,t[11]=c*r+d*o,t}function dn(t,n,e){let r=Math.sin(e),o=Math.cos(e),a=n[0],u=n[1],i=n[2],c=n[3],s=n[4],f=n[5],l=n[6],d=n[7];return n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=a*o+s*r,t[1]=u*o+f*r,t[2]=i*o+l*r,t[3]=c*o+d*r,t[4]=s*o-a*r,t[5]=f*o-u*r,t[6]=l*o-i*r,t[7]=d*o-c*r,t}function hn(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function mn(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=n[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function pn(t,n,e){let r,o,a,u=e[0],i=e[1],c=e[2],s=Math.sqrt(u*u+i*i+c*c);return Math.abs(s)<h?null:(u*=s=1/s,i*=s,c*=s,r=Math.sin(n),a=1-(o=Math.cos(n)),t[0]=u*u*a+o,t[1]=i*u*a+c*r,t[2]=c*u*a-i*r,t[3]=0,t[4]=u*i*a-c*r,t[5]=i*i*a+o,t[6]=c*i*a+u*r,t[7]=0,t[8]=u*c*a+i*r,t[9]=i*c*a-u*r,t[10]=c*c*a+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function gn(t,n){let e=Math.sin(n),r=Math.cos(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=e,t[7]=0,t[8]=0,t[9]=-e,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function yn(t,n){let e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=0,t[2]=-e,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=e,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Mn(t,n){let e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=0,t[3]=0,t[4]=-e,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function bn(t,n,e){let r=n[0],o=n[1],a=n[2],u=n[3],i=r+r,c=o+o,s=a+a,f=r*i,l=r*c,d=r*s,h=o*c,m=o*s,p=a*s,g=u*i,y=u*c,M=u*s;return t[0]=1-(h+p),t[1]=l+M,t[2]=d-y,t[3]=0,t[4]=l-M,t[5]=1-(f+p),t[6]=m+g,t[7]=0,t[8]=d+y,t[9]=m-g,t[10]=1-(f+h),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function vn(t,n){let e=new m(3),r=-n[0],o=-n[1],a=-n[2],u=n[3],i=n[4],c=n[5],s=n[6],f=n[7],l=r*r+o*o+a*a+u*u;return l>0?(e[0]=2*(i*u+f*r+c*a-s*o)/l,e[1]=2*(c*u+f*o+s*r-i*a)/l,e[2]=2*(s*u+f*a+i*o-c*r)/l):(e[0]=2*(i*u+f*r+c*a-s*o),e[1]=2*(c*u+f*o+s*r-i*a),e[2]=2*(s*u+f*a+i*o-c*r)),bn(t,n,e),t}function In(t,n){return t[0]=n[12],t[1]=n[13],t[2]=n[14],t}function An(t,n){let e=n[0],r=n[1],o=n[2],a=n[4],u=n[5],i=n[6],c=n[8],s=n[9],f=n[10];return t[0]=Math.sqrt(e*e+r*r+o*o),t[1]=Math.sqrt(a*a+u*u+i*i),t[2]=Math.sqrt(c*c+s*s+f*f),t}function xn(t,n){let e=n[0]+n[5]+n[10],r=0;return e>0?(r=2*Math.sqrt(e+1),t[3]=.25*r,t[0]=(n[6]-n[9])/r,t[1]=(n[8]-n[2])/r,t[2]=(n[1]-n[4])/r):n[0]>n[5]&&n[0]>n[10]?(r=2*Math.sqrt(1+n[0]-n[5]-n[10]),t[3]=(n[6]-n[9])/r,t[0]=.25*r,t[1]=(n[1]+n[4])/r,t[2]=(n[8]+n[2])/r):n[5]>n[10]?(r=2*Math.sqrt(1+n[5]-n[0]-n[10]),t[3]=(n[8]-n[2])/r,t[0]=(n[1]+n[4])/r,t[1]=.25*r,t[2]=(n[6]+n[9])/r):(r=2*Math.sqrt(1+n[10]-n[0]-n[5]),t[3]=(n[1]-n[4])/r,t[0]=(n[8]+n[2])/r,t[1]=(n[6]+n[9])/r,t[2]=.25*r),t}function On(t,n,e,r){let o=n[0],a=n[1],u=n[2],i=n[3],c=o+o,s=a+a,f=u+u,l=o*c,d=o*s,h=o*f,m=a*s,p=a*f,g=u*f,y=i*c,M=i*s,b=i*f,v=r[0],I=r[1],A=r[2];return t[0]=(1-(m+g))*v,t[1]=(d+b)*v,t[2]=(h-M)*v,t[3]=0,t[4]=(d-b)*I,t[5]=(1-(l+g))*I,t[6]=(p+y)*I,t[7]=0,t[8]=(h+M)*A,t[9]=(p-y)*A,t[10]=(1-(l+m))*A,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function Tn(t,n,e,r,o){let a=n[0],u=n[1],i=n[2],c=n[3],s=a+a,f=u+u,l=i+i,d=a*s,h=a*f,m=a*l,p=u*f,g=u*l,y=i*l,M=c*s,b=c*f,v=c*l,I=r[0],A=r[1],x=r[2],O=o[0],T=o[1],w=o[2],E=(1-(p+y))*I,k=(h+v)*I,N=(m-b)*I,S=(h-v)*A,C=(1-(d+y))*A,D=(g+M)*A,L=(m+b)*x,_=(g-M)*x,P=(1-(d+p))*x;return t[0]=E,t[1]=k,t[2]=N,t[3]=0,t[4]=S,t[5]=C,t[6]=D,t[7]=0,t[8]=L,t[9]=_,t[10]=P,t[11]=0,t[12]=e[0]+O-(E*O+S*T+L*w),t[13]=e[1]+T-(k*O+C*T+_*w),t[14]=e[2]+w-(N*O+D*T+P*w),t[15]=1,t}function wn(t,n){let e=n[0],r=n[1],o=n[2],a=n[3],u=e+e,i=r+r,c=o+o,s=e*u,f=r*u,l=r*i,d=o*u,h=o*i,m=o*c,p=a*u,g=a*i,y=a*c;return t[0]=1-l-m,t[1]=f+y,t[2]=d-g,t[3]=0,t[4]=f-y,t[5]=1-s-m,t[6]=h+p,t[7]=0,t[8]=d+g,t[9]=h-p,t[10]=1-s-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function En(t,n,e,r,o,a,u){let i=1/(e-n),c=1/(o-r),s=1/(a-u);return t[0]=2*a*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*c,t[6]=0,t[7]=0,t[8]=(e+n)*i,t[9]=(o+r)*c,t[10]=(u+a)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=u*a*2*s,t[15]=0,t}function kn(t,n,e,r,o){let a=1/Math.tan(n/2),u=1/(r-o);return t[0]=a/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+r)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*r*u,t[15]=0,t}function Nn(t,n,e,r){let o=Math.tan(n.upDegrees*Math.PI/180),a=Math.tan(n.downDegrees*Math.PI/180),u=Math.tan(n.leftDegrees*Math.PI/180),i=Math.tan(n.rightDegrees*Math.PI/180),c=2/(u+i),s=2/(o+a);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-(u-i)*c*.5,t[9]=(o-a)*s*.5,t[10]=r/(e-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*e/(e-r),t[15]=0,t}function Sn(t,n,e,r,o,a,u){let i=1/(n-e),c=1/(r-o),s=1/(a-u);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(n+e)*i,t[13]=(o+r)*c,t[14]=(u+a)*s,t[15]=1,t}function Cn(t,n,e,r){let o,a,u,i,c,s,f,l,d,m,p=n[0],g=n[1],y=n[2],M=r[0],b=r[1],v=r[2],I=e[0],A=e[1],x=e[2];return Math.abs(p-I)<h&&Math.abs(g-A)<h&&Math.abs(y-x)<h?tn(t):(f=p-I,l=g-A,d=y-x,o=b*(d*=m=1/Math.sqrt(f*f+l*l+d*d))-v*(l*=m),a=v*(f*=m)-M*d,u=M*l-b*f,(m=Math.sqrt(o*o+a*a+u*u))?(o*=m=1/m,a*=m,u*=m):(o=0,a=0,u=0),i=l*u-d*a,c=d*o-f*u,s=f*a-l*o,(m=Math.sqrt(i*i+c*c+s*s))?(i*=m=1/m,c*=m,s*=m):(i=0,c=0,s=0),t[0]=o,t[1]=i,t[2]=f,t[3]=0,t[4]=a,t[5]=c,t[6]=l,t[7]=0,t[8]=u,t[9]=s,t[10]=d,t[11]=0,t[12]=-(o*p+a*g+u*y),t[13]=-(i*p+c*g+s*y),t[14]=-(f*p+l*g+d*y),t[15]=1,t)}function Dn(t,n,e,r){let o=n[0],a=n[1],u=n[2],i=r[0],c=r[1],s=r[2],f=o-e[0],l=a-e[1],d=u-e[2],h=f*f+l*l+d*d;h>0&&(f*=h=1/Math.sqrt(h),l*=h,d*=h);let m=c*d-s*l,p=s*f-i*d,g=i*l-c*f;return(h=m*m+p*p+g*g)>0&&(m*=h=1/Math.sqrt(h),p*=h,g*=h),t[0]=m,t[1]=p,t[2]=g,t[3]=0,t[4]=l*g-d*p,t[5]=d*m-f*g,t[6]=f*p-l*m,t[7]=0,t[8]=f,t[9]=l,t[10]=d,t[11]=0,t[12]=o,t[13]=a,t[14]=u,t[15]=1,t}function Ln(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function _n(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function Pn(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t[8]=n[8]+e[8],t[9]=n[9]+e[9],t[10]=n[10]+e[10],t[11]=n[11]+e[11],t[12]=n[12]+e[12],t[13]=n[13]+e[13],t[14]=n[14]+e[14],t[15]=n[15]+e[15],t}function jn(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t[6]=n[6]-e[6],t[7]=n[7]-e[7],t[8]=n[8]-e[8],t[9]=n[9]-e[9],t[10]=n[10]-e[10],t[11]=n[11]-e[11],t[12]=n[12]-e[12],t[13]=n[13]-e[13],t[14]=n[14]-e[14],t[15]=n[15]-e[15],t}function Fn(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t[8]=n[8]*e,t[9]=n[9]*e,t[10]=n[10]*e,t[11]=n[11]*e,t[12]=n[12]*e,t[13]=n[13]*e,t[14]=n[14]*e,t[15]=n[15]*e,t}function Bn(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t[4]=n[4]+e[4]*r,t[5]=n[5]+e[5]*r,t[6]=n[6]+e[6]*r,t[7]=n[7]+e[7]*r,t[8]=n[8]+e[8]*r,t[9]=n[9]+e[9]*r,t[10]=n[10]+e[10]*r,t[11]=n[11]+e[11]*r,t[12]=n[12]+e[12]*r,t[13]=n[13]+e[13]*r,t[14]=n[14]+e[14]*r,t[15]=n[15]+e[15]*r,t}function Rn(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[10]===n[10]&&t[11]===n[11]&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[15]===n[15]}function qn(t,n){let e=t[0],r=t[1],o=t[2],a=t[3],u=t[4],i=t[5],c=t[6],s=t[7],f=t[8],l=t[9],d=t[10],m=t[11],p=t[12],g=t[13],y=t[14],M=t[15],b=n[0],v=n[1],I=n[2],A=n[3],x=n[4],O=n[5],T=n[6],w=n[7],E=n[8],k=n[9],N=n[10],S=n[11],C=n[12],D=n[13],L=n[14],_=n[15];return Math.abs(e-b)<=h*Math.max(1,Math.abs(e),Math.abs(b))&&Math.abs(r-v)<=h*Math.max(1,Math.abs(r),Math.abs(v))&&Math.abs(o-I)<=h*Math.max(1,Math.abs(o),Math.abs(I))&&Math.abs(a-A)<=h*Math.max(1,Math.abs(a),Math.abs(A))&&Math.abs(u-x)<=h*Math.max(1,Math.abs(u),Math.abs(x))&&Math.abs(i-O)<=h*Math.max(1,Math.abs(i),Math.abs(O))&&Math.abs(c-T)<=h*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(s-w)<=h*Math.max(1,Math.abs(s),Math.abs(w))&&Math.abs(f-E)<=h*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(l-k)<=h*Math.max(1,Math.abs(l),Math.abs(k))&&Math.abs(d-N)<=h*Math.max(1,Math.abs(d),Math.abs(N))&&Math.abs(m-S)<=h*Math.max(1,Math.abs(m),Math.abs(S))&&Math.abs(p-C)<=h*Math.max(1,Math.abs(p),Math.abs(C))&&Math.abs(g-D)<=h*Math.max(1,Math.abs(g),Math.abs(D))&&Math.abs(y-L)<=h*Math.max(1,Math.abs(y),Math.abs(L))&&Math.abs(M-_)<=h*Math.max(1,Math.abs(M),Math.abs(_))}const $n=an,Gn=jn;function Un(){let t=new m(3);return t[0]=0,t[1]=0,t[2]=0,t}function Vn(t){var n=new m(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n}function zn(t){let n=t[0],e=t[1],r=t[2];return Math.sqrt(n*n+e*e+r*r)}function Jn(t,n,e){let r=new m(3);return r[0]=t,r[1]=n,r[2]=e,r}function Xn(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function Yn(t,n,e,r){return t[0]=n,t[1]=e,t[2]=r,t}function Wn(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t}function Hn(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t}function Kn(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t}function Zn(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t}function Qn(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t}function te(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t}function ne(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t}function ee(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t}function re(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t}function oe(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t}function ae(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t}function ue(t,n){let e=n[0]-t[0],r=n[1]-t[1],o=n[2]-t[2];return Math.sqrt(e*e+r*r+o*o)}function ie(t,n){let e=n[0]-t[0],r=n[1]-t[1],o=n[2]-t[2];return e*e+r*r+o*o}function ce(t){let n=t[0],e=t[1],r=t[2];return n*n+e*e+r*r}function se(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t}function fe(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t}function le(t,n){let e=n[0],r=n[1],o=n[2],a=e*e+r*r+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a),t}function de(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function he(t,n,e){let r=n[0],o=n[1],a=n[2],u=e[0],i=e[1],c=e[2];return t[0]=o*c-a*i,t[1]=a*u-r*c,t[2]=r*i-o*u,t}function me(t,n,e,r){let o=n[0],a=n[1],u=n[2];return t[0]=o+r*(e[0]-o),t[1]=a+r*(e[1]-a),t[2]=u+r*(e[2]-u),t}function pe(t,n,e,r,o,a){let u=a*a,i=u*(2*a-3)+1,c=u*(a-2)+a,s=u*(a-1),f=u*(3-2*a);return t[0]=n[0]*i+e[0]*c+r[0]*s+o[0]*f,t[1]=n[1]*i+e[1]*c+r[1]*s+o[1]*f,t[2]=n[2]*i+e[2]*c+r[2]*s+o[2]*f,t}function ge(t,n,e,r,o,a){let u=1-a,i=u*u,c=a*a,s=i*u,f=3*a*i,l=3*c*u,d=c*a;return t[0]=n[0]*s+e[0]*f+r[0]*l+o[0]*d,t[1]=n[1]*s+e[1]*f+r[1]*l+o[1]*d,t[2]=n[2]*s+e[2]*f+r[2]*l+o[2]*d,t}function ye(t,n){n=n||1;let e=2*p()*Math.PI,r=2*p()-1,o=Math.sqrt(1-r*r)*n;return t[0]=Math.cos(e)*o,t[1]=Math.sin(e)*o,t[2]=r*n,t}function Me(t,n,e){let r=n[0],o=n[1],a=n[2],u=e[3]*r+e[7]*o+e[11]*a+e[15];return u=u||1,t[0]=(e[0]*r+e[4]*o+e[8]*a+e[12])/u,t[1]=(e[1]*r+e[5]*o+e[9]*a+e[13])/u,t[2]=(e[2]*r+e[6]*o+e[10]*a+e[14])/u,t}function be(t,n,e){let r=n[0],o=n[1],a=n[2];return t[0]=r*e[0]+o*e[3]+a*e[6],t[1]=r*e[1]+o*e[4]+a*e[7],t[2]=r*e[2]+o*e[5]+a*e[8],t}function ve(t,n,e){let r=e[0],o=e[1],a=e[2],u=e[3],i=n[0],c=n[1],s=n[2],f=o*s-a*c,l=a*i-r*s,d=r*c-o*i,h=o*d-a*l,m=a*f-r*d,p=r*l-o*f,g=2*u;return f*=g,l*=g,d*=g,h*=2,m*=2,p*=2,t[0]=i+f+h,t[1]=c+l+m,t[2]=s+d+p,t}function Ie(t,n,e,r){let o=[],a=[];return o[0]=n[0]-e[0],o[1]=n[1]-e[1],o[2]=n[2]-e[2],a[0]=o[0],a[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),a[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t}function Ae(t,n,e,r){let o=[],a=[];return o[0]=n[0]-e[0],o[1]=n[1]-e[1],o[2]=n[2]-e[2],a[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),a[1]=o[1],a[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t}function xe(t,n,e,r){let o=[],a=[];return o[0]=n[0]-e[0],o[1]=n[1]-e[1],o[2]=n[2]-e[2],a[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),a[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),a[2]=o[2],t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t}function Oe(t,n){let e=Jn(t[0],t[1],t[2]),r=Jn(n[0],n[1],n[2]);le(e,e),le(r,r);let o=de(e,r);return o>1?0:o<-1?Math.PI:Math.acos(o)}function Te(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function we(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}function Ee(t,n){let e=t[0],r=t[1],o=t[2],a=n[0],u=n[1],i=n[2];return Math.abs(e-a)<=h*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(r-u)<=h*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(o-i)<=h*Math.max(1,Math.abs(o),Math.abs(i))}const ke=Hn,Ne=Kn,Se=Zn,Ce=ue,De=ie,Le=zn,_e=ce,Pe=function(){let t=Un();return function(n,e,r,o,a,u){let i,c;for(e||(e=3),r||(r=0),c=o?Math.min(o*e+r,n.length):n.length,i=r;i<c;i+=e)t[0]=n[i],t[1]=n[i+1],t[2]=n[i+2],a(t,t,u),n[i]=t[0],n[i+1]=t[1],n[i+2]=t[2];return n}}();function je(){let t=new m(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function Fe(t){let n=new m(4);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}function Be(t,n,e,r){let o=new m(4);return o[0]=t,o[1]=n,o[2]=e,o[3]=r,o}function Re(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function qe(t,n,e,r,o){return t[0]=n,t[1]=e,t[2]=r,t[3]=o,t}function $e(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t}function Ge(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t}function Ue(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t[3]=n[3]*e[3],t}function Ve(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t[3]=n[3]/e[3],t}function ze(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t}function Je(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t}function Xe(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t[3]=Math.min(n[3],e[3]),t}function Ye(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t[3]=Math.max(n[3],e[3]),t}function We(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t}function He(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t}function Ke(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t}function Ze(t,n){let e=n[0]-t[0],r=n[1]-t[1],o=n[2]-t[2],a=n[3]-t[3];return Math.sqrt(e*e+r*r+o*o+a*a)}function Qe(t,n){let e=n[0]-t[0],r=n[1]-t[1],o=n[2]-t[2],a=n[3]-t[3];return e*e+r*r+o*o+a*a}function tr(t){let n=t[0],e=t[1],r=t[2],o=t[3];return Math.sqrt(n*n+e*e+r*r+o*o)}function nr(t){let n=t[0],e=t[1],r=t[2],o=t[3];return n*n+e*e+r*r+o*o}function er(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t}function rr(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t}function or(t,n){let e=n[0],r=n[1],o=n[2],a=n[3],u=e*e+r*r+o*o+a*a;return u>0&&(u=1/Math.sqrt(u),t[0]=e*u,t[1]=r*u,t[2]=o*u,t[3]=a*u),t}function ar(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function ur(t,n,e,r){let o=n[0],a=n[1],u=n[2],i=n[3];return t[0]=o+r*(e[0]-o),t[1]=a+r*(e[1]-a),t[2]=u+r*(e[2]-u),t[3]=i+r*(e[3]-i),t}function ir(t,n){return n=n||1,t[0]=p(),t[1]=p(),t[2]=p(),t[3]=p(),or(t,t),He(t,t,n),t}function cr(t,n,e){let r=n[0],o=n[1],a=n[2],u=n[3];return t[0]=e[0]*r+e[4]*o+e[8]*a+e[12]*u,t[1]=e[1]*r+e[5]*o+e[9]*a+e[13]*u,t[2]=e[2]*r+e[6]*o+e[10]*a+e[14]*u,t[3]=e[3]*r+e[7]*o+e[11]*a+e[15]*u,t}function sr(t,n,e){let r=n[0],o=n[1],a=n[2],u=e[0],i=e[1],c=e[2],s=e[3],f=s*r+i*a-c*o,l=s*o+c*r-u*a,d=s*a+u*o-i*r,h=-u*r-i*o-c*a;return t[0]=f*s+h*-u+l*-c-d*-i,t[1]=l*s+h*-i+d*-u-f*-c,t[2]=d*s+h*-c+f*-i-l*-u,t[3]=n[3],t}function fr(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function lr(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function dr(t,n){let e=t[0],r=t[1],o=t[2],a=t[3],u=n[0],i=n[1],c=n[2],s=n[3];return Math.abs(e-u)<=h*Math.max(1,Math.abs(e),Math.abs(u))&&Math.abs(r-i)<=h*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(o-c)<=h*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(a-s)<=h*Math.max(1,Math.abs(a),Math.abs(s))}const hr=Ge,mr=Ue,pr=Ve,gr=Ze,yr=Qe,Mr=tr,br=nr,vr=function(){let t=je();return function(n,e,r,o,a,u){let i,c;for(e||(e=4),r||(r=0),c=o?Math.min(o*e+r,n.length):n.length,i=r;i<c;i+=e)t[0]=n[i],t[1]=n[i+1],t[2]=n[i+2],t[3]=n[i+3],a(t,t,u),n[i]=t[0],n[i+1]=t[1],n[i+2]=t[2],n[i+3]=t[3];return n}}();function Ir(){let t=new m(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Ar(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function xr(t,n,e){e*=.5;let r=Math.sin(e);return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=Math.cos(e),t}function Or(t,n){let e=2*Math.acos(n[3]),r=Math.sin(e/2);return 0!=r?(t[0]=n[0]/r,t[1]=n[1]/r,t[2]=n[2]/r):(t[0]=1,t[1]=0,t[2]=0),e}function Tr(t,n,e){let r=n[0],o=n[1],a=n[2],u=n[3],i=e[0],c=e[1],s=e[2],f=e[3];return t[0]=r*f+u*i+o*s-a*c,t[1]=o*f+u*c+a*i-r*s,t[2]=a*f+u*s+r*c-o*i,t[3]=u*f-r*i-o*c-a*s,t}function wr(t,n,e){e*=.5;let r=n[0],o=n[1],a=n[2],u=n[3],i=Math.sin(e),c=Math.cos(e);return t[0]=r*c+u*i,t[1]=o*c+a*i,t[2]=a*c-o*i,t[3]=u*c-r*i,t}function Er(t,n,e){e*=.5;let r=n[0],o=n[1],a=n[2],u=n[3],i=Math.sin(e),c=Math.cos(e);return t[0]=r*c-a*i,t[1]=o*c+u*i,t[2]=a*c+r*i,t[3]=u*c-o*i,t}function kr(t,n,e){e*=.5;let r=n[0],o=n[1],a=n[2],u=n[3],i=Math.sin(e),c=Math.cos(e);return t[0]=r*c+o*i,t[1]=o*c-r*i,t[2]=a*c+u*i,t[3]=u*c-a*i,t}function Nr(t,n){let e=n[0],r=n[1],o=n[2];return t[0]=e,t[1]=r,t[2]=o,t[3]=Math.sqrt(Math.abs(1-e*e-r*r-o*o)),t}function Sr(t,n,e,r){let o,a,u,i,c,s=n[0],f=n[1],l=n[2],d=n[3],h=e[0],m=e[1],p=e[2],g=e[3];return(a=s*h+f*m+l*p+d*g)<0&&(a=-a,h=-h,m=-m,p=-p,g=-g),1-a>1e-6?(o=Math.acos(a),u=Math.sin(o),i=Math.sin((1-r)*o)/u,c=Math.sin(r*o)/u):(i=1-r,c=r),t[0]=i*s+c*h,t[1]=i*f+c*m,t[2]=i*l+c*p,t[3]=i*d+c*g,t}function Cr(t,n){let e=n[0],r=n[1],o=n[2],a=n[3],u=e*e+r*r+o*o+a*a,i=u?1/u:0;return t[0]=-e*i,t[1]=-r*i,t[2]=-o*i,t[3]=a*i,t}function Dr(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t}function Lr(t,n){let e,r=n[0]+n[4]+n[8];if(r>0)e=Math.sqrt(r+1),t[3]=.5*e,e=.5/e,t[0]=(n[5]-n[7])*e,t[1]=(n[6]-n[2])*e,t[2]=(n[1]-n[3])*e;else{let r=0;n[4]>n[0]&&(r=1),n[8]>n[3*r+r]&&(r=2);let o=(r+1)%3,a=(r+2)%3;e=Math.sqrt(n[3*r+r]-n[3*o+o]-n[3*a+a]+1),t[r]=.5*e,e=.5/e,t[3]=(n[3*o+a]-n[3*a+o])*e,t[o]=(n[3*o+r]+n[3*r+o])*e,t[a]=(n[3*a+r]+n[3*r+a])*e}return t}function _r(t,n,e,r){let o=.5*Math.PI/180;n*=o,e*=o,r*=o;let a=Math.sin(n),u=Math.cos(n),i=Math.sin(e),c=Math.cos(e),s=Math.sin(r),f=Math.cos(r);return t[0]=a*c*f-u*i*s,t[1]=u*i*f+a*c*s,t[2]=u*c*s-a*i*f,t[3]=u*c*f+a*i*s,t}function Pr(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}const jr=Fe,Fr=Be,Br=Re,Rr=qe,qr=$e,$r=Tr,Gr=He,Ur=ar,Vr=ur,zr=tr,Jr=zr,Xr=nr,Yr=Xr,Wr=or,Hr=lr,Kr=dr,Zr=function(){let t=Un(),n=Jn(1,0,0),e=Jn(0,1,0);return function(r,o,a){let u=de(o,a);return u<-.999999?(he(t,n,o),Le(t)<1e-6&&he(t,e,o),le(t,t),xr(r,t,Math.PI),r):u>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(he(t,o,a),r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=1+u,Wr(r,r))}}(),Qr=function(){let t=Ir(),n=Ir();return function(e,r,o,a,u,i){return Sr(t,r,u,i),Sr(n,o,a,i),Sr(e,t,n,2*i*(1-i)),e}}(),to=function(){let t=yt();return function(n,e,r,o){return t[0]=r[0],t[3]=r[1],t[6]=r[2],t[1]=o[0],t[4]=o[1],t[7]=o[2],t[2]=-e[0],t[5]=-e[1],t[8]=-e[2],Wr(n,Lr(n,t))}}();function no(){let t=new m(8);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function eo(t){let n=new m(8);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n}function ro(t,n,e,r,o,a,u,i){let c=new m(8);return c[0]=t,c[1]=n,c[2]=e,c[3]=r,c[4]=o,c[5]=a,c[6]=u,c[7]=i,c}function oo(t,n,e,r,o,a,u){let i=new m(8);i[0]=t,i[1]=n,i[2]=e,i[3]=r;let c=.5*o,s=.5*a,f=.5*u;return i[4]=c*r+s*e-f*n,i[5]=s*r+f*t-c*e,i[6]=f*r+c*n-s*t,i[7]=-c*t-s*n-f*e,i}function ao(t,n,e){let r=.5*e[0],o=.5*e[1],a=.5*e[2],u=n[0],i=n[1],c=n[2],s=n[3];return t[0]=u,t[1]=i,t[2]=c,t[3]=s,t[4]=r*s+o*c-a*i,t[5]=o*s+a*u-r*c,t[6]=a*s+r*i-o*u,t[7]=-r*u-o*i-a*c,t}function uo(t,n){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*n[0],t[5]=.5*n[1],t[6]=.5*n[2],t[7]=0,t}function io(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function co(t,n){let e=Ir();xn(e,n);let r=new m(3);return In(r,n),ao(t,e,r),t}function so(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t}function fo(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function lo(t,n,e,r,o,a,u,i,c){return t[0]=n,t[1]=e,t[2]=r,t[3]=o,t[4]=a,t[5]=u,t[6]=i,t[7]=c,t}const ho=Br;function mo(t,n){return t[0]=n[4],t[1]=n[5],t[2]=n[6],t[3]=n[7],t}const po=Br;function go(t,n){return t[4]=n[0],t[5]=n[1],t[6]=n[2],t[7]=n[3],t}function yo(t,n){let e=n[4],r=n[5],o=n[6],a=n[7],u=-n[0],i=-n[1],c=-n[2],s=n[3];return t[0]=2*(e*s+a*u+r*c-o*i),t[1]=2*(r*s+a*i+o*u-e*c),t[2]=2*(o*s+a*c+e*i-r*u),t}function Mo(t,n,e){let r=n[0],o=n[1],a=n[2],u=n[3],i=.5*e[0],c=.5*e[1],s=.5*e[2],f=n[4],l=n[5],d=n[6],h=n[7];return t[0]=r,t[1]=o,t[2]=a,t[3]=u,t[4]=u*i+o*s-a*c+f,t[5]=u*c+a*i-r*s+l,t[6]=u*s+r*c-o*i+d,t[7]=-r*i-o*c-a*s+h,t}function bo(t,n,e){let r=-n[0],o=-n[1],a=-n[2],u=n[3],i=n[4],c=n[5],s=n[6],f=n[7],l=i*u+f*r+c*a-s*o,d=c*u+f*o+s*r-i*a,h=s*u+f*a+i*o-c*r,m=f*u-i*r-c*o-s*a;return wr(t,n,e),r=t[0],o=t[1],a=t[2],u=t[3],t[4]=l*u+m*r+d*a-h*o,t[5]=d*u+m*o+h*r-l*a,t[6]=h*u+m*a+l*o-d*r,t[7]=m*u-l*r-d*o-h*a,t}function vo(t,n,e){let r=-n[0],o=-n[1],a=-n[2],u=n[3],i=n[4],c=n[5],s=n[6],f=n[7],l=i*u+f*r+c*a-s*o,d=c*u+f*o+s*r-i*a,h=s*u+f*a+i*o-c*r,m=f*u-i*r-c*o-s*a;return Er(t,n,e),r=t[0],o=t[1],a=t[2],u=t[3],t[4]=l*u+m*r+d*a-h*o,t[5]=d*u+m*o+h*r-l*a,t[6]=h*u+m*a+l*o-d*r,t[7]=m*u-l*r-d*o-h*a,t}function Io(t,n,e){let r=-n[0],o=-n[1],a=-n[2],u=n[3],i=n[4],c=n[5],s=n[6],f=n[7],l=i*u+f*r+c*a-s*o,d=c*u+f*o+s*r-i*a,h=s*u+f*a+i*o-c*r,m=f*u-i*r-c*o-s*a;return kr(t,n,e),r=t[0],o=t[1],a=t[2],u=t[3],t[4]=l*u+m*r+d*a-h*o,t[5]=d*u+m*o+h*r-l*a,t[6]=h*u+m*a+l*o-d*r,t[7]=m*u-l*r-d*o-h*a,t}function Ao(t,n,e){let r=e[0],o=e[1],a=e[2],u=e[3],i=n[0],c=n[1],s=n[2],f=n[3];return t[0]=i*u+f*r+c*a-s*o,t[1]=c*u+f*o+s*r-i*a,t[2]=s*u+f*a+i*o-c*r,t[3]=f*u-i*r-c*o-s*a,i=n[4],c=n[5],s=n[6],f=n[7],t[4]=i*u+f*r+c*a-s*o,t[5]=c*u+f*o+s*r-i*a,t[6]=s*u+f*a+i*o-c*r,t[7]=f*u-i*r-c*o-s*a,t}function xo(t,n,e){let r=n[0],o=n[1],a=n[2],u=n[3],i=e[0],c=e[1],s=e[2],f=e[3];return t[0]=r*f+u*i+o*s-a*c,t[1]=o*f+u*c+a*i-r*s,t[2]=a*f+u*s+r*c-o*i,t[3]=u*f-r*i-o*c-a*s,i=e[4],c=e[5],s=e[6],f=e[7],t[4]=r*f+u*i+o*s-a*c,t[5]=o*f+u*c+a*i-r*s,t[6]=a*f+u*s+r*c-o*i,t[7]=u*f-r*i-o*c-a*s,t}function Oo(t,n,e,r){if(Math.abs(r)<h)return so(t,n);let o=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);r*=.5;let a=Math.sin(r),u=a*e[0]/o,i=a*e[1]/o,c=a*e[2]/o,s=Math.cos(r),f=n[0],l=n[1],d=n[2],m=n[3];t[0]=f*s+m*u+l*c-d*i,t[1]=l*s+m*i+d*u-f*c,t[2]=d*s+m*c+f*i-l*u,t[3]=m*s-f*u-l*i-d*c;let p=n[4],g=n[5],y=n[6],M=n[7];return t[4]=p*s+M*u+g*c-y*i,t[5]=g*s+M*i+y*u-p*c,t[6]=y*s+M*c+p*i-g*u,t[7]=M*s-p*u-g*i-y*c,t}function To(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t}function wo(t,n,e){let r=n[0],o=n[1],a=n[2],u=n[3],i=e[4],c=e[5],s=e[6],f=e[7],l=n[4],d=n[5],h=n[6],m=n[7],p=e[0],g=e[1],y=e[2],M=e[3];return t[0]=r*M+u*p+o*y-a*g,t[1]=o*M+u*g+a*p-r*y,t[2]=a*M+u*y+r*g-o*p,t[3]=u*M-r*p-o*g-a*y,t[4]=r*f+u*i+o*s-a*c+l*M+m*p+d*y-h*g,t[5]=o*f+u*c+a*i-r*s+d*M+m*g+h*p-l*y,t[6]=a*f+u*s+r*c-o*i+h*M+m*y+l*g-d*p,t[7]=u*f-r*i-o*c-a*s+m*M-l*p-d*g-h*y,t}const Eo=wo;function ko(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t}const No=Ur;function So(t,n,e,r){let o=1-r;return No(n,e)<0&&(r=-r),t[0]=n[0]*o+e[0]*r,t[1]=n[1]*o+e[1]*r,t[2]=n[2]*o+e[2]*r,t[3]=n[3]*o+e[3]*r,t[4]=n[4]*o+e[4]*r,t[5]=n[5]*o+e[5]*r,t[6]=n[6]*o+e[6]*r,t[7]=n[7]*o+e[7]*r,t}function Co(t,n){let e=Po(n);return t[0]=-n[0]/e,t[1]=-n[1]/e,t[2]=-n[2]/e,t[3]=n[3]/e,t[4]=-n[4]/e,t[5]=-n[5]/e,t[6]=-n[6]/e,t[7]=n[7]/e,t}function Do(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t[4]=-n[4],t[5]=-n[5],t[6]=-n[6],t[7]=n[7],t}const Lo=zr,_o=Lo,Po=Xr,jo=Po;function Fo(t,n){let e=Po(n);return e>0&&(e=Math.sqrt(e),t[0]=n[0]/e,t[1]=n[1]/e,t[2]=n[2]/e,t[3]=n[3]/e,t[4]=n[4]/e,t[5]=n[5]/e,t[6]=n[6]/e,t[7]=n[7]/e),t}function Bo(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function Ro(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]}function qo(t,n){let e=t[0],r=t[1],o=t[2],a=t[3],u=t[4],i=t[5],c=t[6],s=t[7],f=n[0],l=n[1],d=n[2],m=n[3],p=n[4],g=n[5],y=n[6],M=n[7];return Math.abs(e-f)<=h*Math.max(1,Math.abs(e),Math.abs(f))&&Math.abs(r-l)<=h*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(o-d)<=h*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(a-m)<=h*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(u-p)<=h*Math.max(1,Math.abs(u),Math.abs(p))&&Math.abs(i-g)<=h*Math.max(1,Math.abs(i),Math.abs(g))&&Math.abs(c-y)<=h*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(s-M)<=h*Math.max(1,Math.abs(s),Math.abs(M))}function $o(){let t=new m(2);return t[0]=0,t[1]=0,t}function Go(t){let n=new m(2);return n[0]=t[0],n[1]=t[1],n}function Uo(t,n){let e=new m(2);return e[0]=t,e[1]=n,e}function Vo(t,n){return t[0]=n[0],t[1]=n[1],t}function zo(t,n,e){return t[0]=n,t[1]=e,t}function Jo(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t}function Xo(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t}function Yo(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t}function Wo(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t}function Ho(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t}function Ko(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t}function Zo(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t}function Qo(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t}function ta(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t}function na(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t}function ea(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t}function ra(t,n){var e=n[0]-t[0],r=n[1]-t[1];return Math.sqrt(e*e+r*r)}function oa(t,n){var e=n[0]-t[0],r=n[1]-t[1];return e*e+r*r}function aa(t){var n=t[0],e=t[1];return Math.sqrt(n*n+e*e)}function ua(t){var n=t[0],e=t[1];return n*n+e*e}function ia(t,n){return t[0]=-n[0],t[1]=-n[1],t}function ca(t,n){return t[0]=1/n[0],t[1]=1/n[1],t}function sa(t,n){var e=n[0],r=n[1],o=e*e+r*r;return o>0&&(o=1/Math.sqrt(o),t[0]=n[0]*o,t[1]=n[1]*o),t}function fa(t,n){return t[0]*n[0]+t[1]*n[1]}function la(t,n,e){var r=n[0]*e[1]-n[1]*e[0];return t[0]=t[1]=0,t[2]=r,t}function da(t,n,e,r){var o=n[0],a=n[1];return t[0]=o+r*(e[0]-o),t[1]=a+r*(e[1]-a),t}function ha(t,n){n=n||1;var e=2*p()*Math.PI;return t[0]=Math.cos(e)*n,t[1]=Math.sin(e)*n,t}function ma(t,n,e){var r=n[0],o=n[1];return t[0]=e[0]*r+e[2]*o,t[1]=e[1]*r+e[3]*o,t}function pa(t,n,e){var r=n[0],o=n[1];return t[0]=e[0]*r+e[2]*o+e[4],t[1]=e[1]*r+e[3]*o+e[5],t}function ga(t,n,e){var r=n[0],o=n[1];return t[0]=e[0]*r+e[3]*o+e[6],t[1]=e[1]*r+e[4]*o+e[7],t}function ya(t,n,e){let r=n[0],o=n[1];return t[0]=e[0]*r+e[4]*o+e[12],t[1]=e[1]*r+e[5]*o+e[13],t}function Ma(t){return"vec2("+t[0]+", "+t[1]+")"}function ba(t,n){return t[0]===n[0]&&t[1]===n[1]}function va(t,n){let e=t[0],r=t[1],o=n[0],a=n[1];return Math.abs(e-o)<=h*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(r-a)<=h*Math.max(1,Math.abs(r),Math.abs(a))}const Ia=aa,Aa=Xo,xa=Yo,Oa=Wo,Ta=ra,wa=oa,Ea=ua,ka=function(){let t=$o();return function(n,e,r,o,a,u){let i,c;for(e||(e=2),r||(r=0),c=o?Math.min(o*e+r,n.length):n.length,i=r;i<c;i+=e)t[0]=n[i],t[1]=n[i+1],a(t,t,u),n[i]=t[0],n[i+1]=t[1];return n}}();e.d(n,"a",function(){return r}),e.d(n,!1,function(){return o}),e.d(n,!1,function(){return a}),e.d(n,"b",function(){return u}),e.d(n,"c",function(){return i}),e.d(n,"d",function(){return f}),e.d(n,!1,function(){return l}),e.d(n,!1,function(){return d}),e.d(n,"e",function(){return c}),e.d(n,"f",function(){return s})},108:function(t,n,e){"use strict";var r=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}();var o=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return r(t,[{key:"emit",value:function(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];var o=!0,a=!1,u=void 0;try{for(var i,c=this.__listeners[t][Symbol.iterator]();!(o=(i=c.next()).done);o=!0){i.value.apply(void 0,e)}}catch(t){a=!0,u=t}finally{try{!o&&c.return&&c.return()}finally{if(a)throw u}}return this}},{key:"once",value:function(t,n){var e=this,r=function r(){e.off(t,r),n.apply(void 0,arguments)};return this.on(t,r)}},{key:"on",value:function(t,n){return this.__listeners[t]||(this.__listeners[t]=[]),this.__listeners[t].push(n),this}},{key:"off",value:function(t,n){return this.__listeners[t]=n?this.__listeners[t].filter(function(t){return t!==n}):[],this}}]),t}();t.exports=o},112:function(t,n){},113:function(t,n,e){var r;!function(o,a){var u,i=this,c=256,s=6,f="random",l=a.pow(c,s),d=a.pow(2,52),h=2*d,m=c-1;function p(t,n,e){var r=[],p=y(function t(n,e){var r,o=[],a=typeof n;if(e&&"object"==a)for(r in n)try{o.push(t(n[r],e-1))}catch(t){}return o.length?o:"string"==a?n:n+"\0"}((n=1==n?{entropy:!0}:n||{}).entropy?[t,M(o)]:null==t?function(){try{var t;return u&&(t=u.randomBytes)?t=t(c):(t=new Uint8Array(c),(i.crypto||i.msCrypto).getRandomValues(t)),M(t)}catch(t){var n=i.navigator,e=n&&n.plugins;return[+new Date,i,e,i.screen,M(o)]}}():t,3),r),b=new function(t){var n,e=t.length,r=this,o=0,a=r.i=r.j=0,u=r.S=[];e||(t=[e++]);for(;o<c;)u[o]=o++;for(o=0;o<c;o++)u[o]=u[a=m&a+t[o%e]+(n=u[o])],u[a]=n;(r.g=function(t){for(var n,e=0,o=r.i,a=r.j,u=r.S;t--;)n=u[o=m&o+1],e=e*c+u[m&(u[o]=u[a=m&a+n])+(u[a]=n)];return r.i=o,r.j=a,e})(c)}(r),v=function(){for(var t=b.g(s),n=l,e=0;t<d;)t=(t+e)*c,n*=c,e=b.g(1);for(;t>=h;)t/=2,n/=2,e>>>=1;return(t+e)/n};return v.int32=function(){return 0|b.g(4)},v.quick=function(){return b.g(4)/4294967296},v.double=v,y(M(b.S),o),(n.pass||e||function(t,n,e,r){return r&&(r.S&&g(r,b),t.state=function(){return g(b,{})}),e?(a[f]=t,n):t})(v,p,"global"in n?n.global:this==a,n.state)}function g(t,n){return n.i=t.i,n.j=t.j,n.S=t.S.slice(),n}function y(t,n){for(var e,r=t+"",o=0;o<r.length;)n[m&o]=m&(e^=19*n[m&o])+r.charCodeAt(o++);return M(n)}function M(t){return String.fromCharCode.apply(0,t)}if(a["seed"+f]=p,y(a.random(),o),"object"==typeof t&&t.exports){t.exports=p;try{u=e(112)}catch(t){}}else void 0===(r=function(){return p}.call(n,e,n,t))||(t.exports=r)}([],Math)},114:function(t,n,e){(function(t){var r;!function(t,o,a){function u(t,n){return n.a=t.a,n.b=t.b,n.c=t.c,n.d=t.d,n}function i(t,n){var e=new function(t){var n=this,e="";n.next=function(){var t=n.b,e=n.c,r=n.d,o=n.a;return t=t<<25^t>>>7^e,e=e-r|0,r=r<<24^r>>>8^o,o=o-t|0,n.b=t=t<<20^t>>>12^e,n.c=e=e-r|0,n.d=r<<16^e>>>16^o,n.a=o-t|0},n.a=0,n.b=0,n.c=-1640531527,n.d=1367130551,t===Math.floor(t)?(n.a=t/4294967296|0,n.b=0|t):e+=t;for(var r=0;r<e.length+20;r++)n.b^=0|e.charCodeAt(r),n.next()}(t),r=n&&n.state,o=function(){return(e.next()>>>0)/4294967296};return o.double=function(){do{var t=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=e.next,o.quick=o,r&&("object"==typeof r&&u(r,e),o.state=function(){return u(e,{})}),o}o&&o.exports?o.exports=i:e(9)&&e(17)?void 0===(r=function(){return i}.call(n,e,n,o))||(o.exports=r):this.tychei=i}(0,"object"==typeof t&&t,e(9))}).call(this,e(18)(t))},115:function(t,n,e){(function(t){var r;!function(t,o,a){function u(t,n){return n.i=t.i,n.w=t.w,n.X=t.X.slice(),n}function i(t,n){null==t&&(t=+new Date);var e=new function(t){var n=this;n.next=function(){var t,e,r=n.w,o=n.X,a=n.i;return n.w=r=r+1640531527|0,e=o[a+34&127],t=o[a=a+1&127],e^=e<<13,t^=t<<17,e^=e>>>15,t^=t>>>12,e=o[a]=e^t,n.i=a,e+(r^r>>>16)|0},function(t,n){var e,r,o,a,u,i=[],c=128;for(n===(0|n)?(r=n,n=null):(n+="\0",r=0,c=Math.max(c,n.length)),o=0,a=-32;a<c;++a)n&&(r^=n.charCodeAt((a+32)%n.length)),0===a&&(u=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(u=u+1640531527|0,o=0==(e=i[127&a]^=r+u)?o+1:0);for(o>=128&&(i[127&(n&&n.length||0)]=-1),o=127,a=512;a>0;--a)r=i[o+34&127],e=i[o=o+1&127],r^=r<<13,e^=e<<17,r^=r>>>15,e^=e>>>12,i[o]=r^e;t.w=u,t.X=i,t.i=o}(n,t)}(t),r=n&&n.state,o=function(){return(e.next()>>>0)/4294967296};return o.double=function(){do{var t=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=e.next,o.quick=o,r&&(r.X&&u(r,e),o.state=function(){return u(e,{})}),o}o&&o.exports?o.exports=i:e(9)&&e(17)?void 0===(r=function(){return i}.call(n,e,n,o))||(o.exports=r):this.xor4096=i}(0,"object"==typeof t&&t,e(9))}).call(this,e(18)(t))},116:function(t,n,e){(function(t){var r;!function(t,o,a){function u(t,n){return n.x=t.x.slice(),n.i=t.i,n}function i(t,n){null==t&&(t=+new Date);var e=new function(t){var n=this;n.next=function(){var t,e,r=n.x,o=n.i;return t=r[o],e=(t^=t>>>7)^t<<24,e^=(t=r[o+1&7])^t>>>10,e^=(t=r[o+3&7])^t>>>3,e^=(t=r[o+4&7])^t<<7,t=r[o+7&7],e^=(t^=t<<13)^t<<9,r[o]=e,n.i=o+1&7,e},function(t,n){var e,r=[];if(n===(0|n))r[0]=n;else for(n=""+n,e=0;e<n.length;++e)r[7&e]=r[7&e]<<15^n.charCodeAt(e)+r[e+1&7]<<13;for(;r.length<8;)r.push(0);for(e=0;e<8&&0===r[e];++e);for(8==e?r[7]=-1:r[e],t.x=r,t.i=0,e=256;e>0;--e)t.next()}(n,t)}(t),r=n&&n.state,o=function(){return(e.next()>>>0)/4294967296};return o.double=function(){do{var t=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=e.next,o.quick=o,r&&(r.x&&u(r,e),o.state=function(){return u(e,{})}),o}o&&o.exports?o.exports=i:e(9)&&e(17)?void 0===(r=function(){return i}.call(n,e,n,o))||(o.exports=r):this.xorshift7=i}(0,"object"==typeof t&&t,e(9))}).call(this,e(18)(t))},117:function(t,n,e){(function(t){var r;!function(t,o,a){function u(t,n){return n.x=t.x,n.y=t.y,n.z=t.z,n.w=t.w,n.v=t.v,n.d=t.d,n}function i(t,n){var e=new function(t){var n=this,e="";n.next=function(){var t=n.x^n.x>>>2;return n.x=n.y,n.y=n.z,n.z=n.w,n.w=n.v,(n.d=n.d+362437|0)+(n.v=n.v^n.v<<4^t^t<<1)|0},n.x=0,n.y=0,n.z=0,n.w=0,n.v=0,t===(0|t)?n.x=t:e+=t;for(var r=0;r<e.length+64;r++)n.x^=0|e.charCodeAt(r),r==e.length&&(n.d=n.x<<10^n.x>>>4),n.next()}(t),r=n&&n.state,o=function(){return(e.next()>>>0)/4294967296};return o.double=function(){do{var t=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=e.next,o.quick=o,r&&("object"==typeof r&&u(r,e),o.state=function(){return u(e,{})}),o}o&&o.exports?o.exports=i:e(9)&&e(17)?void 0===(r=function(){return i}.call(n,e,n,o))||(o.exports=r):this.xorwow=i}(0,"object"==typeof t&&t,e(9))}).call(this,e(18)(t))},118:function(t,n,e){(function(t){var r;!function(t,o,a){function u(t,n){return n.x=t.x,n.y=t.y,n.z=t.z,n.w=t.w,n}function i(t,n){var e=new function(t){var n=this,e="";n.x=0,n.y=0,n.z=0,n.w=0,n.next=function(){var t=n.x^n.x<<11;return n.x=n.y,n.y=n.z,n.z=n.w,n.w^=n.w>>>19^t^t>>>8},t===(0|t)?n.x=t:e+=t;for(var r=0;r<e.length+64;r++)n.x^=0|e.charCodeAt(r),n.next()}(t),r=n&&n.state,o=function(){return(e.next()>>>0)/4294967296};return o.double=function(){do{var t=((e.next()>>>11)+(e.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=e.next,o.quick=o,r&&("object"==typeof r&&u(r,e),o.state=function(){return u(e,{})}),o}o&&o.exports?o.exports=i:e(9)&&e(17)?void 0===(r=function(){return i}.call(n,e,n,o))||(o.exports=r):this.xor128=i}(0,"object"==typeof t&&t,e(9))}).call(this,e(18)(t))},119:function(t,n,e){(function(t){var r;!function(t,o,a){function u(t,n){return n.c=t.c,n.s0=t.s0,n.s1=t.s1,n.s2=t.s2,n}function i(t,n){var e=new function(t){var n=this,e=function(){var t=4022871197;return function(n){n=n.toString();for(var e=0;e<n.length;e++){var r=.02519603282416938*(t+=n.charCodeAt(e));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)}}();n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=e(" "),n.s1=e(" "),n.s2=e(" "),n.s0-=e(t),n.s0<0&&(n.s0+=1),n.s1-=e(t),n.s1<0&&(n.s1+=1),n.s2-=e(t),n.s2<0&&(n.s2+=1),e=null}(t),r=n&&n.state,o=e.next;return o.int32=function(){return 4294967296*e.next()|0},o.double=function(){return o()+1.1102230246251565e-16*(2097152*o()|0)},o.quick=o,r&&("object"==typeof r&&u(r,e),o.state=function(){return u(e,{})}),o}o&&o.exports?o.exports=i:e(9)&&e(17)?void 0===(r=function(){return i}.call(n,e,n,o))||(o.exports=r):this.alea=i}(0,"object"==typeof t&&t,e(9))}).call(this,e(18)(t))},128:function(t,n,e){(function(t,n){!function(t,e){"use strict";if(!t.setImmediate){var r,o=1,a={},u=!1,i=t.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(t);c=c&&c.setTimeout?c:t,"[object process]"==={}.toString.call(t.process)?function(){r=function(t){n.nextTick(function(){f(t)})}}():function(){if(t.postMessage&&!t.importScripts){var n=!0,e=t.onmessage;return t.onmessage=function(){n=!1},t.postMessage("","*"),t.onmessage=e,n}}()?function(){var n="setImmediate$"+Math.random()+"$",e=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(n)&&f(+e.data.slice(n.length))};t.addEventListener?t.addEventListener("message",e,!1):t.attachEvent("onmessage",e),r=function(e){t.postMessage(n+e,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){f(t.data)},r=function(n){t.port2.postMessage(n)}}():i&&"onreadystatechange"in i.createElement("script")?function(){var t=i.documentElement;r=function(n){var e=i.createElement("script");e.onreadystatechange=function(){f(n),e.onreadystatechange=null,t.removeChild(e),e=null},t.appendChild(e)}}():function(){r=function(t){setTimeout(f,0,t)}}(),c.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var n=new Array(arguments.length-1),e=0;e<n.length;e++)n[e]=arguments[e+1];var u={callback:t,args:n};return a[o]=u,r(o),o++},c.clearImmediate=s}function s(t){delete a[t]}function f(t){if(u)setTimeout(f,0,t);else{var n=a[t];if(n){u=!0;try{!function(t){var n=t.callback,r=t.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(e,r)}}(n)}finally{s(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,e(15),e(43))},15:function(t,n){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(e=window)}t.exports=e},16:function(t,n,e){"use strict";var r=e(0),o=e(29);const a={UNCHANGED:0,SINGLE_POINT:1,X_LINE:2,Y_LINE:3,Z_LINE:4,XY_PLANE:5,YZ_PLANE:6,XZ_PLANE:7,XYZ_GRID:8,EMPTY:9};var u={StructuredType:a};const{StructuredType:i}=u;var c=Object.assign({getDataDescriptionFromExtent:function(t){let n=0;for(let e=0;e<3;++e)t[2*e]<t[2*e+1]&&n++;return t[0]>t[1]||t[2]>t[3]||t[4]>t[5]?i.EMPTY:3===n?i.XYZ_GRID:2===n?t[0]===t[1]?i.YZ_PLANE:t[2]===t[3]?i.XZ_PLANE:i.XY_PLANE:1===n?t[0]<t[1]?i.X_LINE:t[2]<t[3]?i.Y_LINE:i.Z_LINE:i.SINGLE_POINT}},u),s=e(1);const{vtkErrorMacro:f}=r.default;const l={direction:null,indexToWorld:null,worldToIndex:null,spacing:[1,1,1],origin:[0,0,0],extent:[0,-1,0,-1,0,-1],dataDescription:a.EMPTY};function d(t,n,e={}){if(Object.assign(n,l,e),o.a.extend(t,n,e),n.direction){if(Array.isArray(n.direction)){const t=n.direction.slice(0);n.direction=s.b.create();for(let e=0;e<9;++e)n.direction[e]=t[e]}}else n.direction=s.b.create();n.indexToWorld=s.c.create(),n.worldToIndex=s.c.create(),r.default.get(t,n,["direction","indexToWorld","worldToIndex"]),r.default.setGetArray(t,n,["origin","spacing"],3),r.default.getArray(t,n,["extent"],6),function(t,n){n.classHierarchy.push("vtkImageData"),t.setExtent=((...e)=>{if(n.deleted)return void f("instance deleted - cannot call any method");if(!e||6!==e.length)return;let r=!1;n.extent.forEach((t,n)=>{if(t!==e[n]){if(r)return;r=!0}}),r&&(n.extent=[].concat(e),n.dataDescription=c.getDataDescriptionFromExtent(n.extent),t.modified())}),t.setDimensions=((...e)=>{let r,o,a;if(n.deleted)f("instance deleted - cannot call any method");else{if(1===e.length){const t=e[0];r=t[0],o=t[1],a=t[2]}else{if(3!==e.length)return void f("Bad dimension specification");r=e[0],o=e[1],a=e[2]}t.setExtent(0,r-1,0,o-1,0,a-1)}}),t.getDimensions=(()=>[n.extent[1]-n.extent[0]+1,n.extent[3]-n.extent[2]+1,n.extent[5]-n.extent[4]+1]),t.getNumberOfCells=(()=>{const n=t.getDimensions();let e=1;for(let t=0;t<3;t++){if(0===n[t])return 0;n[t]>1&&(e*=n[t]-1)}return e}),t.getNumberOfPoints=(()=>{const n=t.getDimensions();return n[0]*n[1]*n[2]}),t.getPoint=(e=>{const r=t.getDimensions(),o=s.e.fromValues(0,0,0),u=[0,0,0];if(0===r[0]||0===r[1]||0===r[2])return f("Requesting a point from an empty image."),null;switch(n.dataDescription){case a.EMPTY:return null;case a.SINGLE_POINT:break;case a.X_LINE:o[0]=e;break;case a.Y_LINE:o[1]=e;break;case a.Z_LINE:o[2]=e;break;case a.XY_PLANE:o[0]=e%r[0],o[1]=e/r[0];break;case a.YZ_PLANE:o[1]=e%r[1],o[2]=e/r[1];break;case a.XZ_PLANE:o[0]=e%r[0],o[2]=e/r[0];break;case a.XYZ_GRID:o[0]=e%r[0],o[1]=e/r[0]%r[1],o[2]=e/(r[0]*r[1]);break;default:f("Invalid dataDescription")}const i=s.e.create();return t.indexToWorldVec3(o,i),s.e.copy(u,i),u}),t.getBounds=(()=>t.extentToBounds(n.extent)),t.extentToBounds=(n=>{const e=[n[0],n[2],n[4],n[1],n[2],n[4],n[0],n[3],n[4],n[1],n[3],n[4],n[0],n[2],n[5],n[1],n[2],n[5],n[0],n[3],n[5],n[1],n[3],n[5]],r=s.e.fromValues(e[0],e[1],e[2]),o=s.e.create();t.indexToWorldVec3(r,o);const a=[o[0],o[0],o[1],o[1],o[2],o[2]];for(let n=3;n<24;n+=3)s.e.set(r,e[n],e[n+1],e[n+2]),t.indexToWorldVec3(r,o),o[0]<a[0]&&(a[0]=o[0]),o[1]<a[2]&&(a[2]=o[1]),o[2]<a[4]&&(a[4]=o[2]),o[0]>a[1]&&(a[1]=o[0]),o[1]>a[3]&&(a[3]=o[1]),o[2]>a[5]&&(a[5]=o[2]);return a}),t.computeTransforms=(()=>{const t=s.d.create();s.d.fromMat3(t,n.direction);const e=s.e.fromValues(n.origin[0],n.origin[1],n.origin[2]),r=s.e.fromValues(n.spacing[0],n.spacing[1],n.spacing[2]);s.c.fromRotationTranslationScale(n.indexToWorld,t,e,r),s.c.invert(n.worldToIndex,n.indexToWorld)}),t.setDirection=((...e)=>{if(n.deleted)return f("instance deleted - cannot call any method"),!1;let r=e;if(1===r.length&&Array.isArray(r[0])&&(r=r[0]),9!==r.length)throw new RangeError("Invalid number of values for array setter");let o=!1;if(n.direction.forEach((t,n)=>{if(t!==r[n]){if(o)return;o=!0}}),o){for(let t=0;t<9;++t)n.direction[t]=r[t];t.modified()}return!0}),t.indexToWorldVec3=((t,e)=>{s.e.transformMat4(e,t,n.indexToWorld)}),t.indexToWorld=((t,e)=>{const r=s.e.fromValues(t[0],t[1],t[2]),o=s.e.create();s.e.transformMat4(o,r,n.indexToWorld),s.e.copy(e,o)}),t.worldToIndexVec3=((t,e)=>{s.e.transformMat4(e,t,n.worldToIndex)}),t.worldToIndex=((t,e)=>{const r=s.e.fromValues(t[0],t[1],t[2]),o=s.e.create();s.e.transformMat4(o,r,n.worldToIndex),s.e.copy(e,o)}),t.onModified(t.computeTransforms),t.computeTransforms()}(t,n)}const h=r.default.newInstance(d,"vtkImageData");n.a={newInstance:h,extend:d}},17:function(t,n){(function(n){t.exports=n}).call(this,{})},18:function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},199:function(t,n,e){"use strict";e.r(n);var r=e(0),o=e(16),a=e(3);const{vtkErrorMacro:u}=r.default;var i={convertItkToVtkImage:function(t,n={}){switch(t.imageType.pixelType){case 1:case 2:case 3:break;default:return u(`Cannot handle ITK.js pixel type ${t.imageType.pixelType}`),null}const e={origin:[0,0,0],spacing:[1,1,1]},r=[1,1,1],i=[1,0,0,0,1,0,0,0,1];for(let n=0;n<t.imageType.dimension;++n){e.origin[n]=t.origin[n],e.spacing[n]=t.spacing[n],r[n]=t.size[n];for(let e=0;e<t.imageType.dimension;++e)i[e+3*n]=t.direction.data[n+e*t.imageType.dimension]}const c=o.a.newInstance(e),s=a.a.newInstance({name:n.scalarArrayName||"Scalars",values:t.data,numberOfComponents:t.imageType.components});return c.setDirection(i),c.setDimensions(...r),c.getPointData().setScalars(s),c}};e.d(n,"extend",function(){return d}),e.d(n,"newInstance",function(){return h});const{convertItkToVtkImage:c}=i;let s=null,f=t=>t;const l={fileName:""};function d(t,n,e={}){Object.assign(n,l,e),r.default.obj(t,n),r.default.algo(t,n,0,1),r.default.setGet(t,n,["fileName"]),function(t,n){n.classHierarchy.push("vtkITKImageReader"),t.parseAsArrayBuffer=(e=>e&&e!==n.rawDataBuffer?(n.rawDataBuffer=e,s(e,n.fileName).then(f).then(e=>{const r=c(e);n.output[0]=r,t.modified()})):Promise.resolve()),t.requestData=((e,r)=>{t.parseAsArrayBuffer(n.rawDataBuffer,n.fileName)})}(t,n),s||console.error("\n      // Dependency needs to be added inside your project\n      import readImageArrayBuffer from 'itk/readImageArrayBuffer';\n      vtkITKImageReader.setReadImageArrayBufferFromITK(readImageArrayBuffer);\n      ")}const h=r.default.newInstance(d,"vtkITKImageReader");n.default={newInstance:h,extend:d,setReadImageArrayBufferFromITK:function(t){4===(s=t).length&&(s=((...n)=>t(null,...n)),f=(({webWorker:t,image:n})=>(t.terminate(),n)))}}},2:function(t,n,e){"use strict";var r=e(51),o=e.n(r),a=e(0);const{vtkErrorMacro:u,vtkWarningMacro:i}=a.default;let c=0;const s=20,f=1e-12;function l(t){return()=>u(`vtkMath::${t} - NOT IMPLEMENTED`)}function d(t,n){for(let e=0;e<3;e++){const r=t[e];t[e]=n[e],n[e]=r}}function h(t=3){const n=[];for(;n.length<t;)n.push(0);return n}const{round:m,floor:p,ceil:g,min:y,max:M}=Math;const b=l("ceilLog2"),v=l("factorial");function I(t){let n=1;for(;n<t;)n*=2;return n}const A=l("gaussian");function x(t,n){t[0]*=n,t[1]*=n,t[2]*=n}function O(t,n){t[0]*=n,t[1]*=n}function T(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function w(t,n,e){const r=t[1]*n[2]-t[2]*n[1],o=t[2]*n[0]-t[0]*n[2],a=t[0]*n[1]-t[1]*n[0];e[0]=r,e[1]=o,e[2]=a}function E(t,n=3){switch(n){case 1:return Math.abs(t);case 2:return Math.sqrt(t[0]*t[0]+t[1]*t[1]);case 3:return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);default:{let e=0;for(let r=0;r<n;r++)e+=t[r]*t[r];return Math.sqrt(e)}}}function k(t){const n=E(t);return 0!==n&&(t[0]/=n,t[1]/=n,t[2]/=n),n}function N(t,n){return t[0]*n[0]+t[1]*n[1]}function S(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function C(...t){return 2===t.length?t[0][0]*t[1][1]-t[1][0]*t[0][1]:4===t.length?t[0]*t[3]-t[1]*t[2]:Number.NaN}function D(t,n,e){const r=[[0,0,0],[0,0,0],[0,0,0]];for(let e=0;e<3;e++)r[0][e]=t[0][0]*n[0][e]+t[0][1]*n[1][e]+t[0][2]*n[2][e],r[1][e]=t[1][0]*n[0][e]+t[1][1]*n[1][e]+t[1][2]*n[2][e],r[2][e]=t[2][0]*n[0][e]+t[2][1]*n[1][e]+t[2][2]*n[2][e];for(let t=0;t<3;t++)e[t][0]=r[t][0],e[t][1]=r[t][1],e[t][2]=r[t][2]}function L(t,n){let e;e=t[1][0],n[1][0]=t[0][1],n[0][1]=e,e=t[2][0],n[2][0]=t[0][2],n[0][2]=e,e=t[2][1],n[2][1]=t[1][2],n[1][2]=e,n[0][0]=t[0][0],n[1][1]=t[1][1],n[2][2]=t[2][2]}function _(t){for(let n=0;n<3;n++)t[n][0]=t[n][1]=t[n][2]=0,t[n][n]=1}function P(t){return t[0][0]*t[1][1]*t[2][2]+t[1][0]*t[2][1]*t[0][2]+t[2][0]*t[0][1]*t[1][2]-t[0][0]*t[2][1]*t[1][2]-t[1][0]*t[0][1]*t[2][2]-t[2][0]*t[1][1]*t[0][2]}function j(t,n){const e=t[0]*t[0],r=t[0]*t[1],o=t[0]*t[2],a=t[0]*t[3],u=t[1]*t[1],i=t[2]*t[2],c=t[3]*t[3],s=t[1]*t[2],f=t[1]*t[3],l=t[2]*t[3],d=u+i+c;let h=1/(e+d);const m=(e-d)*h;h*=2,n[0][0]=u*h+m,n[1][0]=(s+a)*h,n[2][0]=(f-o)*h,n[0][1]=(s-a)*h,n[1][1]=i*h+m,n[2][1]=(l+r)*h,n[0][2]=(f+o)*h,n[1][2]=(l-r)*h,n[2][2]=c*h+m}function F(t,n,e,r){let o,a,u,c,f,l,d,m,p,g,y,M,b,v,I,A;const x=h(n),O=h(n),T=(t,n,e,r,o)=>{v=t[n][e],b=t[r][o],t[n][e]=v-M*(b+v*g),t[r][o]=b+M*(v-b*g)};for(f=0;f<n;f++){for(c=0;c<n;c++)r[f][c]=0;r[f][f]=1}for(f=0;f<n;f++)x[f]=e[f]=t[f][f],O[f]=0;for(o=0;o<s;o++){for(y=0,f=0;f<n-1;f++)for(c=f+1;c<n;c++)y+=Math.abs(t[f][c]);if(0===y)break;for(d=o<3?.2*y/(n*n):0,f=0;f<n-1;f++)for(c=f+1;c<n;c++)if(v=100*Math.abs(t[f][c]),o>3&&Math.abs(e[f])+v===Math.abs(e[f])&&Math.abs(e[c])+v===Math.abs(e[c]))t[f][c]=0;else if(Math.abs(t[f][c])>d){for(b=e[c]-e[f],Math.abs(b)+v===Math.abs(b)?p=t[f][c]/b:(m=.5*b/t[f][c],p=1/(Math.abs(m)+Math.sqrt(1+m*m)),m<0&&(p=-p)),I=1/Math.sqrt(1+p*p),g=(M=p*I)/(1+I),b=p*t[f][c],O[f]-=b,O[c]+=b,e[f]-=b,e[c]+=b,t[f][c]=0,a=0;a<=f-1;a++)T(t,a,f,a,c);for(a=f+1;a<=c-1;a++)T(t,f,a,a,c);for(a=c+1;a<n;a++)T(t,f,a,c,a);for(a=0;a<n;a++)T(r,a,f,a,c)}for(f=0;f<n;f++)x[f]+=O[f],e[f]=x[f],O[f]=0}if(o>=s)return i("vtkMath::Jacobi: Error extracting eigenfunctions"),0;for(a=0;a<n-1;a++){for(A=e[u=a],o=a+1;o<n;o++)e[o]>=A&&(A=e[u=o]);if(u!==a)for(e[u]=e[a],e[a]=A,o=0;o<n;o++)A=r[o][a],r[o][a]=r[o][u],r[o][u]=A}const w=(n>>1)+(1&n);for(a=0;a<n;a++){for(l=0,o=0;o<n;o++)r[o][a]>=0&&l++;if(l<w)for(o=0;o<n;o++)r[o][a]*=-1}return 1}function B(t,n){const e=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];e[0][0]=t[0][0]+t[1][1]+t[2][2],e[1][1]=t[0][0]-t[1][1]-t[2][2],e[2][2]=-t[0][0]+t[1][1]-t[2][2],e[3][3]=-t[0][0]-t[1][1]+t[2][2],e[0][1]=e[1][0]=t[2][1]-t[1][2],e[0][2]=e[2][0]=t[0][2]-t[2][0],e[0][3]=e[3][0]=t[1][0]-t[0][1],e[1][2]=e[2][1]=t[1][0]+t[0][1],e[1][3]=e[3][1]=t[0][2]+t[2][0],e[2][3]=e[3][2]=t[2][1]+t[1][2];const r=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],o=[0,0,0,0],a=[0,0,0,0];for(let t=0;t<4;t++)o[t]=e[t],a[t]=r[t];F(o,4,[0,0,0,0],a),n[0]=r[0][0],n[1]=r[1][0],n[2]=r[2][0],n[3]=r[3][0]}function R(t,n){for(let e=0;e<3;e++)n[0][e]=t[0][e],n[1][e]=t[1][e],n[2][e]=t[2][e];const e=h(3),r=h(3);let o;for(let t=0;t<3;t++){const r=Math.abs(n[t][0]),a=Math.abs(n[t][1]),u=Math.abs(n[t][2]);o=u>(o=a>r?a:r)?u:o,e[t]=1,0!==o&&(e[t]/=o)}const a=Math.abs(n[0][0])*e[0],u=Math.abs(n[1][0])*e[1],i=Math.abs(n[2][0])*e[2];r[0]=0,u>=(o=a)&&(o=u,r[0]=1),i>=o&&(r[0]=2),0!==r[0]&&(d(n[r[0]],n[0]),e[r[0]]=e[0]);const c=Math.abs(n[1][1])*e[1],s=Math.abs(n[2][1])*e[2];r[1]=1,s>=(o=c)&&(r[1]=2,d(n[2],n[1])),r[2]=2;let f=0;if(P(n)<0){f=1;for(let t=0;t<3;t++)n[0][t]=-n[0][t],n[1][t]=-n[1][t],n[2][t]=-n[2][t]}const l=h(4);if(B(n,l),j(l,n),f)for(let t=0;t<3;t++)n[0][t]=-n[0][t],n[1][t]=-n[1][t],n[2][t]=-n[2][t];1!==r[1]&&d(n[r[1]],n[1]),0!==r[0]&&d(n[r[0]],n[0])}function q(t,n,e){let r,o,a,u,i,c;const s=[h(3),h(3),h(3)],f=h(3),l=h(3);for(r=0;r<3;r++)s[r][0]=t[r][0],s[r][1]=t[r][1],s[r][2]=t[r][2],f[r]=s[r],l[r]=e[r];if(F(f,3,n,l),n[0]!==n[1]||n[0]!==n[2]){for(L(e,e),r=0;r<3;r++)if(n[(r+1)%3]===n[(r+2)%3]){for(c=Math.abs(e[r][0]),u=0,o=1;o<3;o++)c<(i=Math.abs(e[r][o]))&&(c=i,u=o);return u!==r&&(i=n[u],n[u]=n[r],n[r]=i,d(e[r],e[u])),e[u][u]<0&&(e[u][0]=-e[u][0],e[u][1]=-e[u][1],e[u][2]=-e[u][2]),a=(u+2)%3,e[o=(u+1)%3][0]=0,e[o][1]=0,e[o][2]=0,e[o][o]=1,w(e[u],e[o],e[a]),k(e[a]),w(e[a],e[u],e[o]),void L(e,e)}for(c=Math.abs(e[0][0]),u=0,r=1;r<3;r++)c<(i=Math.abs(e[r][0]))&&(c=i,u=r);for(0!==u&&(i=n[u],n[u]=n[0],n[0]=i,d(e[u],e[0])),Math.abs(e[1][1])<Math.abs(e[2][1])&&(i=n[2],n[2]=n[1],n[1]=i,d(e[2],e[1])),r=0;r<2;r++)e[r][r]<0&&(e[r][0]=-e[r][0],e[r][1]=-e[r][1],e[r][2]=-e[r][2]);P(e)<0&&(e[2][0]=-e[2][0],e[2][1]=-e[2][1],e[2][2]=-e[2][2]),L(e,e)}else _(e)}function $(t,n,e){let r,o,a,u,c,s,l,d=0;const m=h(e);for(r=0;r<e;r++){for(u=0,o=0;o<e;o++)(l=Math.abs(t[r][o]))>u&&(u=l);if(0===u)return i("Unable to factor linear system"),0;m[r]=1/u}for(o=0;o<e;o++){for(r=0;r<o;r++){for(c=t[r][o],a=0;a<r;a++)c-=t[r][a]*t[a][o];t[r][o]=c}for(u=0,r=o;r<e;r++){for(c=t[r][o],a=0;a<o;a++)c-=t[r][a]*t[a][o];t[r][o]=c,(s=m[r]*Math.abs(c))>=u&&(u=s,d=r)}if(o!==d){for(a=0;a<e;a++)s=t[d][a],t[d][a]=t[o][a],t[o][a]=s;m[d]=m[o]}if(n[o]=d,Math.abs(t[o][o])<=f)return i("Unable to factor linear system"),0;if(o!==e-1)for(s=1/t[o][o],r=o+1;r<e;r++)t[r][o]*=s}return 1}function G(t,n,e,r){let o,a,u,i,c;for(u=-1,o=0;o<r;o++){if(c=e[i=n[o]],e[i]=e[o],u>=0)for(a=u;a<=o-1;a++)c-=t[o][a]*e[a];else 0!==c&&(u=o);e[o]=c}for(o=r-1;o>=0;o--){for(c=e[o],a=o+1;a<r;a++)c-=t[o][a]*e[a];e[o]=c/t[o][o]}}function U(t,n,e,r=null,o=null){const a=r||h(e),u=o||h(e);if(0===$(t,a,e))return 0;for(let r=0;r<e;r++){for(let t=0;t<e;t++)u[t]=0;u[r]=1,G(t,a,u,e);for(let t=0;t<e;t++)n[t][r]=u[t]}return 1}function V(t,n,e,r){if(t<e)return i("Insufficient number of samples. Underdetermined."),0;let o,a,u;const c=h(e),s=h(e),f=h(e);for(o=0;o<e;o++)for(f[o]=h(e),c[o]=h(e),a=0;a<e;a++)c[o][a]=0;for(u=0;u<t;u++)for(o=0;o<e;o++)for(a=o;a<e;a++)c[o][a]+=n[u][o]*n[u][a];for(o=0;o<e;o++)for(a=0;a<o;a++)c[o][a]=c[a][o];for(F(c,e,s,f),o=0;o<e;o++)r[o][0]=f[o][e-1];return 1}function z(t,n){const[e,r,o]=t;let a=(e+16)/116,u=r/500+a,i=a-o/200;a**3>.008856?a**=3:a=(a-16/116)/7.787,u**3>.008856?u**=3:u=(u-16/116)/7.787,i**3>.008856?i**=3:i=(i-16/116)/7.787;n[0]=.9505*u,n[1]=1*a,n[2]=1.089*i}function J(t,n){const[e,r,o]=t;let a=e/.9505,u=r/1,i=o/1.089;a>.008856?a**=1/3:a=7.787*a+16/116,u>.008856?u**=1/3:u=7.787*u+16/116,i>.008856?i**=1/3:i=7.787*i+16/116,n[0]=116*u-16,n[1]=500*(a-u),n[2]=200*(u-i)}function X(t,n){const[e,r,o]=t;let a=3.2406*e+-1.5372*r+-.4986*o,u=-.9689*e+1.8758*r+.0415*o,i=.0557*e+-.204*r+1.057*o;a>.0031308?a=1.055*a**(1/2.4)-.055:a*=12.92,u>.0031308?u=1.055*u**(1/2.4)-.055:u*=12.92,i>.0031308?i=1.055*i**(1/2.4)-.055:i*=12.92;let c=a;c<u&&(c=u),c<i&&(c=i),c>1&&(a/=c,u/=c,i/=c),a<0&&(a=0),u<0&&(u=0),i<0&&(i=0),n[0]=a,n[1]=u,n[2]=i}function Y(t,n){let[e,r,o]=t;e>.04045?e=((e+.055)/1.055)**2.4:e/=12.92,r>.04045?r=((r+.055)/1.055)**2.4:r/=12.92,o>.04045?o=((o+.055)/1.055)**2.4:o/=12.92,n[0]=.4124*e+.3576*r+.1805*o,n[1]=.2126*e+.7152*r+.0722*o,n[2]=.0193*e+.1192*r+.9505*o}const W=l("GetScalarTypeFittingRange"),H=l("GetAdjustedScalarRange");const{isFinite:K,isNaN:Z}=Number;n.a={Pi:()=>Math.PI,radiansFromDegrees:t=>t/180*Math.PI,degreesFromRadians:t=>180*t/Math.PI,round:m,floor:p,ceil:g,ceilLog2:b,min:y,max:M,arrayMin:function(t){let n=1/0;for(let e=0,r=t.length;e<r;++e)t[e]<n&&(n=t[e]);return n},arrayMax:function(t){let n=-1/0;for(let e=0,r=t.length;e<r;++e)n<t[e]&&(n=t[e]);return n},isPowerOfTwo:function(t){return t===I(t)},nearestPowerOfTwo:I,factorial:v,binomial:function(t,n){let e=1;for(let r=1;r<=n;++r)e*=(t-r+1)/r;return Math.floor(e)},beginCombination:function(t,n){if(t<n)return 0;const e=h(n);for(let t=0;t<n;++t)e[t]=t;return e},nextCombination:function(t,n,e){let r=0;for(let o=n-1;o>=0;--o)if(e[o]<t-n+o){let t=e[o]+1;for(;o<n;)e[o++]=t++;r=1;break}return r},randomSeed:t=>{o()(`${t}`,{global:!0}),c=t},getSeed:()=>c,random:function(t=0,n=1){return t+(n-t)*Math.random()},gaussian:A,add:function(t,n,e){e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2]},subtract:function(t,n,e){e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2]},multiplyScalar:x,multiplyScalar2D:O,dot:T,outer:function(t,n,e){for(let r=0;r<3;r++)for(let o=0;o<3;o++)e[r][o]=t[r]*n[o]},cross:w,norm:E,normalize:k,perpendiculars:function(t,n,e,r){const o=t[0]*t[0],a=t[1]*t[1],u=t[2]*t[2],i=Math.sqrt(o+a+u);let c,s,f;o>a&&o>u?(c=0,s=1,f=2):a>u?(c=1,s=2,f=0):(c=2,s=0,f=1);const l=t[c]/i,d=t[s]/i,h=t[f]/i,m=Math.sqrt(l*l+h*h);if(0!==r){const t=Math.sin(r),o=Math.cos(r);n&&(n[c]=(h*o-l*d*t)/m,n[s]=t*m,n[f]=(-l*o-d*h*t)/m),e&&(e[c]=(-h*t-l*d*o)/m,e[s]=o*m,e[f]=(l*t-d*h*o)/m)}else n&&(n[c]=h/m,n[s]=0,n[f]=-l/m),e&&(e[c]=-l*d/m,e[s]=m,e[f]=-d*h/m)},projectVector:function(t,n,e){const r=T(n,n);if(0===r)return e[0]=0,e[1]=0,e[2]=0,!1;const o=T(t,n)/r;for(let t=0;t<3;t++)e[t]=n[t];return x(e,o),!0},projectVector2D:function(t,n,e){const r=N(n,n);if(0===r)return e[0]=0,e[1]=0,!1;const o=N(t,n)/r;for(let t=0;t<2;t++)e[t]=n[t];return O(e,o),!0},distance2BetweenPoints:function(t,n){return(t[0]-n[0])*(t[0]-n[0])+(t[1]-n[1])*(t[1]-n[1])+(t[2]-n[2])*(t[2]-n[2])},angleBetweenVectors:function(t,n){const e=[0,0,0];return w(t,n,e),Math.atan2(E(e),T(t,n))},gaussianAmplitude:function(t,n,e){const r=Math.abs(t-e);return 1/Math.sqrt(2*Math.PI*n)*Math.exp(-(r**2)/(2*n))},gaussianWeight:function(t,n,e){const r=Math.abs(t-e);return Math.exp(-(r**2)/(2*n))},dot2D:N,outer2D:function(t,n,e){for(let r=0;r<2;r++)for(let o=0;o<2;o++)e[r][o]=t[r]*n[o]},norm2D:S,normalize2D:function(t){const n=S(t);return 0!==n&&(t[0]/=n,t[1]/=n),n},determinant2x2:C,LUFactor3x3:function(t,n){let e,r,o;const a=[0,0,0];for(let n=0;n<3;n++)o=Math.abs(t[n][0]),(r=Math.abs(t[n][1]))>o&&(o=r),(r=Math.abs(t[n][2]))>o&&(o=r),a[n]=1/o;o=a[0]*Math.abs(t[0][0]),e=0,(r=a[1]*Math.abs(t[1][0]))>=o&&(o=r,e=1),(r=a[2]*Math.abs(t[2][0]))>=o&&(e=2),0!==e&&(d(t[e],t[0]),a[e]=a[0]),n[0]=e,t[1][0]/=t[0][0],t[2][0]/=t[0][0],t[1][1]-=t[1][0]*t[0][1],t[2][1]-=t[2][0]*t[0][1],o=a[1]*Math.abs(t[1][1]),e=1,(r=a[2]*Math.abs(t[2][1]))>=o&&(e=2,d(t[2],t[1]),a[2]=a[1]),n[1]=e,t[2][1]/=t[1][1],t[1][2]-=t[1][0]*t[0][2],t[2][2]-=t[2][0]*t[0][2]+t[2][1]*t[1][2],n[2]=2},LUSolve3x3:function(t,n,e){let r=e[n[0]];e[n[0]]=e[0],e[0]=r,r=e[n[1]],e[n[1]]=e[1],e[1]=r-t[1][0]*e[0],r=e[n[2]],e[n[2]]=e[2],e[2]=r-t[2][0]*e[0]-t[2][1]*e[1],e[2]/=t[2][2],e[1]=(e[1]-t[1][2]*e[2])/t[1][1],e[0]=(e[0]-t[0][1]*e[1]-t[0][2]*e[2])/t[0][0]},linearSolve3x3:function(t,n,e){const r=t[0][0],o=t[0][1],a=t[0][2],u=t[1][0],i=t[1][1],c=t[1][2],s=t[2][0],f=t[2][1],l=t[2][2],d=+C(i,f,c,l),h=-C(u,s,c,l),m=+C(u,s,i,f),p=-C(o,f,a,l),g=+C(r,s,a,l),y=-C(r,s,o,f),M=+C(o,i,a,c),b=-C(r,u,a,c),v=+C(r,u,o,i),I=r*d+o*h+a*m,A=d*n[0]+p*n[1]+M*n[2],x=h*n[0]+g*n[1]+b*n[2],O=m*n[0]+y*n[1]+v*n[2];e[0]=A/I,e[1]=x/I,e[2]=O/I},multiply3x3_vect3:function(t,n,e){const r=t[0][0]*n[0]+t[0][1]*n[1]+t[0][2]*n[2],o=t[1][0]*n[0]+t[1][1]*n[1]+t[1][2]*n[2],a=t[2][0]*n[0]+t[2][1]*n[1]+t[2][2]*n[2];e[0]=r,e[1]=o,e[2]=a},multiply3x3_mat3:D,multiplyMatrix:function(t,n,e,r,o,a,i){r!==o&&u("Number of columns of A must match number of rows of B.");for(let o=0;o<e;o++)for(let e=0;e<a;e++){i[o][e]=0;for(let a=0;a<r;a++)i[o][e]+=t[o][a]*n[a][e]}},transpose3x3:L,invert3x3:function(t,n){const e=t[0][0],r=t[0][1],o=t[0][2],a=t[1][0],u=t[1][1],i=t[1][2],c=t[2][0],s=t[2][1],f=t[2][2],l=+C(u,s,i,f),d=-C(a,c,i,f),h=+C(a,c,u,s),m=-C(r,s,o,f),p=+C(e,c,o,f),g=-C(e,c,r,s),y=+C(r,u,o,i),M=-C(e,a,o,i),b=+C(e,a,r,u),v=e*l+r*d+o*h;n[0][0]=l/v,n[1][0]=d/v,n[2][0]=h/v,n[0][1]=m/v,n[1][1]=p/v,n[2][1]=g/v,n[0][2]=y/v,n[1][2]=M/v,n[2][2]=b/v},identity3x3:_,determinant3x3:P,quaternionToMatrix3x3:j,areMatricesEqual:function(t,n){return!t.length!==n.length&&t.every(function(t,e){return t===n[e]})},matrix3x3ToQuaternion:B,multiplyQuaternion:function(t,n,e){const r=t[0]*n[0],o=t[0]*n[1],a=t[0]*n[2],u=t[0]*n[3],i=t[1]*n[0],c=t[1]*n[1],s=t[1]*n[2],f=t[1]*n[3],l=t[2]*n[0],d=t[2]*n[1],h=t[2]*n[2],m=t[2]*n[3],p=t[3]*n[0],g=t[3]*n[1],y=t[3]*n[2],M=t[3]*n[3];e[0]=r-c-h-M,e[1]=o+i+m-y,e[2]=a-f+l+g,e[3]=u+s-d+p},orthogonalize3x3:R,diagonalize3x3:q,singularValueDecomposition3x3:function(t,n,e,r){let o;const a=[h(3),h(3),h(3)];for(o=0;o<3;o++)a[0][o]=t[0][o],a[1][o]=t[1][o],a[2][o]=t[2][o];const u=P(a);if(u<0)for(o=0;o<3;o++)a[0][o]=-a[0][o],a[1][o]=-a[1][o],a[2][o]=-a[2][o];R(a,n),L(a,a),D(a,n,r),q(r,e,r),D(n,r,n),L(r,r),u<0&&(e[0]=-e[0],e[1]=-e[1],e[2]=-e[2])},solveLinearSystem:function(t,n,e){if(2===e){const e=h(2),r=C(t[0][0],t[0][1],t[1][0],t[1][1]);return 0===r?0:(e[0]=(t[1][1]*n[0]-t[0][1]*n[1])/r,e[1]=(-t[1][0]*n[0]+t[0][0]*n[1])/r,n[0]=e[0],n[1]=e[1],1)}if(1===e)return 0===t[0][0]?0:(n[0]/=t[0][0],1);const r=h(e);return 0===$(t,r,e)?0:(G(t,r,n,e),1)},invertMatrix:U,luFactorLinearSystem:$,luSolveLinearSystem:G,estimateMatrixCondition:function(t,n){let e=+Number.MAX_VALUE,r=-Number.MAX_VALUE;for(let e=0;e<n;e++)for(let o=e;o<n;o++)Math.abs(t[e][o])>M&&(r=Math.abs(t[e][o]));for(let r=0;r<n;r++)Math.abs(t[r][r])<y&&(e=Math.abs(t[r][r]));return 0===e?Number.MAX_VALUE:r/e},jacobi:function(t,n,e){return F(t,3,n,e)},jacobiN:F,solveHomogeneousLeastSquares:V,solveLeastSquares:function(t,n,e,r,o,a,u=!0){if(t<e||t<o)return i("Insufficient number of samples. Underdetermined."),0;const c=h(o);let s,l,d,m,p=1,g=0,y=0;if(u){for(d=0;d<o;d++)c[d]=1;for(l=0;l<t;l++)for(d=0;d<o;d++)Math.abs(r[l][d])>f&&(p=0,c[d]=0);if(p&&1===o)return i("Detected homogeneous system (Y=0), calling SolveHomogeneousLeastSquares()"),V(t,n,e,a);if(p)y=1;else for(d=0;d<o;d++)c[d]&&(y=1)}if(y){for(s=h(e),d=0;d<e;d++)s[d]=[0];g=V(t,n,e,s)}const M=h(e),b=h(e),v=h(e);for(l=0;l<e;l++){for(M[l]=h(e),b[l]=h(e),d=0;d<e;d++)M[l][d]=0,b[l][d]=0;for(v[l]=h(o),d=0;d<o;d++)v[l][d]=0}for(m=0;m<t;m++)for(l=0;l<e;l++){for(d=l;d<e;d++)M[l][d]+=n[m][l]*n[m][d];for(d=0;d<o;d++)v[l][d]+=n[m][l]*r[m][d]}for(l=0;l<e;l++)for(d=0;d<l;d++)M[l][d]=M[d][l];const I=U(M,b,e);if(I)for(l=0;l<e;l++)for(d=0;d<o;d++)for(a[l][d]=0,m=0;m<e;m++)a[l][d]+=b[l][m]*v[m][d];if(y)for(d=0;d<o;d++)if(c[d])for(l=0;l<e;l++)a[l][d]=s[l][0];return y?g&&I:I},hex2float:function(t,n=[0,.5,1]){switch(t.length){case 3:return n[0]=17*parseInt(t[0],16)/255,n[1]=17*parseInt(t[1],16)/255,n[2]=17*parseInt(t[2],16)/255,n;case 4:return n[0]=17*parseInt(t[1],16)/255,n[1]=17*parseInt(t[2],16)/255,n[2]=17*parseInt(t[3],16)/255,n;case 6:return n[0]=parseInt(t.substr(0,2),16)/255,n[1]=parseInt(t.substr(2,2),16)/255,n[2]=parseInt(t.substr(4,2),16)/255,n;case 7:return n[0]=parseInt(t.substr(1,2),16)/255,n[1]=parseInt(t.substr(3,2),16)/255,n[2]=parseInt(t.substr(5,2),16)/255,n;case 9:return n[0]=parseInt(t.substr(1,2),16)/255,n[1]=parseInt(t.substr(3,2),16)/255,n[2]=parseInt(t.substr(5,2),16)/255,n[3]=parseInt(t.substr(7,2),16)/255,n;default:return n}},rgb2hsv:function(t,n){let e,r;const[o,a,u]=t;let i=o,c=o;a>i?i=a:a<c&&(c=a),u>i?i=u:u<c&&(c=u);const s=i;(r=s>0?(i-c)/i:0)>0?(e=o===i?1/6*(a-u)/(i-c):a===i?1/3+1/6*(u-o)/(i-c):2/3+1/6*(o-a)/(i-c))<0&&(e+=1):e=0,n[0]=e,n[1]=r,n[2]=s},hsv2rgb:function(t,n){const[e,r,o]=t;let a,u,i;e>1/6&&e<=1/3?(u=1,a=(1/3-e)/(1/6),i=0):e>1/3&&e<=.5?(u=1,i=(e-1/3)/(1/6),a=0):e>.5&&e<=2/3?(i=1,u=(2/3-e)/(1/6),a=0):e>2/3&&e<=5/6?(i=1,a=(e-2/3)/(1/6),u=0):e>5/6&&e<=1?(a=1,i=(1-e)/(1/6),u=0):(a=1,u=e/(1/6),i=0),a=r*a+(1-r),u=r*u+(1-r),i=r*i+(1-r),a*=o,u*=o,i*=o,n[0]=a,n[1]=u,n[2]=i},lab2xyz:z,xyz2lab:J,xyz2rgb:X,rgb2xyz:Y,rgb2lab:function(t,n){const e=[0,0,0];Y(t,e),J(e,n)},lab2rgb:function(t,n){const e=[0,0,0];z(t,e),X(e,n)},uninitializeBounds:function(t){t[0]=1,t[1]=-1,t[2]=1,t[3]=-1,t[4]=1,t[5]=-1},areBoundsInitialized:function(t){return!(t[1]-t[0]<0)},clampValue:function(t,n,e){return t<n?n:t>e?e:t},clampAndNormalizeValue:function(t,n){let e=0;return n[0]!==n[1]&&(e=((e=t<n[0]?n[0]:t>n[1]?n[1]:t)-n[0])/(n[1]-n[0])),e},getScalarTypeFittingRange:W,getAdjustedScalarRange:H,extentIsWithinOtherExtent:function(t,n){if(!t||!n)return 0;for(let e=0;e<6;e+=2)if(t[e]<n[e]||t[e]>n[e+1]||t[e+1]<n[e]||t[e+1]>n[e+1])return 0;return 1},boundsIsWithinOtherBounds:function(t,n,e){if(!t||!n)return 0;for(let r=0;r<6;r+=2)if(t[r]+e[r/2]<n[r]||t[r]-e[r/2]>n[r+1]||t[r+1]+e[r/2]<n[r]||t[r+1]-e[r/2]>n[r+1])return 0;return 1},pointIsWithinBounds:function(t,n,e){if(!t||!n||!e)return 0;for(let r=0;r<3;r++)if(t[r]+e[r]<n[2*r]||t[r]-e[r]>n[2*r+1])return 0;return 1},solve3PointCircle:function(t,n,e,r){const o=h(3),a=h(3),u=h(3),i=h(3),c=h(3),s=h(3);for(let r=0;r<3;++r)o[r]=t[r]-n[r],a[r]=n[r]-e[r],u[r]=e[r]-t[r],i[r]=-o[r],c[r]=-a[r],s[r]=-u[r];const f=E(i),l=E(c),d=E(u),m=h(3);w(o,a,m);const p=E(m),g=f*l*d/(2*p),y=2*p*p,M=l*l*T(o,s)/y,b=d*d*T(i,a)/y,v=f*f*T(u,c)/y;for(let o=0;o<3;++o)r[o]=M*t[o]+b*n[o]+v*e[o];return g},inf:1/0,negInf:-1/0,isInf:t=>!Number.isFinite(t),isNan:Z,isNaN:Z,isFinite:K,createUninitializedBounds:function(){return[].concat([Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE])}}},202:function(t,n,e){"use strict";e.r(n);var r=e(39),o=e.n(r),a={itkModulesPath:"itk"};n.default=function(t,n,e,r){var u=t;return u||(u=new window.Worker(a.itkModulesPath+"/WebWorkers/ImageIO.worker.js")),new o.a(u).postMessage({operation:"readImage",name:e,type:r,data:n,config:a},[n]).then(function(t){return Promise.resolve({image:t,webWorker:u})})}},210:function(t,n){var e={bmp:"itkBMPImageIOJSBinding",BMP:"itkBMPImageIOJSBinding",dcm:"itkDCMTKImageIOJSBinding",DCM:"itkDCMTKImageIOJSBinding",gipl:"itkGiplImageIOJSBinding","gipl.gz":"itkGiplImageIOJSBinding",hdf5:"itkHDF5ImageIOJSBinding",jpg:"itkJPEGImageIOJSBinding",JPG:"itkJPEGImageIOJSBinding",jpeg:"itkJPEGImageIOJSBinding",JPEG:"itkJPEGImageIOJSBinding",json:"itkJSONImageIOJSBinding",lsm:"itkLSMImageIOJSBinding",mnc:"itkMINCImageIOJSBinding",MNC:"itkMINCImageIOJSBinding","mnc.gz":"itkMINCImageIOJSBinding","MNC.GZ":"itkMINCImageIOJSBinding",mnc2:"itkMINCImageIOJSBinding",MNC2:"itkMINCImageIOJSBinding",mgh:"itkMGHImageIOJSBinding",mgz:"itkMGHImageIOJSBinding","mgh.gz":"itkMGHImageIOJSBinding",mha:"itkMetaImageIOJSBinding",mhd:"itkMetaImageIOJSBinding",mrc:"itkMRCImageIOJSBinding",nia:"itkNiftiImageIOJSBinding",nii:"itkNiftiImageIOJSBinding","nii.gz":"itkNiftiImageIOJSBinding",hdr:"itkNiftiImageIOJSBinding",nrrd:"itkNrrdImageIOJSBinding",NRRD:"itkNrrdImageIOJSBinding",nhdr:"itkNrrdImageIOJSBinding",NHDR:"itkNrrdImageIOJSBinding",png:"itkPNGImageIOJSBinding",PNG:"itkPNGImageIOJSBinding",pic:"itkBioRadImageIOJSBinding",PIC:"itkBioRadImageIOJSBinding",tif:"itkTIFFImageIOJSBinding",TIF:"itkTIFFImageIOJSBinding",tiff:"itkTIFFImageIOJSBinding",TIFF:"itkTIFFImageIOJSBinding",vtk:"itkVTKImageIOJSBinding",VTK:"itkVTKImageIOJSBinding"};t.exports=e},211:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.extensions=void 0,n.registerToGlance=c;var r=u(e(199)),o=u(e(210)),a=u(e(202));function u(t){return t&&t.__esModule?t:{default:t}}r.default.setReadImageArrayBufferFromITK(a.default);var i=n.extensions=Array.from(new Set(Object.keys(o.default).map(function(t){return t.toLowerCase()})));function c(t){t&&i.forEach(function(n){return t.registerReader({extension:n,name:n.toUpperCase()+" Reader",vtkReader:r.default,binary:!0,fileNameMethod:"setFileName"})})}n.default={extensions:i,registerToGlance:c},c(("undefined"==typeof window?{}:window).Glance)},29:function(t,n,e){"use strict";var r=e(0),o=e(7),a=e(3);const u={arrays:[],copyFieldFlags:[],doCopyAllOn:!0,doCopyAllOff:!1};function i(t,n,e={}){Object.assign(n,u,e),r.default.obj(t,n),function(t,n){n.classHierarchy.push("vtkFieldData");const e=t.getState;n.arrays&&(n.arrays=n.arrays.map(t=>({data:Object(o.a)(t.data)}))),t.initialize=(()=>{t.initializeFields(),t.copyAllOn(),t.clearFieldFlags()}),t.initializeFields=(()=>{n.arrays=[],n.copyFieldFlags={},t.modified()}),t.copyStructure=(e=>{t.initializeFields(),n.copyFieldFlags=e.getCopyFieldFlags().map(t=>t),n.arrays=e.arrays().map(t=>({array:t}))}),t.getNumberOfArrays=(()=>n.arrays.length),t.getNumberOfActiveArrays=(()=>n.arrays.length),t.addArray=(t=>(n.arrays=[].concat(n.arrays,{data:t}),n.arrays.length-1)),t.removeAllArrays=(()=>{n.arrays=[]}),t.removeArray=(t=>{n.arrays=n.arrays.filter(n=>t!==n.data.getName())}),t.removeArrayByIndex=(t=>{n.arrays=n.arrays.filter((n,e)=>e!==t)}),t.getArrays=(()=>n.arrays.map(t=>t.data)),t.getArray=(n=>"number"==typeof n?t.getArrayByIndex(n):t.getArrayByName(n)),t.getArrayByName=(t=>n.arrays.reduce((n,e,r)=>e.data.getName()===t?e.data:n,null)),t.getArrayWithIndex=(t=>n.arrays.reduce((n,e,r)=>e.data&&e.data.getName()===t?{array:e.data,index:r}:n,{array:null,index:-1})),t.getArrayByIndex=(t=>t>=0&&t<n.arrays.length?n.arrays[t].data:null),t.hasArray=(n=>t.getArrayWithIndex(n).index>=0),t.getArrayName=(t=>{const e=n.arrays[t];return e?e.data.getName():""}),t.getCopyFieldFlags=(()=>n.copyFieldFlags),t.getFlag=(t=>n.copyFieldFlags[t]),t.passData=((e,r=-1,o=-1)=>{e.getArrays().forEach(e=>{const u=t.getFlag(e.getName());if(!1!==u&&(!n.doCopyAllOff||!0===u)&&e){let n=t.getArrayByName(e.getName());if(n){if(e.getNumberOfComponents()===n.getNumberOfComponents())if(r>-1&&r<e.getNumberOfTuples()){const t=o>-1?o:r;n.setTuple(t,e.getTuple(r))}else for(let t=0;t<e.getNumberOfTuples();++t)n.setTuple(t,e.getTuple(t))}else if(r<0||r>e.getNumberOfTuples())t.addArray(e);else{const u=e.getNumberOfComponents();let i=e.getNumberOfValues();const c=o>-1?o:r;i<c*u&&(i=(c+1)*u),(n=a.a.newInstance({name:e.getName(),dataType:e.getDataType(),numberOfComponents:e.getNumberOfComponents(),size:i})).setTuple(c,e.getTuple(r)),t.addArray(n)}}})}),t.copyFieldOn=(t=>{n.copyFieldFlags[t]=!0}),t.copyFieldOff=(t=>{n.copyFieldFlags[t]=!1}),t.copyAllOn=(()=>{n.doCopyAllOn&&!n.doCopyAllOff||(n.doCopyAllOn=!0,n.doCopyAllOff=!1,t.modified())}),t.copyAllOff=(()=>{!n.doCopyAllOn&&n.doCopyAllOff||(n.doCopyAllOn=!1,n.doCopyAllOff=!0,t.modified())}),t.clearFieldFlags=(()=>{n.copyFieldFlags={}}),t.deepCopy=(t=>{n.arrays=t.getArrays().map(t=>{const n=t.newClone();return n.deepCopy(t),{data:n}})}),t.copyFlags=(t=>t.getCopyFieldFlags().map(t=>t)),t.reset=(()=>n.arrays.forEach(t=>t.data.reset())),t.getMTime=(()=>n.arrays.reduce((t,n)=>n.data.getMTime()>t?n.data.getMTime():t,n.mtime)),t.getNumberOfComponents=(()=>n.arrays.reduce((t,n)=>t+n.data.getNumberOfComponents(),0)),t.getNumberOfTuples=(()=>n.arrays.length>0?n.arrays[0].getNumberOfTuples():0),t.getState=(()=>{const t=e();return t.arrays=n.arrays.map(t=>({data:t.data.getState()})),t})}(t,n)}var c={newInstance:r.default.newInstance(i,"vtkFieldData"),extend:i};var s={AttributeCopyOperations:{COPYTUPLE:0,INTERPOLATE:1,PASSDATA:2,ALLCOPY:3},AttributeLimitTypes:{MAX:0,EXACT:1,NOLIMIT:2},AttributeTypes:{SCALARS:0,VECTORS:1,NORMALS:2,TCOORDS:3,TENSORS:4,GLOBALIDS:5,PEDIGREEIDS:6,EDGEFLAG:7,NUM_ATTRIBUTES:8},CellGhostTypes:{DUPLICATECELL:1,HIGHCONNECTIVITYCELL:2,LOWCONNECTIVITYCELL:4,REFINEDCELL:8,EXTERIORCELL:16,HIDDENCELL:32},DesiredOutputPrecision:{DEFAULT:0,SINGLE:1,DOUBLE:2},PointGhostTypes:{DUPLICATEPOINT:1,HIDDENPOINT:2},ghostArrayName:"vtkGhostType"};const{AttributeTypes:f,AttributeCopyOperations:l}=s,{vtkWarningMacro:d}=r.default;const h={activeScalars:-1,activeVectors:-1,activeTensors:-1,activeNormals:-1,activeTCoords:-1,activeGlobalIds:-1,activePedigreeIds:-1};function m(t,n,e={}){Object.assign(n,h,e),c.extend(t,n,e),r.default.setGet(t,n,["activeScalars","activeNormals","activeTCoords","activeVectors","activeTensors","activeGlobalIds","activePedigreeIds"]),n.arrays||(n.arrays={}),function(t,n){const e=["Scalars","Vectors","Normals","TCoords","Tensors","GlobalIds","PedigreeIds"];function o(t){let n=e.find(n=>f[n.toUpperCase()]===t||"number"!=typeof t&&n.toLowerCase()===t.toLowerCase());return void 0===n&&(n=null),n}n.classHierarchy.push("vtkDataSetAttributes"),t.checkNumberOfComponents=(t=>!0),t.setAttribute=((e,r)=>{const a=o(r);if(e&&"PEDIGREEIDS"===a.toUpperCase()&&!e.isA("vtkDataArray"))return d(`Cannot set attribute ${a}. The attribute must be a vtkDataArray.`),-1;if(e&&!t.checkNumberOfComponents(e,a))return d(`Cannot set attribute ${a}. Incorrect number of components.`),-1;let u=n[`active${a}`];if(u>=0&&u<n.arrays.length){if(n.arrays[u]===e)return u;t.removeArrayByIndex(u)}return e?(u=t.addArray(e),n[`active${a}`]=u):n[`active${a}`]=-1,t.modified(),n[`active${a}`]}),t.setActiveAttributeByName=((n,e)=>t.setActiveAttributeByIndex(t.getArrayWithIndex(n).index,e)),t.setActiveAttributeByIndex=((e,r)=>{const a=o(r);if(e>=0&&e<n.arrays.length){if("PEDIGREEIDS"!==a.toUpperCase()){const n=t.getArrayByIndex(e);if(!n.isA("vtkDataArray"))return d(`Cannot set attribute ${a}. Only vtkDataArray subclasses can be set as active attributes.`),-1;if(!t.checkNumberOfComponents(n,a))return d(`Cannot set attribute ${a}. Incorrect number of components.`),-1}return n[`active${a}`]=e,t.modified(),e}return-1===e&&(n[`active${a}`]=e,t.modified()),-1}),t.getActiveAttribute=(n=>{const e=o(n);return t[`get${e}`]()}),t.removeAllArrays=(()=>{n.arrays=[],e.forEach(t=>{n[`active${t}`]=-1})}),t.removeArray=(t=>{n.arrays=n.arrays.filter((r,o)=>t!==r.data.getName()||(e.forEach(t=>{o===n[`active${t}`]&&(n[`active${t}`]=-1)}),!1))}),t.removeArrayByIndex=(t=>{n.arrays=n.arrays.filter((n,e)=>e!==t),e.forEach(e=>{t===n[`active${e}`]&&(n[`active${e}`]=-1)})}),e.forEach(e=>{const r=`active${e}`;t[`get${e}`]=(()=>t.getArrayByIndex(n[r])),t[`set${e}`]=(n=>t.setAttribute(n,e)),t[`setActive${e}`]=(n=>t.setActiveAttributeByIndex(t.getArrayWithIndex(n).index,e)),t[`copy${e}Off`]=(()=>{t.initialize();const r=e.toUpperCase();n.copyAttributeFlags[l.PASSDATA][f[r]]=!1})}),t.initialize=r.default.chain(t.initialize,()=>{n.copyAttributeFlags=[],Object.keys(l).filter(t=>"ALLCOPY"!==t).forEach(t=>{n.copyAttributeFlags[l[t]]=Object.keys(f).filter(t=>"NUM_ATTRIBUTES"!==t).reduce((t,n)=>(t[f[n]]=!0,t),[])}),n.copyAttributeFlags[l.COPYTUPLE][f.GLOBALIDS]=!1,n.copyAttributeFlags[l.INTERPOLATE][f.GLOBALIDS]=!1,n.copyAttributeFlags[l.COPYTUPLE][f.PEDIGREEIDS]=!1}),n.dataArrays&&Object.keys(n.dataArrays).length&&Object.keys(n.dataArrays).forEach(e=>{n.dataArrays[e].ref||"vtkDataArray"!==n.dataArrays[e].type||t.addArray(a.a.newInstance(n.dataArrays[e]))})}(t,n)}const p=r.default.newInstance(m,"vtkDataSetAttributes");var g=Object.assign({newInstance:p,extend:m},s);var y={FieldDataTypes:{UNIFORM:0,DATA_OBJECT_FIELD:0,COORDINATE:1,POINT_DATA:1,POINT:2,POINT_FIELD_DATA:2,CELL:3,CELL_FIELD_DATA:3,VERTEX:4,VERTEX_FIELD_DATA:4,EDGE:5,EDGE_FIELD_DATA:5,ROW:6,ROW_DATA:6},FieldAssociations:{FIELD_ASSOCIATION_POINTS:0,FIELD_ASSOCIATION_CELLS:1,FIELD_ASSOCIATION_NONE:2,FIELD_ASSOCIATION_POINTS_THEN_CELLS:3,FIELD_ASSOCIATION_VERTICES:4,FIELD_ASSOCIATION_EDGES:5,FIELD_ASSOCIATION_ROWS:6,NUMBER_OF_ASSOCIATIONS:7}};const M=["pointData","cellData","fieldData"];const b={};function v(t,n,e={}){Object.assign(n,b,e),r.default.obj(t,n),r.default.setGet(t,n,M),function(t,n){n.classHierarchy.push("vtkDataSet"),M.forEach(t=>{n[t]?n[t]=Object(o.a)(n[t]):n[t]=g.newInstance()})}(0,n)}const I=r.default.newInstance(v,"vtkDataSet");n.a=Object.assign({newInstance:I,extend:v},y)},3:function(t,n,e){"use strict";var r=e(5),o=e(0),a=e(2);const{DefaultDataType:u}=r.c,i=[];function c(){let t=Number.MAX_VALUE,n=-Number.MAX_VALUE,e=0,r=0;return{add(o){t>o&&(t=o),n<o&&(n=o),e++,r+=o},get:()=>({min:t,max:n,count:e,sum:r,mean:r/e}),getRange:()=>({min:t,max:n})}}function s(t,n=0,e=1){const r=c(),o=t.length;let a=0;if(n<0&&e>1){for(let n=0;n<o;n+=e){a=0;for(let r=0;r<e;r++)a+=t[n+r]*t[n+r];a**=.5,r.add(a)}return r.getRange()}for(let a=n<0?0:n;a<o;a+=e)r.add(t[a]);return r.getRange()}function f(t){return Object.prototype.toString.call(t).split(" ")[1].slice(0,-1)}const l={computeRange:s,createRangeHelper:c,getDataType:f,getMaxNorm:function(t){const n=t.getNumberOfComponents();let e=0;for(let r=0;r<t.getNumberOfTuples();++r){const o=a.a.norm(t.getTuple(r),n);o>e&&(e=o)}return e}};const d={name:"",numberOfComponents:1,size:0,dataType:u,rangeTuple:[0,0]};function h(t,n,e={}){if(Object.assign(n,d,e),!n.empty&&!n.values&&!n.size)throw new TypeError("Cannot create vtkDataArray object without: size > 0, values");n.values?Array.isArray(n.values)&&(n.values=window[n.dataType].from(n.values)):n.values=new window[n.dataType](n.size),n.values&&(n.size=n.values.length,n.dataType=f(n.values)),o.default.obj(t,n),o.default.set(t,n,["name","numberOfComponents"]),function(t,n){function e(){n.ranges=null,t.modified()}n.classHierarchy.push("vtkDataArray"),t.getElementComponentSize=(()=>n.values.BYTES_PER_ELEMENT),t.getComponent=((t,e=0)=>n.values[t*n.numberOfComponents+e]),t.setComponent=((t,r,o)=>{o!==n.values[t*n.numberOfComponents+r]&&(n.values[t*n.numberOfComponents+r]=o,e())}),t.getData=(()=>n.values),t.getRange=((t=-1)=>{const e=t<0?n.numberOfComponents:t;let r=null;return n.ranges||(n.ranges=function(t,n=0){const e=t||[];for(;e.length<=n;)e.push(null);return e}(n.ranges,n.numberOfComponents)),(r=n.ranges[e])?(n.rangeTuple[0]=r.min,n.rangeTuple[1]=r.max,n.rangeTuple):(r=s(n.values,t,n.numberOfComponents),n.ranges[e]=r,n.rangeTuple[0]=r.min,n.rangeTuple[1]=r.max,n.rangeTuple)}),t.setTuple=((t,e)=>{const r=t*n.numberOfComponents;for(let t=0;t<n.numberOfComponents;t++)n.values[r+t]=e[t]}),t.getTuple=((t,e=i)=>{const r=n.numberOfComponents||1;e.length!==r&&(e.length=r);const o=t*r;if(1===r)e[0]=n.values[o];else if(2===r)e[0]=n.values[o],e[1]=n.values[o+1];else if(3===r)e[0]=n.values[o],e[1]=n.values[o+1],e[2]=n.values[o+2];else if(4===r)e[0]=n.values[o],e[1]=n.values[o+1],e[2]=n.values[o+2],e[3]=n.values[o+3];else for(let t=0;t<r;t++)e[t]=n.values[o+t];return e}),t.getTupleLocation=((t=1)=>t*n.numberOfComponents),t.getNumberOfComponents=(()=>n.numberOfComponents),t.getNumberOfValues=(()=>n.values.length),t.getNumberOfTuples=(()=>n.values.length/n.numberOfComponents),t.getDataType=(()=>n.dataType),t.newClone=(()=>m({empty:!0,name:n.name,dataType:n.dataType,numberOfComponents:n.numberOfComponents})),t.getName=(()=>(n.name||(t.modified(),n.name=`vtkDataArray${t.getMTime()}`),n.name)),t.setData=((t,r)=>{n.values=t,n.size=t.length,n.dataType=f(t),r&&(n.numberOfComponents=r),n.size%n.numberOfComponents!=0&&(n.numberOfComponents=1),e()}),t.shallowCopy=(()=>m(Object.assign({},n))),t.getState=(()=>{const e=Object.assign({},n,{vtkClass:t.getClassName()});e.values=Array.from(e.values),delete e.buffer,Object.keys(e).forEach(t=>{e[t]||delete e[t]});const r={};return Object.keys(e).sort().forEach(t=>{r[t]=e[t]}),r.mtime&&delete r.mtime,r})}(t,n)}const m=o.default.newInstance(h,"vtkDataArray");n.a=Object.assign({newInstance:m,extend:h},l,r.c)},39:function(t,n,e){"use strict";var r=function(){return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,n){var e=[],r=!0,o=!1,a=void 0;try{for(var u,i=t[Symbol.iterator]();!(r=(u=i.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){o=!0,a=t}finally{try{!r&&i.return&&i.return()}finally{if(o)throw a}}return e}(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}();function a(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}var u=e(108),i=function(t){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e._messageId=1,e._messages=new Map,e._worker=t,e._worker.onmessage=e._onMessage.bind(e),e._id=Math.ceil(1e7*Math.random()),e}return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}(n,u),o(n,[{key:"terminate",value:function(){this._worker.terminate()}},{key:"isFree",value:function(){return 0===this._messages.size}},{key:"jobsLength",value:function(){return this._messages.size}},{key:"exec",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments[3];return new Promise(function(a,u){var i=e._messageId++;e._messages.set(i,[a,u,o]),e._worker.postMessage([i,n,t],r||[])})}},{key:"postMessage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments[2];return new Promise(function(o,a){var u=n._messageId++;n._messages.set(u,[o,a,r]),n._worker.postMessage([u,t],e||[])})}},{key:"emit",value:function(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];this._worker.postMessage({eventName:t,args:e})}},{key:"_onMessage",value:function(t){var e;if(!Array.isArray(t.data)&&t.data.eventName)return(e=function t(n,e,r){null===n&&(n=Function.prototype);var o=Object.getOwnPropertyDescriptor(n,e);if(void 0===o){var a=Object.getPrototypeOf(n);return null===a?void 0:t(a,e,r)}if("value"in o)return o.value;var u=o.get;return void 0!==u?u.call(r):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"emit",this)).call.apply(e,[this,t.data.eventName].concat(a(t.data.args)));var r=function(t){return Array.isArray(t)?t:Array.from(t)}(t.data),o=r[0],u=r.slice(1);if(1===o)this._onEvent.apply(this,a(u));else{if(0!==o)throw new Error("Wrong message type '"+o+"'");this._onResult.apply(this,a(u))}}},{key:"_onResult",value:function(t,n,e){var o=this._messages.get(t),a=r(o,2),u=a[0],i=a[1];return this._messages.delete(t),1===n?u(e):i(e)}},{key:"_onEvent",value:function(t,n,e){var o=this._messages.get(t),a=r(o,3)[2];a&&a(n,e)}}]),n}();t.exports=i},43:function(t,n){var e,r,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function i(t){if(e===setTimeout)return setTimeout(t,0);if((e===a||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:a}catch(t){e=a}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(t){r=u}}();var c,s=[],f=!1,l=-1;function d(){f&&c&&(f=!1,c.length?s=c.concat(s):l=-1,s.length&&h())}function h(){if(!f){var t=i(d);f=!0;for(var n=s.length;n;){for(c=s,s=[];++l<n;)c&&c[l].run();l=-1,n=s.length}c=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(n){try{return r.call(null,t)}catch(n){return r.call(this,t)}}}(t)}}function m(t,n){this.fun=t,this.array=n}function p(){}o.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];s.push(new m(t,n)),1!==s.length||f||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},44:function(t,n,e){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function a(t,n){this._id=t,this._clearFn=n}n.setTimeout=function(){return new a(o.call(setTimeout,r,arguments),clearTimeout)},n.setInterval=function(){return new a(o.call(setInterval,r,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t&&t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},n.enroll=function(t,n){clearTimeout(t._idleTimeoutId),t._idleTimeout=n},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var n=t._idleTimeout;n>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},n))},e(128),n.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,n.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,e(15))},5:function(t,n,e){"use strict";e.d(n,"a",function(){return r}),e.d(n,"b",function(){return o});const r={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},o={VOID:"",CHAR:"Int8Array",SIGNED_CHAR:"Int8Array",UNSIGNED_CHAR:"Uint8Array",SHORT:"Int16Array",UNSIGNED_SHORT:"Uint16Array",INT:"Int32Array",UNSIGNED_INT:"Uint32Array",FLOAT:"Float32Array",DOUBLE:"Float64Array"},a=o.FLOAT;n.c={DefaultDataType:a,DataTypeByteSize:r,VtkDataTypes:o}},51:function(t,n,e){var r=e(119),o=e(118),a=e(117),u=e(116),i=e(115),c=e(114),s=e(113);s.alea=r,s.xor128=o,s.xorwow=a,s.xorshift7=u,s.xor4096=i,s.tychei=c,t.exports=s},7:function(t,n,e){"use strict";(function(t){e.d(n,"a",function(){return o});const r={vtkObject:()=>null};function o(n){if(null===n||void 0===n)return n;if(n.isA)return n;if(!n.vtkClass)return t.console&&t.console.error&&t.console.error("Invalid VTK object"),null;const e=r[n.vtkClass];if(!e)return t.console&&t.console.error&&t.console.error(`No vtk class found for Object of type ${n.vtkClass}`),null;const a=Object.assign({},n);Object.keys(a).forEach(t=>{a[t]&&"object"==typeof a[t]&&a[t].vtkClass&&(a[t]=o(a[t]))});const u=e(a);return u&&u.modified&&u.modified(),u}o.register=function(t,n){r[t]=n}}).call(this,e(15))},9:function(t,n){t.exports=function(){throw new Error("define cannot be used indirect")}}})});