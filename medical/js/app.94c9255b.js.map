{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?f96b","webpack:///./src/vtk/webvr-empty.js","webpack:///./src/components/VtkView.vue?0cfd","webpack:///./src/components/ResizableNavDrawer.vue","webpack:///./src/App.vue?2d7f","webpack:///src/components/ResizableNavDrawer.vue","webpack:///./src/components/ResizableNavDrawer.vue?7979","webpack:///./src/components/ToolButton.vue?83ae","webpack:///src/components/ToolButton.vue","webpack:///./src/components/ToolButton.vue?3a16","webpack:///./src/components/ToolButton.vue","webpack:///./src/components/VtkView.vue?17a3","webpack:///src/components/VtkView.vue","webpack:///./src/components/VtkView.vue?6692","webpack:///./src/components/VtkView.vue","webpack:///./src/components/LayoutGrid.vue?0751","webpack:///src/components/LayoutGrid.vue","webpack:///./src/components/LayoutGrid.vue?968b","webpack:///./src/components/LayoutGrid.vue","webpack:///./src/components/PatientBrowser.vue?0179","webpack:///src/components/PatientBrowser.vue","webpack:///./src/components/PatientBrowser.vue?11bb","webpack:///./src/components/PatientBrowser.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a0fd","webpack:///./src/App.vue","webpack:///./src/io/io.js","webpack:///./src/store/datasets.js","webpack:///./src/store/index.js","webpack:///./src/plugins/vuetify.js","webpack:///./src/plugins/proxyManager.js","webpack:///./src/plugins/events.js","webpack:///./src/io/readers.js","webpack:///./src/proxy.js","webpack:///./src/io/dicom/database.js","webpack:///./src/io/dicom/patient.js","webpack:///./src/io/dicom/study.js","webpack:///./src/io/dicom/series.js","webpack:///./src/io/dicom/image.js","webpack:///./src/io/dicom/daikon.js","webpack:///./src/main.js","webpack:///./src/components/PatientBrowser.vue?7ef0","webpack:///./src/components/PatientBrowser.vue?c56c","webpack:///./src/App.vue?ddc7"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","selectedModule","Modules","scopedSlots","_u","fn","ref","item","_v","_s","icon","_e","model","callback","$$v","expression","_l","mod","component","directives","rawName","tag","selectedTool","tool","active","toggle","on","datasets","layout","userPromptFiles","staticRenderFns","props","minWidth","Number","maxWidth","width","handleSize","type","default","internalWidth","computed","handleSizeCSS","mounted","oldCursor","oldUserSelect","setResizableStyles","setEvents","beforeDestroy","clearEvents","stopResize","render","h","methods","el","style","backgroundColor","$attrs","borderLeft","borderRight","cursor","RESIZE_CURSOR","addEventListener","startResize","removeEventListener","document","$refs","infoPane","$el","transition","setCursor","disableSelection","handleResize","resetCursor","resetSelection","Math","min","max","$emit","body","userSelect","_g","_b","class","classV","sizeV","assign","$listeners","iconSize","size","buttonClass","String","Array","floor","classSpec","join","VBtn","VIcon","VTooltip","Boolean","view","$proxyManager","createProxy","getRenderer","setBackground","$nextTick","onResize","resize","renderLater","resetCamera","VContainer","Resize","flexFlow","isArray","split","items","patients","patientID","studies","studyUID","series","description","seriesImages","instanceUID","image","imageToDataURL","$canvas","cols","height","rows","imageData","si","pixel","ctx","putImageData","toDataURL","id","study","label","watch","VCol","VExpansionPanel","VExpansionPanelContent","VExpansionPanelHeader","VExpansionPanels","VRow","VSelect","components","ResizableNavDrawer","ToolButton","LayoutGrid","activeDataset","activeDatasetIndex","NO_DS","fileEl","setAttribute","onFileSelect","click","loadingFiles","loadFiles","from","files","VApp","VCard","VContent","VItem","VItemGroup","HEAD_CHUNK","FileTypes","NRRD","DICOM","FILE_MAGIC_DB","header","map","charCodeAt","skip","prefixEquals","target","prefix","getFileExtension","idx","lastIndexOf","getFileMagic","file","Promise","resolve","reject","head","reader","FileReader","onload","chunk","Uint8Array","Error","readAsArrayBuffer","readFileAs","fio","method","TypeError","readFileAsArrayBuffer","FileLoader","fileReaders","typeCache","WeakMap","fileType","readerFunc","toLowerCase","has","extension","magic","set","getFileType","loader","dicomDB","namespaced","state","errors","patientStudies","studySeries","mutations","setError","error","updatePatients","updateStudies","updateSeries","updateImages","actions","commit","dispatch","allSettled","results","forEach","index","status","fileName","reason","loadSingleFile","_","importFile","parseFile","updateDICOM","postProcess","getPatients","getPatientStudyMap","getStudySeriesMap","images","getSeriesImagesMap","Vue","use","Vuex","services","datasetsModule","Store","Vuetify","unsubscribeList","pop","unsubscribe","pxmSubsKey","proxySubsKey","ProxyManagerVuePlugin","install","mixin","beforeCreate","opts","$options","proxyManager","parent","proxyManagerHooks","pxmSubs","proxySubs","hooks","onProxyCreated","onProxyModified","onProxyDeleted","onProxyRegistrationChange","groups","getProxyGroups","proxies","concat","getProxyInGroup","proxy","getProxyId","onModified","info","action","proxyId","onActiveSourceChange","onActiveViewChange","v","values","$eventBus","vtkITKImageReader","setReadImageArrayBufferFromITK","readImageArrayBuffer","itkImageExtensions","Set","extensionToImageIO","keys","ext","itkReader","fileBuffer","newInstance","setFileName","parseAsArrayBuffer","dataset","getOutputData","vtkReaderFactory","vtkReaderClass","binary","parseAsText","vtkReader","registerAllReaders","io","registerReader","vtkXMLImageDataReader","vtkXMLPolyDataReader","vtkSTLReader","createProxyDefinition","classFactory","ui","links","definitionOptions","options","createDefaultView","definitions","Proxy","LookupTable","vtkLookupTableProxy","presetName","PiecewiseFunction","vtkPiecewiseFunctionProxy","Sources","TrivialProducer","vtkProxySource","LabelMap","Representations","SliceZ","vtkSliceRepresentationProxy","link","updateOnBind","Views","ViewX","vtk2DView","axis","ViewY","ViewZ","representations","vtkImageData","PATIENT_UNSPECIFIED","DICOMDatabase","seriesID","Patient","birthDate","sex","comments","update","newData","Study","studyID","date","time","accessionNumber","Series","modality","number","Image","instanceNumber","imageType","filename","pixelData","minValue","maxValue","extractValue","DaikonDatabase","$daikonSeries","$patients","$patientTable","$patientStudies","$studyTable","$studySeries","$seriesTable","$seriesImages","buf","Daikon","parseImage","DataView","hasPixelData","seriesUID","getSeriesInstanceUID","getImageNumber","dup","find","im","addImage","updateDB","buildSeries","concatenateImageData","daikonImage","getPatientID","newPatient","patientData","getPatientName","getTag","patient","studyInstanceUID","newStudy","studyData","getStudyDate","getStudyTime","seriesInstanceUID","newSeries","seriesData","getModality","getSeriesNumber","getSeriesDescription","getImageType","getInterpretedData","getRows","getCols","getImageMin","getImageMax","config","productionTip","EventBusPlugin","vtkProxyManager","proxyConfiguration","store","createStore","vuetify","App","$mount"],"mappings":"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","file":"js/app.94c9255b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js??ref--23-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js??ref--23-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export default function () {}\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--23-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VtkView.vue?vue&type=style&index=0&id=42c60925&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--23-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VtkView.vue?vue&type=style&index=0&id=42c60925&scoped=true&lang=css&\"","var render, staticRenderFns\nimport script from \"./ResizableNavDrawer.vue?vue&type=script&lang=js&\"\nexport * from \"./ResizableNavDrawer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('resizable-nav-drawer',{attrs:{\"id\":\"left-nav\",\"app\":\"\",\"permanent\":\"\",\"min-width\":250,\"max-width\":450,\"width\":350,\"handle-size\":4}},[_c('div',{attrs:{\"id\":\"left-pane-outer\"}},[_c('div',{attrs:{\"id\":\"left-pane\"}},[_c('div',{staticClass:\"mt-1 mb-2\",attrs:{\"id\":\"module-switcher\"}},[_c('v-select',{staticClass:\"no-select\",attrs:{\"outlined\":\"\",\"single-line\":\"\",\"hide-details\":\"\",\"prepend-inner-icon\":(\"mdi-\" + (_vm.selectedModule.icon)),\"items\":_vm.Modules,\"item-text\":\"name\",\"return-object\":\"\"},scopedSlots:_vm._u([{key:\"item\",fn:function(ref){\nvar item = ref.item;\nreturn [(item.icon)?_c('v-icon',{staticClass:\"mr-1\"},[_vm._v(\"mdi-\"+_vm._s(item.icon))]):_vm._e(),_vm._v(\" \"+_vm._s(item.name)+\" \")]}}]),model:{value:(_vm.selectedModule),callback:function ($$v) {_vm.selectedModule=$$v},expression:\"selectedModule\"}})],1),_c('div',{attrs:{\"id\":\"module-container\"}},[_vm._l((_vm.Modules),function(mod){return [_c(mod.component,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectedModule === mod),expression:\"selectedModule === mod\"}],key:mod.name,tag:\"component\"})]})],2)])])]),_c('v-content',{attrs:{\"id\":\"content-wrapper\"}},[_c('div',{staticClass:\"d-flex flex-row flex-grow-1 grey darken-3\"},[_c('div',{staticClass:\"grey darken-4 d-flex flex-column align-center\",attrs:{\"id\":\"tools-strip\"}},[_c('tool-button',{attrs:{\"size\":\"40\",\"icon\":\"mdi-folder-open\",\"name\":\"Open files\",\"buttonClass\":\"tool-btn\"}}),_c('div',{staticClass:\"mt-2 mb-1 tool-separator\"}),_c('tool-button',{attrs:{\"size\":\"40\",\"icon\":\"mdi-view-grid-outline\",\"name\":\"View\\n          layouts\",\"buttonClass\":\"tool-btn\"}}),_c('div',{staticClass:\"mt-2 mb-1 tool-separator\"}),_c('v-item-group',{model:{value:(_vm.selectedTool),callback:function ($$v) {_vm.selectedTool=$$v},expression:\"selectedTool\"}},[_vm._l((_vm.Tools),function(tool,i){return [_c('v-item',{key:i,scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar active = ref.active;\nvar toggle = ref.toggle;\nreturn [_c('tool-button',{attrs:{\"size\":\"40\",\"icon\":(\"mdi-\" + (tool.icon)),\"name\":tool.name,\"buttonClass\":[\n                  'tool-btn',\n                  active ? 'tool-btn-selected' : '' ]},on:{\"click\":toggle}})]}}],null,true)})]})],2)],1),_c('div',{staticClass:\"d-flex flex-column flex-grow-1\"},[(!_vm.datasets.length)?[_c('v-row',{staticClass:\"clickable\",attrs:{\"no-gutters\":\"\",\"align\":\"center\"},on:{\"click\":_vm.userPromptFiles}},[_c('v-col',[_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-card',{staticClass:\"text-center headline\",attrs:{\"flat\":\"\",\"dark\":\"\",\"color\":\"transparent\"}},[_c('div',[_c('v-icon',{attrs:{\"size\":\"64\"}},[_vm._v(\"mdi-folder-open\")])],1),_c('div',[_vm._v(\" Click anywhere here to open files \")]),_c('div',{staticClass:\"mt-8\"},[_c('v-icon',{attrs:{\"size\":\"64\"}},[_vm._v(\"mdi-arrow-down-bold\")])],1),_c('div',[_vm._v(\" Drop your files anywhere here to open \")])])],1)],1)],1)]:[_c('layout-grid',{attrs:{\"layout\":_vm.layout}})]],2)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { VNavigationDrawer } from 'vuetify/lib';\n\nexport const RESIZE_CURSOR = 'ew-resize';\n\n/**\n * Events: onResize(width:Number)\n */\nexport default {\n  name: 'ResizableNavDrawer',\n  props: {\n    minWidth: Number,\n    maxWidth: Number,\n    width: Number,\n    handleSize: {\n      type: Number,\n      default: 4,\n    },\n  },\n\n  data() {\n    return {\n      internalWidth: this.width,\n    };\n  },\n\n  computed: {\n    handleSizeCSS() {\n      return `${this.handleSize}px`;\n    },\n  },\n\n  mounted() {\n    this.oldCursor = '';\n    this.oldUserSelect = '';\n\n    this.setResizableStyles();\n    this.setEvents();\n  },\n\n  beforeDestroy() {\n    this.clearEvents();\n    this.stopResize();\n  },\n\n  render(h) {\n    // forwards slots, scoped slots, and more to v-navigation-drawer\n    return h(\n      VNavigationDrawer,\n      {\n        props: {\n          // this.$attrs is the non-prop attrs we receive, which should\n          // be forwarded to v-navigation-drawer\n          ...this.$attrs,\n          width: this.internalWidth,\n        },\n        on: this.$listeners,\n        scopedSlots: this.$scopedSlots,\n        ref: 'infoPane',\n      },\n      this.$slots.default,\n    );\n  },\n\n  methods: {\n    setResizableStyles() {\n      // manual styling\n      const el = this.$refs.infoPane.$el.querySelector('.v-navigation-drawer__border');\n\n      // NOTE: width is not reactive to handle size\n      el.style.width = this.handleSizeCSS;\n      el.style.backgroundColor = 'transparent';\n      // NOTE: dynamically setting \"right\" won't update the border position\n      if ('right' in this.$attrs) {\n        el.style.borderLeft = '2px solid rgba(0, 0, 0, 0.24)';\n      } else {\n        el.style.borderRight = '2px solid rgba(0, 0, 0, 0.24)';\n      }\n      el.style.cursor = RESIZE_CURSOR;\n    },\n\n    setEvents() {\n      const el = this.$refs.infoPane.$el.querySelector('.v-navigation-drawer__border');\n      el.addEventListener('mousedown', this.startResize);\n    },\n\n    clearEvents() {\n      const el = this.$refs.infoPane.$el.querySelector('.v-navigation-drawer__border');\n      el.removeEventListener('mousedown', this.startResize);\n      document.removeEventListener('mouseup', this.stopResize);\n    },\n\n    startResize() {\n      this.$refs.infoPane.$el.style.transition = 'initial';\n\n      this.setCursor(RESIZE_CURSOR);\n      this.disableSelection();\n      document.addEventListener('mousemove', this.handleResize);\n      document.addEventListener('mouseup', this.stopResize);\n    },\n\n    stopResize() {\n      this.$refs.infoPane.$el.style.transition = '';\n\n      this.resetCursor();\n      this.resetSelection();\n      document.removeEventListener('mousemove', this.handleResize);\n    },\n\n    handleResize(evt) {\n      const width = 'right' in this.$attrs\n        ? document.body.scrollWidth - evt.clientX\n        : evt.clientX;\n\n      const min = this.minWidth || this.handleSize;\n      const max = this.maxWidth || Infinity;\n      this.internalWidth = Math.min(max, Math.max(min, width));\n\n      this.$emit('resize', this.internalWidth);\n    },\n\n    setCursor(cursor) {\n      this.oldCursor = document.body.style.cursor;\n      document.body.style.cursor = cursor;\n    },\n\n    resetCursor() {\n      document.body.style.cursor = this.oldCursor;\n      this.oldCursor = '';\n    },\n\n    disableSelection() {\n      this.oldUserSelect = document.body.style.userSelect;\n      document.body.style.userSelect = 'none';\n    },\n\n    resetSelection() {\n      document.body.style.userSelect = this.oldUserSelect;\n      this.oldUserSelect = '';\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--23-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResizableNavDrawer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--23-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResizableNavDrawer.vue?vue&type=script&lang=js&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-tooltip',{attrs:{\"right\":\"\",\"transition\":\"slide-x-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g(_vm._b({class:_vm.classV,attrs:{\"text\":\"\",\"tile\":\"\",\"dark\":\"\",\"height\":_vm.sizeV,\"width\":_vm.sizeV,\"min-width\":_vm.sizeV,\"max-width\":_vm.sizeV}},'v-btn',_vm.$attrs,false),Object.assign({}, on, _vm.$listeners)),[_c('v-icon',{attrs:{\"size\":_vm.iconSize}},[_vm._v(_vm._s(_vm.icon))])],1)]}}])},[_c('span',[_vm._v(_vm._s(_vm.name))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-tooltip\n    right\n    transition=\"slide-x-transition\"\n  >\n    <template v-slot:activator=\"{ on }\">\n      <v-btn\n        text\n        tile\n        dark\n        :height=\"sizeV\"\n        :width=\"sizeV\"\n        :min-width=\"sizeV\"\n        :max-width=\"sizeV\"\n        :class=\"classV\"\n\n        v-bind=\"$attrs\"\n        v-on=\"{ ...on, ...$listeners }\"\n      >\n        <v-icon :size=\"iconSize\">{{ icon }}</v-icon>\n      </v-btn>\n    </template>\n    <span>{{ name }}</span>\n  </v-tooltip>\n</template>\n\n<script>\nexport default {\n  name: 'ToolButton',\n  props: {\n    icon: { type: String, required: true },\n    name: { type: String, required: true },\n    size: { type: [Number, String], default: 40 },\n    buttonClass: [String, Array, Object],\n  },\n\n  computed: {\n    sizeV() {\n      return Number(this.size);\n    },\n    iconSize() {\n      return Math.floor(0.6 * this.sizeV);\n    },\n    classV() {\n      const classSpec = this.buttonClass;\n      if (typeof classSpec === 'string') {\n        return classSpec;\n      } if (Array.isArray(classSpec)) {\n        return classSpec.join(' ');\n      } if (classSpec && Object.keys(classSpec).length) {\n        return Object\n          .keys(this.buttonClass)\n          .filter((key) => this.buttonClass[key])\n          .join(' ');\n      }\n      return '';\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--23-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToolButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--23-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToolButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ToolButton.vue?vue&type=template&id=6de03141&\"\nimport script from \"./ToolButton.vue?vue&type=script&lang=js&\"\nexport * from \"./ToolButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VIcon,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{directives:[{name:\"resize\",rawName:\"v-resize\",value:(_vm.onResize),expression:\"onResize\"}],staticClass:\"container\",class:_vm.active ? 'active' : '',attrs:{\"fluid\":\"\",\"fill-height\":\"\"}},[_c('div',{staticClass:\"sub-container\"},[_c('div',{ref:\"vtkContainer\",staticClass:\"vtk-view\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container\n    fluid\n    fill-height\n    class=\"container\"\n    :class=\"active ? 'active' : ''\"\n    v-resize=\"onResize\"\n  >\n    <div class=\"sub-container\">\n      <div class=\"vtk-view\" ref=\"vtkContainer\" />\n    </div>\n  </v-container>\n</template>\n\n<script>\nexport default {\n  name: 'VtkView',\n\n  props: {\n    active: Boolean,\n  },\n\n  mounted() {\n    // const container = this.$refs.vtkContainer;\n    this.view = this.$proxyManager.createProxy('Views', 'ViewZ', {\n      name: 'Z',\n    });\n    // this.view.setContainer(container);\n    this.view.getRenderer().setBackground(0, 0, 0);\n\n    // let vue rendering settle before resizing canvas\n    this.$nextTick(() => {\n      this.onResize();\n      this.resetCamera();\n    });\n  },\n\n  methods: {\n    onResize() {\n      if (this.view) {\n        this.view.resize();\n        this.view.renderLater();\n      }\n    },\n\n    resetCamera() {\n      if (this.view) {\n        this.view.resetCamera();\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.container {\n  padding: 0 !important;\n  margin: 0 !important;\n  /* prevent view from overflowing our app during resize */\n  min-height: 0;\n  min-width: 0;\n  max-width: 100%;\n\n  position: relative;\n  overflow: hidden;\n  z-index: 0;\n}\n\n.sub-container {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n\n.vtk-view {\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--23-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VtkView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--23-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VtkView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VtkView.vue?vue&type=template&id=42c60925&scoped=true&\"\nimport script from \"./VtkView.vue?vue&type=script&lang=js&\"\nexport * from \"./VtkView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./VtkView.vue?vue&type=style&index=0&id=42c60925&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42c60925\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VContainer})\n\n\n/* vuetify-loader */\nimport installDirectives from \"!../../node_modules/vuetify-loader/lib/runtime/installDirectives.js\"\nimport Resize from 'vuetify/lib/directives/resize'\ninstallDirectives(component, {Resize})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex flex-grow-1\",class:_vm.flexFlow},_vm._l((_vm.items),function(item,i){return _c('div',{key:i,staticClass:\"d-flex flex-grow-1\"},[(Array.isArray(item))?_c('layout-grid',{attrs:{\"layout\":item}}):_c(item,{tag:\"component\"})],1)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"d-flex flex-grow-1\" :class=\"flexFlow\">\n    <div\n      v-for=\"(item, i) in items\"\n      :key=\"i\"\n      class=\"d-flex flex-grow-1\"\n    >\n      <layout-grid v-if=\"Array.isArray(item)\" :layout=\"item\" />\n      <component v-else :is=\"item\" />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'LayoutGrid',\n  props: {\n    layout: Array, // [split:String, ...items:[]Component|[]Array]\n  },\n  computed: {\n    flexFlow() {\n      const split = this.layout[0];\n      return split === 'H' ? 'flex-column' : 'flex-row';\n    },\n    items() {\n      return this.layout.slice(1);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--23-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayoutGrid.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--23-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayoutGrid.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LayoutGrid.vue?vue&type=template&id=4fc1b1c3&\"\nimport script from \"./LayoutGrid.vue?vue&type=script&lang=js&\"\nexport * from \"./LayoutGrid.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mx-2 height-100\",attrs:{\"id\":\"patient-module\"}},[_c('div',{attrs:{\"id\":\"patient-filter-controls\"}},[_c('v-select',{staticClass:\"no-select\",attrs:{\"items\":_vm.patients,\"item-text\":\"label\",\"item-value\":\"id\",\"dense\":\"\",\"filled\":\"\",\"single-line\":\"\",\"hide-details\":\"\",\"label\":\"Patient\",\"prepend-icon\":\"mdi-account\"},model:{value:(_vm.patientID),callback:function ($$v) {_vm.patientID=$$v},expression:\"patientID\"}}),_c('v-select',{staticClass:\"no-select mt-2\",attrs:{\"items\":_vm.studies,\"item-text\":\"label\",\"item-value\":\"id\",\"dense\":\"\",\"filled\":\"\",\"single-line\":\"\",\"hide-details\":\"\",\"label\":\"Study\",\"prepend-icon\":\"mdi-folder-table\"},model:{value:(_vm.studyUID),callback:function ($$v) {_vm.studyUID=$$v},expression:\"studyUID\"}})],1),_c('div',{attrs:{\"id\":\"patient-data-list\"}},[_c('v-expansion-panels',{attrs:{\"accordion\":\"\",\"multiple\":\"\",\"id\":\"patient-data-list-panels\"}},[_vm._l((_vm.seriesList),function(series,i){return [_c('v-expansion-panel',{key:i},[_c('v-expansion-panel-header',{staticClass:\"no-select subtitle-2\",attrs:{\"color\":\"#1976fa0a\"}},[_c('v-row',{attrs:{\"no-gutters\":\"\",\"align\":\"center\"}},[_c('v-col',[_vm._v(_vm._s(series.description))])],1)],1),_c('v-expansion-panel-content',[_c('div',{staticClass:\"d-flex flex-row flex-wrap ma-2\"},[_vm._l((_vm.seriesImages[series.instanceUID]),function(image,i){return [_c('img',{key:i,staticClass:\"meow\",attrs:{\"src\":_vm.imageToDataURL(image)}})]})],2)])],1)]})],2)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"patient-module\" class=\"mx-2 height-100\">\n    <div id=\"patient-filter-controls\">\n      <v-select\n        v-model=\"patientID\"\n        :items=\"patients\"\n        item-text=\"label\"\n        item-value=\"id\"\n        dense\n        filled\n        single-line\n        hide-details\n        label=\"Patient\"\n        prepend-icon=\"mdi-account\"\n        class=\"no-select\"\n      />\n      <v-select\n        v-model=\"studyUID\"\n        :items=\"studies\"\n        item-text=\"label\"\n        item-value=\"id\"\n        dense\n        filled\n        single-line\n        hide-details\n        label=\"Study\"\n        prepend-icon=\"mdi-folder-table\"\n        class=\"no-select mt-2\"\n      />\n    </div>\n    <div id=\"patient-data-list\">\n      <v-expansion-panels accordion multiple id=\"patient-data-list-panels\">\n        <template v-for=\"(series, i) in seriesList\">\n          <v-expansion-panel :key=\"i\">\n            <v-expansion-panel-header color=\"#1976fa0a\" class=\"no-select subtitle-2\">\n              <v-row no-gutters align=\"center\">\n                <v-col>{{ series.description }}</v-col>\n                <!--\n                <v-col>({{ seriesImages[series.instanceUID].length }} images)</v-col>\n                -->\n              </v-row>\n            </v-expansion-panel-header>\n            <v-expansion-panel-content>\n              <div class=\"d-flex flex-row flex-wrap ma-2\">\n                <template v-for=\"(image, i) in seriesImages[series.instanceUID]\">\n                  <img :key=\"i\" class=\"meow\" :src=\"imageToDataURL(image)\" />\n                </template>\n              </div>\n            </v-expansion-panel-content>\n          </v-expansion-panel>\n        </template>\n      </v-expansion-panels>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\n\nconst $canvas = document.createElement('canvas');\n\nfunction imageToDataURL(image) {\n  $canvas.width = image.cols;\n  $canvas.height = image.rows;\n  const ctx = $canvas.getContext('2d');\n  const imageData = ctx.createImageData($canvas.width, $canvas.height);\n  for (let i = 0, si = 0; i < image.pixelData.length; i += 1, si += 4) {\n    const pixel = Math.floor(255 * ((image.pixelData[i] - image.minValue) / image.maxValue));\n    imageData.data[si + 0] = pixel;\n    imageData.data[si + 1] = pixel;\n    imageData.data[si + 2] = pixel;\n    imageData.data[si + 3] = 255;\n  }\n\n  ctx.putImageData(imageData, 0, 0);\n  return $canvas.toDataURL('image/png');\n}\n\nexport default {\n  name: 'DataBrowser',\n\n  data() {\n    return {\n      patientID: '',\n      studyUID: '',\n    };\n  },\n\n  computed: {\n    ...mapState('datasets', {\n      patients: (state) => state.patients.map((patient) => ({\n        id: patient.patientID,\n        label: `${patient.name} (${patient.patientID})`,\n      })),\n      studies(state) {\n        return (state.patientStudies[this.patientID] || []).map((study) => ({\n          id: study.instanceUID,\n          label: `${study.description}`,\n        }));\n      },\n      seriesList(state) {\n        return (state.studySeries[this.studyUID] || []);\n      },\n      seriesImages: 'seriesImages',\n    }),\n  },\n\n  watch: {\n    patientID() {\n      this.studyUID = '';\n    },\n  },\n\n  methods: {\n    imageToDataURL,\n  },\n};\n</script>\n\n<style>\n#patient-data-list-panels .v-expansion-panel--active > .v-expansion-panel-header {\n  /* don't grow expansion panel when opened */\n  min-height: unset;\n}\n\n#patient-data-list-panels .v-expansion-panel--active > .v-expansion-panel-header {\n  /* don't grow expansion panel when opened */\n  min-height: unset;\n}\n\n#patient-data-list-panels .v-expansion-panel-content__wrap {\n  /* reduce content padding */\n  padding: 0 8px;\n}\n\n#patient-data-list-panels .v-expansion-panel::before {\n  /* no drop-shadow */\n  box-shadow: none;\n}\n</style>\n\n<style scoped>\n#patient-module {\n  display: flex;\n  flex-flow: column;\n}\n\n#patient-filter-controls {\n  border-bottom: 1px solid rgba(0, 0, 0, 0.12);\n  padding-bottom: 12px;\n}\n\n#patient-data-list {\n  flex: 2;\n  margin-top: 12px;\n  overflow-y: scroll;\n}\n\n#patient-data-list-panels {\n  width: calc(100% - 0px);\n  border: 1px solid rgba(0, 0, 0, 0.12);\n}\n\n.meow {\n  width: 50px;\n  height: 50px;\n  background: grey;\n  margin: 4px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--23-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatientBrowser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--23-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatientBrowser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PatientBrowser.vue?vue&type=template&id=d0868a1e&scoped=true&\"\nimport script from \"./PatientBrowser.vue?vue&type=script&lang=js&\"\nexport * from \"./PatientBrowser.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PatientBrowser.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./PatientBrowser.vue?vue&type=style&index=1&id=d0868a1e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d0868a1e\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VCol,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VRow,VSelect})\n","<template>\n  <v-app>\n    <resizable-nav-drawer\n      id=\"left-nav\"\n      app\n      permanent\n      :min-width=\"250\"\n      :max-width=\"450\"\n      :width=\"350\"\n      :handle-size=\"4\"\n    >\n      <div id=\"left-pane-outer\">\n        <div id=\"left-pane\">\n\n          <div id=\"module-switcher\" class=\"mt-1 mb-2\">\n            <v-select\n              v-model=\"selectedModule\"\n              outlined\n              single-line\n              hide-details\n              :prepend-inner-icon=\"`mdi-${selectedModule.icon}`\"\n              :items=\"Modules\"\n              item-text=\"name\"\n              return-object\n              class=\"no-select\"\n            >\n              <template v-slot:item=\"{ item }\">\n                <v-icon v-if=\"item.icon\" class=\"mr-1\">mdi-{{ item.icon }}</v-icon>\n                {{ item.name }}\n              </template>\n            </v-select>\n          </div>\n\n          <!-- Preserve component state of modules when switching between modules -->\n          <div id=\"module-container\">\n            <template v-for=\"mod in Modules\">\n              <component\n                :key=\"mod.name\"\n                v-show=\"selectedModule === mod\"\n                :is=\"mod.component\"\n              />\n            </template>\n          </div>\n        </div>\n      </div>\n    </resizable-nav-drawer>\n\n    <v-content id=\"content-wrapper\">\n      <div class=\"d-flex flex-row flex-grow-1 grey darken-3\">\n        <div id=\"tools-strip\" class=\"grey darken-4 d-flex flex-column align-center\">\n\n          <tool-button size=\"40\" icon=\"mdi-folder-open\" name=\"Open files\" buttonClass=\"tool-btn\" />\n          <div class=\"mt-2 mb-1 tool-separator\" />\n\n          <tool-button\n            size=\"40\"\n            icon=\"mdi-view-grid-outline\"\n            name=\"View\n            layouts\"\n            buttonClass=\"tool-btn\"\n          />\n          <div class=\"mt-2 mb-1 tool-separator\" />\n\n          <v-item-group v-model=\"selectedTool\">\n            <template v-for=\"(tool,i) in Tools\">\n              <v-item\n                :key=\"i\"\n                v-slot:default=\"{ active, toggle }\"\n              >\n                <tool-button\n                  size=\"40\"\n                  :icon=\"`mdi-${tool.icon}`\"\n                  :name=\"tool.name\"\n                  :buttonClass=\"[\n                    'tool-btn',\n                    active ? 'tool-btn-selected' : '',\n                  ]\"\n                  @click=\"toggle\"\n                />\n              </v-item>\n            </template>\n          </v-item-group>\n        </div>\n        <div class=\"d-flex flex-column flex-grow-1\">\n          <template v-if=\"!datasets.length\">\n            <v-row\n              no-gutters\n              align=\"center\"\n              class=\"clickable\"\n              @click=\"userPromptFiles\"\n            >\n              <v-col>\n                <v-row justify=\"center\">\n                  <v-card flat dark color=\"transparent\" class=\"text-center headline\">\n                    <div>\n                      <v-icon size=\"64\">mdi-folder-open</v-icon>\n                    </div>\n                    <div>\n                      Click anywhere here to open files\n                    </div>\n                    <div class=\"mt-8\">\n                      <v-icon size=\"64\">mdi-arrow-down-bold</v-icon>\n                    </div>\n                    <div>\n                      Drop your files anywhere here to open\n                    </div>\n                  </v-card>\n                </v-row>\n              </v-col>\n            </v-row>\n          </template>\n          <template v-else>\n            <layout-grid :layout=\"layout\" />\n          </template>\n        </div>\n      </div>\n    </v-content>\n  </v-app>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\n\nimport ResizableNavDrawer from './components/ResizableNavDrawer.vue';\nimport ToolButton from './components/ToolButton.vue';\nimport VtkView from './components/VtkView.vue';\nimport LayoutGrid from './components/LayoutGrid.vue';\nimport PatientBrowser from './components/PatientBrowser.vue';\n// import MeasurementsModule from './components/MeasurementsModule.vue';\n\nexport const NO_DS = -1;\n\nexport const Modules = [\n  {\n    name: 'Patients',\n    icon: 'account',\n    component: PatientBrowser,\n  },\n  {\n    name: 'Measurements',\n    icon: 'pencil-ruler',\n    component: null,\n  },\n];\n\nexport const Tools = [\n  {\n    name: 'Paint',\n    icon: 'brush',\n  },\n  {\n    name: 'Box',\n    icon: 'selection',\n  },\n  {\n    name: 'Ellipse',\n    icon: 'selection-ellipse',\n  },\n  {\n    name: 'Crop',\n    icon: 'crop',\n  },\n];\n\nexport default {\n  name: 'App',\n\n  components: {\n    ResizableNavDrawer,\n    ToolButton,\n    LayoutGrid,\n  },\n\n  data: () => ({\n    datasets: [],\n    activeDatasetIndex: NO_DS,\n    selectedTool: null,\n    selectedModule: Modules[0],\n\n    layout: ['H', VtkView, ['V', null, VtkView, null]],\n\n    Tools,\n    Modules,\n  }),\n\n  computed: {\n    activeDataset() {\n      return this.activeDatasetIndex === NO_DS ? null : this.datasets[this.activeDatasetIndex];\n    },\n  },\n\n  mounted() {\n    const fileEl = document.createElement('input');\n    fileEl.setAttribute('type', 'file');\n    fileEl.setAttribute('multiple', 'multiple');\n    fileEl.setAttribute('accept', '*');\n    fileEl.addEventListener('change', this.onFileSelect);\n    this.fileEl = fileEl;\n  },\n\n  methods: {\n    userPromptFiles() {\n      this.fileEl.value = null;\n      this.fileEl.click();\n    },\n\n    onFileSelect(evt) {\n      const { files } = evt.target;\n      this.loadingFiles = true;\n\n      this.loadFiles(Array.from(files));\n    },\n\n    ...mapActions('datasets', ['loadFiles']),\n  },\n};\n</script>\n\n<style>\n#content-wrapper {\n  /* disable v-content transition when we resize our app drawer */\n  transition: initial;\n}\n\n#content-wrapper > .v-content__wrap {\n  display: flex;\n}\n\n#module-switcher .v-input__prepend-inner {\n  /* better icon alignment */\n  margin-top: 15px;\n}\n</style>\n\n<style scoped>\n#left-nav {\n  padding: 2px;\n  /* left-nav handle size is 4px */\n  padding-right: 4px;\n}\n\n#tools-strip {\n  flex: 0 0 40px;\n}\n\n.view-box {\n  box-sizing: border-box;\n}\n\n.clickable {\n  cursor: pointer;\n}\n\n.tool-separator {\n  width: 75%;\n  height: 1px;\n  border: none;\n  border-top: 1px solid rgb(112, 112, 112);\n}\n\n.tool-btn {\n  margin-top: 4px;\n}\n\n.tool-btn-selected {\n  background-color: rgba(128, 128, 255, 0.7);\n}\n\n#left-pane {\n  display: flex;\n  flex-flow: column;\n  min-width: 250px;\n  flex: 1;\n}\n\n#left-pane-outer {\n  display: flex;\n  overflow: auto;\n  height: 100%;\n  width: 100%;\n}\n\n#module-switcher {\n  flex: 0 2;\n}\n\n#module-container {\n  position: relative;\n  flex: 2;\n  overflow: auto;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vuetify-loader/lib/loader.js??ref--23-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vuetify-loader/lib/loader.js??ref--23-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3cf9f198&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./App.vue?vue&type=style&index=1&id=3cf9f198&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3cf9f198\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContent } from 'vuetify/lib/components/VContent';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VItem } from 'vuetify/lib/components/VItemGroup';\nimport { VItemGroup } from 'vuetify/lib/components/VItemGroup';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VApp,VCard,VCol,VContent,VIcon,VItem,VItemGroup,VRow,VSelect})\n","// How much data to read when extracting file magic\nconst HEAD_CHUNK = 512;\n\n/**\n * special file types that we handle specifically\n */\nexport const FileTypes = {\n  NRRD: 'nrrd',\n  DICOM: 'dcm',\n};\n\n/**\n * file magic database\n * Used to handle certain cases where files have no extension\n */\nexport const FILE_MAGIC_DB = [\n  {\n    type: FileTypes.NRRD,\n    header: Array.from('NRRD').map((c) => c.charCodeAt(0)),\n  },\n  {\n    type: FileTypes.DICOM,\n    skip: 128,\n    header: Array.from('DICM').map((c) => c.charCodeAt(0)),\n  },\n];\n\nfunction prefixEquals(target, prefix) {\n  if (prefix.length > target.length) {\n    return false;\n  }\n  for (let i = 0; i < prefix.length; i += 1) {\n    if (prefix[i] !== target[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * Returns the file extension for a given filename\n * @param {String} name\n */\nexport function getFileExtension(name) {\n  const idx = name.lastIndexOf('.');\n  if (idx > -1) {\n    return name.slice(idx + 1);\n  }\n  return '';\n}\n\n/**\n * Returns file type based on magic\n * @param {File} file\n */\nexport async function getFileMagic(file) {\n  return new Promise((resolve, reject) => {\n    const head = file.slice(0, HEAD_CHUNK);\n    const reader = new window.FileReader();\n    reader.onload = () => {\n      const chunk = new Uint8Array(reader.result);\n      for (let i = 0; i < FILE_MAGIC_DB.length; i += 1) {\n        const { type, header, skip = 0 } = FILE_MAGIC_DB[i];\n        if (prefixEquals(chunk.slice(skip), header)) {\n          resolve(type);\n          return;\n        }\n      }\n      reject(new Error('Unknown file'));\n    };\n    reader.readAsArrayBuffer(head);\n  });\n}\n\nasync function readFileAs(file, type) {\n  return new Promise((resolve) => {\n    const fio = new window.FileReader();\n    fio.onload = () => resolve(fio.result);\n    const method = `readAs${type}`;\n    if (!fio[method]) {\n      throw new TypeError(`readAs${type} is not a function`);\n    }\n    fio[method](file);\n  });\n}\n\n/**\n * Reads a file and returns an ArrayBuffer\n * @param {File} file\n */\nexport async function readFileAsArrayBuffer(file) {\n  return readFileAs(file, 'ArrayBuffer');\n}\n\n/**\n * Reads a file and returns UTF-8 text\n * @param {File} file\n */\nexport async function readFileAsUTF8Text(file) {\n  return readFileAs(file, 'Text');\n}\n\nexport class FileLoader {\n  constructor() {\n    this.fileReaders = Object.create(null);\n    // Cache for file type. Prevents re-reading magic every time.\n    this.typeCache = new WeakMap();\n  }\n\n  /**\n   * Registers a file reader, which takes in a file and outputs a dataset.\n   *\n   * File type is treated case-insensitively.\n   * @param {String} fileType the file type to handle\n   * @param {Function} readerFunc a function with signature File -> (vtkObject|Promise<vtkObject>)\n   */\n  registerReader(fileType, readerFunc) {\n    this.fileReaders[fileType.toLowerCase()] = readerFunc;\n  }\n\n  /**\n   * Returns a reader for a file type\n   * @param {String} fileType\n   * @returns ReaderFunction|null\n   */\n  getReader(fileType) {\n    return this.fileReaders[fileType.toLowerCase()] || null;\n  }\n\n  /**\n   * Infers the file type from a file\n   * @param {File} file\n   * @returns String|null\n   */\n  async getFileType(file) {\n    if (this.typeCache.has(file)) {\n      return this.typeCache.get(file);\n    }\n\n    let type = null;\n\n    const extension = getFileExtension(file.name).toLowerCase();\n    if (extension) {\n      type = extension;\n    } else {\n      const magic = (await getFileMagic(file)).toLowerCase();\n      if (magic) {\n        type = magic;\n      }\n    }\n\n    this.typeCache.set(file, type);\n    return type;\n  }\n\n  /**\n   * Determines if a file can be handled.\n   * @param {File} file\n   * @returns Boolean\n   */\n  canRead(file) {\n    const type = this.getFileType(file);\n    return !!this.fileReaders[type];\n  }\n\n  /**\n   * Parses a single file to produce a single output dataset.\n   *\n   * @param {File} file\n   * @returns vtkObject|null\n   * @throws Error either the type info is not found or no reader is found\n   */\n  async parseFile(file) {\n    const type = this.getFileType(file);\n    if (!type) {\n      throw new Error(`No type info found for ${file.name}`);\n    }\n\n    const reader = this.fileReaders[type];\n    if (!reader) {\n      throw new Error(`No reader found for ${file.name}`);\n    }\n\n    return reader(file);\n  }\n}\n","import { FileTypes } from '../io/io';\n\nexport default ({ loader, dicomDB }) => ({\n  namespaced: true,\n\n  state: {\n    errors: {},\n    patients: [], // Patient[]\n    patientStudies: {}, // PatientID -> Study[]\n    studySeries: {}, // StudyUID -> Series[]\n  },\n\n  mutations: {\n    setError(state, { name, error }) {\n      state.errors = {\n        ...state.errors,\n        [name]: error,\n      };\n    },\n\n    updatePatients(state, patients) {\n      state.patients = patients;\n    },\n\n    updateStudies(state, patientStudies) {\n      state.patientStudies = patientStudies;\n    },\n\n    updateSeries(state, studySeries) {\n      state.studySeries = studySeries;\n    },\n\n    updateImages(state, seriesImages) {\n      state.seriesImages = seriesImages;\n    },\n  },\n\n  actions: {\n\n    /**\n     * Loads a list of files into the application.\n     *\n     * Returns an object that maps file names to error objects.\n     * If no errors are encountered, then the object is empty.\n     * @param {[]File} files\n     */\n    async loadFiles({ commit, dispatch }, files) {\n      const results = await Promise.allSettled(files.map((file) => dispatch('loadSingleFile', file)));\n      results.forEach((result, index) => {\n        if (result.status === 'rejected') {\n          const fileName = files[index].name;\n          commit('setError', fileName, result.reason);\n        }\n      });\n\n      return dispatch('updateDICOM');\n    },\n\n    /**\n     * Loads a single file\n     *\n     * Returns an object: {}\n     * @param {*} file\n     */\n    async loadSingleFile(_, file) {\n      if (await loader.getFileType(file) === FileTypes.DICOM) {\n        await dicomDB.importFile(file);\n      } else {\n        await loader.parseFile(file);\n      }\n    },\n\n    updateDICOM({ commit }) {\n      dicomDB.postProcess();\n\n      const patients = dicomDB.getPatients();\n      const studies = dicomDB.getPatientStudyMap();\n      const series = dicomDB.getStudySeriesMap();\n      const images = dicomDB.getSeriesImagesMap();\n      commit('updatePatients', Array.from(patients));\n      commit('updateStudies', { ...studies });\n      commit('updateSeries', { ...series });\n      commit('updateImages', { ...images });\n    },\n  },\n});\n","import Vue from 'vue';\nimport Vuex from 'vuex';\n\nimport datasetsModule from './datasets';\n\nVue.use(Vuex);\n\nconst modules = (services) => ({\n  datasets: datasetsModule(services),\n});\n\nexport default (services) => new Vuex.Store({\n  state: {\n  },\n  mutations: {\n  },\n  actions: {\n  },\n  modules: modules(services),\n});\n","import Vue from 'vue';\nimport Vuetify from 'vuetify/lib';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n});\n","function unsubscribeList(l = []) {\n  while (l.length > 0) {\n    l.pop().unsubscribe();\n  }\n}\n\nexport function ProxyManagerVuexPlugin(pxm) {\n  const pxmSubs = [];\n  const proxySubs = {};\n  return (store) => {\n    const dispatch = (action, payload) => {\n      // hacky way to only dispatch actions that have been registered\n      /* eslint-disable-next-line no-underscore-dangle */\n      if (action in store._actions) {\n        store.dispatch(action, payload);\n      }\n    };\n\n    pxmSubs.push(\n      pxm.onProxyRegistrationChange((info) => {\n        const { action, proxyId, proxy } = info;\n        if (action === 'register') {\n          dispatch('pxmProxyCreated', info);\n          proxySubs[proxyId] = proxy.onModified((p) => dispatch('pxmProxyModified', p));\n        } else if (proxyId in proxySubs) {\n          proxySubs[proxyId].unsubscribe();\n          dispatch('pxmProxyDeleted', info);\n        }\n        dispatch('pxmProxyRegistrationChange', info);\n      }),\n    );\n\n    pxmSubs.push(\n      pxm.onActiveSourceChange((source) => dispatch('pxmActiveSourceChange', source)),\n    );\n\n    pxmSubs.push(\n      pxm.onActiveViewChange((view) => dispatch('pxmActiveViewChange', view)),\n    );\n  };\n}\n\nconst pxmSubsKey = Symbol('PXM_SUBS');\nconst proxySubsKey = Symbol('PROXY_SUBS');\n\nexport const ProxyManagerVuePlugin = {\n  install(Vue) {\n    Vue.mixin({\n      beforeCreate() {\n        const opts = this.$options;\n        this.$proxyManager = opts.proxyManager || (opts.parent && opts.parent.$proxyManager);\n      },\n      mounted() {\n        if (this.$options.proxyManagerHooks) {\n          const pxmSubs = [];\n          const proxySubs = {};\n\n          const hooks = this.$options.proxyManagerHooks;\n\n          if (\n            hooks.onProxyCreated\n            || hooks.onProxyModified\n            || hooks.onProxyDeleted\n            || hooks.onProxyRegistrationChange\n          ) {\n            if (hooks.onProxyModified) {\n              // hook into all existing proxies\n              // I hope this doesn't incur much perf issues\n              const groups = this.$proxyManager.getProxyGroups();\n              let proxies = [];\n              for (let i = 0; i < groups.length; i++) {\n                const name = groups[i];\n                proxies = proxies.concat(\n                  this.$proxyManager.getProxyInGroup(name),\n                );\n              }\n              for (let i = 0; i < proxies.length; i++) {\n                const proxy = proxies[i];\n                proxySubs[proxy.getProxyId()] = proxy.onModified((p) => hooks.onProxyModified.call(this, p));\n              }\n            }\n\n            pxmSubs.push(\n              this.$proxyManager.onProxyRegistrationChange((info) => {\n                const { action, proxyId, proxy } = info;\n                if (action === 'register') {\n                  if (hooks.onProxyCreated) {\n                    hooks.onProxyCreated.call(this, info);\n                  }\n                  if (hooks.onProxyModified) {\n                    proxySubs[proxyId] = proxy.onModified((p) => hooks.onProxyModified.call(this, p));\n                  }\n                } else if (action === 'unregister') {\n                  if (proxyId in proxySubs) {\n                    proxySubs[proxyId].unsubscribe();\n                    delete proxySubs[proxyId];\n                  }\n                  if (hooks.onProxyDeleted) {\n                    hooks.onProxyDeleted.call(this, info);\n                  }\n                }\n                if (hooks.onProxyRegistrationChange) {\n                  hooks.onProxyRegistrationChange.call(this, info);\n                }\n              }),\n            );\n          }\n\n          if (hooks.onActiveSourceChange) {\n            pxmSubs.push(\n              this.$proxyManager.onActiveSourceChange((s) => hooks.onActiveSourceChange.call(this, s)),\n            );\n          }\n\n          if (hooks.onActiveViewChange) {\n            pxmSubs.push(\n              this.$proxyManager.onActiveViewChange((v) => hooks.onActiveViewChange.call(this, v)),\n            );\n          }\n\n          this[pxmSubsKey] = pxmSubs;\n          this[proxySubsKey] = proxySubs;\n        }\n      },\n      beforeDestroy() {\n        if (this[pxmSubsKey]) {\n          unsubscribeList(this[pxmSubsKey]);\n        }\n        if (this[proxySubsKey]) {\n          unsubscribeList(Object.values(this[proxySubsKey]));\n          this[proxySubsKey] = {};\n        }\n      },\n    });\n  },\n};\n","/**\n * This should only be used for signalling between unrelated components.\n * Data and state should NOT be passed around.\n */\nexport default {\n  install(Vue) {\n    /* eslint-disable-next-line no-param-reassign */\n    Vue.prototype.$eventBus = new Vue();\n  },\n};\n","import vtkXMLImageDataReader from 'vtk.js/Sources/IO/XML/XMLImageDataReader';\nimport vtkXMLPolyDataReader from 'vtk.js/Sources/IO/XML/XMLPolyDataReader';\nimport vtkSTLReader from 'vtk.js/Sources/IO/Geometry/STLReader';\nimport vtkITKImageReader from 'vtk.js/Sources/IO/Misc/ITKImageReader';\nimport extensionToImageIO from 'itk/extensionToImageIO';\nimport readImageArrayBuffer from 'itk/readImageArrayBuffer';\n\nimport { readFileAsArrayBuffer } from './io';\n\nvtkITKImageReader.setReadImageArrayBufferFromITK(readImageArrayBuffer);\n\nconst itkImageExtensions = Array.from(\n  new Set(Array.from(extensionToImageIO.keys()).map((ext) => ext.toLowerCase())),\n);\n\nexport async function itkReader(file) {\n  const fileBuffer = await readFileAsArrayBuffer(file);\n\n  const reader = vtkITKImageReader.newInstance();\n  reader.setFileName(file.name);\n  await reader.parseAsArrayBuffer(fileBuffer);\n\n  const dataset = reader.getOutputData();\n  // don't reference reader in this closure as to avoid memory leaks\n  return () => dataset;\n}\n\nexport async function vtkReaderFactory(vtkReaderClass, binary = true) {\n  return async function vtkReader(file) {\n    const fileBuffer = await readFileAsArrayBuffer(file);\n    const reader = vtkReaderClass.newInstance();\n    if (binary) {\n      reader.parseAsArrayBuffer(fileBuffer);\n    } else {\n      reader.parseAsText(fileBuffer);\n    }\n    const dataset = reader.getOutputData();\n    // don't reference reader in this closure as to avoid memory leaks\n    return () => dataset;\n  };\n}\n\nexport function registerAllReaders(io) {\n  itkImageExtensions.forEach((ext) => io.registerReader(ext, itkReader));\n  io.registerReader('vti', vtkReaderFactory(vtkXMLImageDataReader));\n  io.registerReader('vtp', vtkReaderFactory(vtkXMLPolyDataReader));\n  io.registerReader('stl', vtkReaderFactory(vtkSTLReader));\n}\n","import vtk2DView from 'vtk.js/Sources/Proxy/Core/View2DProxy';\nimport vtk3DView from 'vtk.js/Sources/Proxy/Core/ViewProxy';\n\nimport vtkLookupTableProxy from 'vtk.js/Sources/Proxy/Core/LookupTableProxy';\nimport vtkPiecewiseFunctionProxy from 'vtk.js/Sources/Proxy/Core/PiecewiseFunctionProxy';\n\nimport vtkProxySource from 'vtk.js/Sources/Proxy/Core/SourceProxy';\n\nimport vtkSliceRepresentationProxy from 'vtk.js/Sources/Proxy/Representations/SliceRepresentationProxy';\nimport vtkVolumeRepresentationProxy from 'vtk.js/Sources/Proxy/Representations/VolumeRepresentationProxy';\n\nfunction createProxyDefinition(\n  classFactory,\n  ui = [],\n  links = [],\n  definitionOptions = {},\n  props = {},\n) {\n  return {\n    class: classFactory,\n    options: { links, ui, ...definitionOptions },\n    props,\n  };\n}\n\nfunction createDefaultView(classFactory, options, props) {\n  return createProxyDefinition(classFactory, [], [], options, props);\n}\n\n// ----------------------------------------------------------------------------\n\nexport default {\n  definitions: {\n    Proxy: {\n      LookupTable: createProxyDefinition(vtkLookupTableProxy, [], [], {\n        presetName: 'Default (Cool to Warm)',\n      }),\n      PiecewiseFunction: createProxyDefinition(vtkPiecewiseFunctionProxy),\n    },\n    Sources: {\n      TrivialProducer: createProxyDefinition(vtkProxySource),\n      // differentiate LabelMaps\n      LabelMap: createProxyDefinition(vtkProxySource),\n    },\n    Representations: {\n      SliceZ: createProxyDefinition(\n        vtkSliceRepresentationProxy,\n        [/* ui */],\n        [\n          {\n            link: 'SliceZ',\n            property: 'slice',\n            updateOnBind: true,\n            type: 'application',\n          },\n        ],\n      ),\n    },\n    Views: {\n      ViewX: createDefaultView(vtk2DView, [/* ui */], { axis: 0 }),\n      ViewY: createDefaultView(vtk2DView, [/* ui */], { axis: 1 }),\n      ViewZ: createDefaultView(vtk2DView, [/* ui */], { axis: 2 }),\n    },\n  },\n  representations: {\n    ViewX: {\n      vtkImageData: { name: 'SliceX' },\n    },\n    ViewY: {\n      vtkImageData: { name: 'SliceY' },\n    },\n    ViewZ: {\n      vtkImageData: { name: 'SliceZ' },\n    },\n  },\n};\n","export const PATIENT_UNSPECIFIED = 'UNSPECIFIED';\n\n/* eslint-disable class-methods-use-this, no-unused-vars */\nexport default class DICOMDatabase {\n  /**\n   * Imports a DICOM file into the database\n   * @param {File} file\n   */\n  async importFile(file) { throw new Error('Abstract'); }\n\n  /**\n   * Run any post-processing tasks.\n   */\n  async postProcess() { throw new Error('Abstract'); }\n\n  /**\n   * Returns a list of patients.\n   */\n  getPatients() { throw new Error('Abstract'); }\n\n  /**\n   * Returns a mapping from patient ID to an array of studies.\n   */\n  getPatientStudyMap() { throw new Error('Abstract'); }\n\n  /**\n   * Returns a mapping from a study UID to an array of series.\n   */\n  getStudySeriesMap() { throw new Error('Abstract'); }\n\n  /**\n   * Returns a mapping from a series UID to an array of images.\n   *\n   * Order of images may be affected by calls to postProcess().\n   */\n  getSeriesImagesMap() { throw new Error('Abstract'); }\n\n  /**\n   * Gets the series dataset as a single vtkObject, if applicable.\n   * @param {String} seriesID\n   * @returns vtkObject|null\n   */\n  async getSeriesAsDataset(seriesID) { throw new Error('Abstract'); }\n}\n/* eslint-enable */\n","export default class Patient {\n  constructor(data) {\n    this.patientID = null;\n    this.name = null;\n    this.birthDate = null;\n    this.sex = null;\n    this.comments = null;\n\n    if (data) {\n      this.update(data);\n    }\n  }\n\n  update(newData) {\n    this.patientID = newData.patientID || this.patientID;\n    this.name = newData.name || this.name;\n    this.birthDate = newData.birthDate || this.birthDate;\n    this.sex = newData.sex || this.sex;\n    this.comments = newData.comments || this.comments;\n  }\n}\n","export default class Study {\n  constructor(data) {\n    this.instanceUID = null;\n    this.studyID = null;\n    this.date = null;\n    this.time = null;\n    this.accessionNumber = null;\n    this.description = null;\n\n    if (data) {\n      this.update(data);\n    }\n  }\n\n  update(newData) {\n    this.instanceUID = newData.instanceUID || this.instanceUID;\n    this.studyID = newData.studyID || this.studyID;\n    this.date = newData.date || this.date;\n    this.time = newData.time || this.time;\n    this.accessionNumber = newData.accessionNumber || this.accessionNumber;\n    this.description = newData.description || this.description;\n  }\n}\n","export default class Series {\n  constructor(data) {\n    this.instanceUID = null;\n    this.modality = null;\n    this.number = null;\n    this.date = null;\n    this.time = null;\n    this.description = null;\n\n    if (data) {\n      this.update(data);\n    }\n  }\n\n  update(newData) {\n    this.instanceUID = newData.instanceUID || this.instanceUID;\n    this.modality = newData.modality || this.modality;\n    this.number = newData.number || this.number;\n    this.date = newData.date || this.date;\n    this.time = newData.time || this.time;\n    this.description = newData.description || this.description;\n  }\n}\n","export default class Image {\n  constructor(data) {\n    this.instanceNumber = null;\n    this.imageType = null;\n    this.comments = null;\n    this.filename = null;\n    this.pixelData = null;\n    this.rows = null;\n    this.cols = null;\n    this.minValue = null;\n    this.maxValue = null;\n\n    if (data) {\n      this.update(data);\n    }\n  }\n\n  update(newData) {\n    this.instanceNumber = newData.instanceNumber || this.instanceNumber;\n    this.imageType = newData.imageType || this.imageType;\n    this.number = newData.number || this.number;\n    this.date = newData.date || this.date;\n    this.comments = newData.comments || this.comments;\n    this.filename = newData.filename || this.filename;\n    this.pixelData = newData.pixelData || this.pixelData;\n    this.rows = newData.rows || this.rows;\n    this.cols = newData.cols || this.cols;\n    this.minValue = newData.minValue || this.minValue;\n    this.maxValue = newData.maxValue || this.maxValue;\n  }\n}\n","import Daikon from 'daikon';\n\nimport DICOMDatabase, { PATIENT_UNSPECIFIED } from './database';\nimport { readFileAsArrayBuffer } from '../io';\nimport Patient from './patient';\nimport Study from './study';\nimport Series from './series';\nimport Image from './image';\n\nfunction extractValue(tag) {\n  return tag.value ? tag.value[0] : null;\n}\n\nexport default class DaikonDatabase extends DICOMDatabase {\n  constructor() {\n    super();\n    this.$daikonSeries = {}; // seriesId -> Daikon.Series\n    this.$patients = [];\n    this.$patientTable = {}; // patientID -> Patient\n    this.$patientStudies = {}; // patientID -> Study[]\n    this.$studyTable = {}; // studyID -> Study\n    this.$studySeries = {}; // studyID -> Series[]\n    this.$seriesTable = {}; // seriesID -> Series\n    this.$seriesImages = {}; // seriesID -> Image[]\n  }\n\n  async importFile(file) {\n    const buf = await readFileAsArrayBuffer(file);\n    const image = Daikon.Series.parseImage(new DataView(buf));\n    if (!image) {\n      throw new Error(`Failed to read image from ${file.name}`);\n    }\n    if (!image.hasPixelData()) {\n      throw new Error(`Image ${file.name} did not have pixel data`);\n    }\n\n    const seriesUID = image.getSeriesInstanceUID();\n\n    // ensure we don't add a duplicate\n    if (this.$seriesImages[seriesUID]) {\n      const instanceNumber = image.getImageNumber();\n      const dup = this.$seriesImages[seriesUID].find((im) => (im.instanceNumber === instanceNumber)\n        && file.name === im.filename);\n      if (dup) {\n        return;\n      }\n    }\n\n    // add image to daikon Series\n    if (!(seriesUID in this.$daikonSeries)) {\n      this.$daikonSeries[seriesUID] = new Daikon.Series();\n    }\n    this.$daikonSeries[seriesUID].addImage(image);\n\n    this.updateDB(image, file.name);\n  }\n\n  async postProcess() {\n    Object.keys(this.$daikonSeries).forEach((id) => {\n      this.$daikonSeries[id].buildSeries();\n      // TODO re-order $seriesImages\n    });\n  }\n\n  getPatients() { return this.$patients; }\n\n  getPatientStudyMap() { return this.$patientStudies; }\n\n  getStudySeriesMap() { return this.$studySeries; }\n\n  getSeriesImagesMap() { return this.$seriesImages; }\n\n  async getSeriesAsDataset(seriesID) {\n    return new Promise((resolve, reject) => {\n      const series = this.$daikonSeries[seriesID];\n      if (series) {\n        series.concatenateImageData(null, resolve);\n      } else {\n        reject(new Error(`Cannot find series ${seriesID}`));\n      }\n    });\n  }\n\n  updateDB(daikonImage, filename) {\n    const patientID = daikonImage.getPatientID() || PATIENT_UNSPECIFIED;\n    if (!(patientID in this.$patientTable)) {\n      const newPatient = new Patient({ patientID });\n      this.$patients.push(newPatient);\n      this.$patientTable[patientID] = newPatient;\n      this.$patientStudies[patientID] = [];\n    }\n\n    const patientData = {\n      name: daikonImage.getPatientName(),\n      birthDate: extractValue(daikonImage.getTag(0x0010, 0x0030)),\n      sex: extractValue(daikonImage.getTag(0x0010, 0x0040)),\n      comments: extractValue(daikonImage.getTag(0x0010, 0x4000)),\n    };\n    const patient = this.$patientTable[patientID];\n    patient.update(patientData);\n\n    const studyInstanceUID = extractValue(daikonImage.getTag(0x0020, 0x000D));\n    if (!(studyInstanceUID in this.$studyTable)) {\n      const newStudy = new Study({ instanceUID: studyInstanceUID });\n      this.$patientStudies[patientID].push(newStudy);\n      this.$studyTable[studyInstanceUID] = newStudy;\n      this.$studySeries[studyInstanceUID] = [];\n    }\n\n    const studyData = {\n      studyID: extractValue(daikonImage.getTag(0x0020, 0x0010)),\n      date: daikonImage.getStudyDate(),\n      time: daikonImage.getStudyTime(),\n      accessionNumber: extractValue(daikonImage.getTag(0x0008, 0x0050)),\n      description: extractValue(daikonImage.getTag(0x0008, 0x1030)),\n    };\n    const study = this.$studyTable[studyInstanceUID];\n    study.update(studyData);\n\n    const seriesInstanceUID = daikonImage.getSeriesInstanceUID();\n    if (!(seriesInstanceUID in this.$seriesTable)) {\n      const newSeries = new Series({ instanceUID: seriesInstanceUID });\n      this.$studySeries[studyInstanceUID].push(newSeries);\n      this.$seriesTable[seriesInstanceUID] = newSeries;\n      this.$seriesImages[seriesInstanceUID] = [];\n    }\n\n    const seriesData = {\n      modality: daikonImage.getModality(),\n      number: daikonImage.getSeriesNumber(),\n      date: extractValue(daikonImage.getTag(0x0008, 0x0021)),\n      time: extractValue(daikonImage.getTag(0x0008, 0x0031)),\n      description: daikonImage.getSeriesDescription(),\n    };\n    const series = this.$seriesTable[seriesInstanceUID];\n    series.update(seriesData);\n\n    const image = new Image({\n      instanceNumber: daikonImage.getImageNumber(),\n      imageType: daikonImage.getImageType(),\n      comments: extractValue(daikonImage.getTag(0x0020, 0x4000)),\n      filename,\n      pixelData: daikonImage.getInterpretedData(false, false),\n      rows: daikonImage.getRows(),\n      cols: daikonImage.getCols(),\n      minValue: daikonImage.getImageMin(),\n      maxValue: daikonImage.getImageMax(),\n    });\n    this.$seriesImages[seriesInstanceUID].push(image);\n  }\n}\n","import '@/public/global.css';\n\nimport Vue from 'vue';\nimport vtkProxyManager from 'vtk.js/Sources/Proxy/Core/ProxyManager';\nimport App from './App.vue';\nimport createStore from './store';\nimport vuetify from './plugins/vuetify';\nimport { ProxyManagerVuePlugin } from './plugins/proxyManager';\nimport EventBusPlugin from './plugins/events';\nimport { FileLoader } from './io/io';\nimport { registerAllReaders } from './io/readers';\nimport proxyConfiguration from './proxy';\nimport DaikonDatabase from './io/dicom/daikon';\n\nVue.config.productionTip = false;\n\nVue.use(ProxyManagerVuePlugin);\nVue.use(EventBusPlugin);\n\nconst proxyManager = vtkProxyManager.newInstance({ proxyConfiguration });\n\nconst loader = new FileLoader();\nregisterAllReaders(loader);\n\nconst dicomDB = new DaikonDatabase();\n\nconst services = {\n  proxyManager,\n  loader,\n  dicomDB,\n};\n\nnew Vue({\n  store: createStore(services),\n  vuetify,\n  proxyManager,\n  render: (h) => h(App),\n}).$mount('#app');\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--23-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatientBrowser.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--23-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatientBrowser.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--23-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatientBrowser.vue?vue&type=style&index=1&id=d0868a1e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--23-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PatientBrowser.vue?vue&type=style&index=1&id=d0868a1e&scoped=true&lang=css&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js??ref--23-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=1&id=3cf9f198&scoped=true&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js??ref--23-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=1&id=3cf9f198&scoped=true&lang=css&\""],"sourceRoot":""}